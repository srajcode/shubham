"use strict";function getData(e){return showLoader(),new Promise(function(t,a){var o={async:!0,url:e,method:"GET",contentType:"application/json; charset=utf-8",datatype:"json"};$.ajax(o).done(function(e){hideLoader();var a=JSON.parse(e);t(a)}).error(function(e){hideLoader(),a(e)})})}function getDataWithoutLoader(e){return new Promise(function(t,a){var o={async:!0,url:e,method:"GET",contentType:"application/json; charset=utf-8",datatype:"json"};$.ajax(o).done(function(e){var a=JSON.parse(e);t(a)}).error(function(e){a(e)})})}function postDetails(e,t){return showLoader(),new Promise(function(a,o){$.ajax({type:"POST",url:e,data:t,contentType:"application/json; charset=utf-8",datatype:"json",async:"true"}).done(function(e){hideLoader();var t=JSON.parse(e);a(t)}).error(function(e){hideLoader(),o(e)})})}function postDetailsWithoutLoader(e,t){return new Promise(function(a,o){$.ajax({type:"POST",url:e,data:t,contentType:"application/json; charset=utf-8",datatype:"json",async:"true"}).done(function(e){var t=JSON.parse(e);a(t)}).error(function(e){o(e)})})}function showLoader(){$(".custom-loader").show()}function hideLoader(){var e=$(".custom-loader");e.fadeOut(500)}function jsUcfirst(e){return e?e.charAt(0).toUpperCase()+e.slice(1):""}function getDataFromLocal(e){return JSON.parse(localStorage.getItem(e))}function setDataInLocal(e,t){localStorage.setItem(e,t)}function removeDataInLocal(e){localStorage.removeItem(e)}function addWishList(e){var t=getDataFromLocal("wishlist");t?(t.push(e),setDataInLocal("wishlist",JSON.stringify(t)),$(".carwishlist").find(".wishlistCount").text(t.length+"")):($(".carwishlist").find(".wishlistCount").text("1"),setDataInLocal("wishlist",JSON.stringify([e])));for(var a=$(".wishcarousel").find(".item").length,o=0;o<a;o++)$(".wishcarousel").trigger("remove.owl.carousel",[o]).trigger("refresh.owl.carousel");postDetails("/api/sitecore/CarListing/AddWishListItem",JSON.stringify({carid:e.carid})).then(function(e){console.log(e)})["catch"](function(e){console.log(e)}),setWishList()}function setWishList(){var e=getDataFromLocal("wishlist");e.length>0?$(".wishlist_content").find(".compareNowButt").show():$(".wishlist_content").find(".compareNowButt").hide(),$(".wishCarBoxMain").empty();for(var t=0;t<e.length;t++)$(".wishCarBoxMain").append("<div class='compareCarBox'> <div class='vsIcon'><img src='/assets/TRV/images/compare-cars/vs-icon.png' alt=''></div><div class='compareCarImg'><img src='"+e[t].carimage+"' alt=''></div><div class='compareCarContent'><h3>"+e[t].carname+"</h3><p>₹"+withoutCommaSepratedPrice(e[t].price)+"</p></div><span class='removeCarFromwish' data-carid="+e[t].carid+"><a href='javascript:void(0);'><img class='forDesktop' src='/assets/TRV/images/compare-cars/cross.png' alt=''><img class='forMobile' src='/assets/TRV/images/compare-cars/cross-mob.png' alt=''></a></span></div>");show_hideCompare()}function removeWishList(e){var t=getDataFromLocal("wishlist");if(t){t=t.filter(function(t){return t.carid!==e.carid}),setDataInLocal("wishlist",JSON.stringify(t)),$(".carwishlist").find(".wishlistCount").text(t.length+"");var a=window.location.pathname;~a.indexOf("my-account")&&location.reload(),$(".shareIcon").find(".icon1").each(function(){e.carid==$(this).data("carid")&&$(this).toggleClass("active")});for(var o=$(".wishcarousel").find(".item").length,i=0;i<o;i++)$(".wishcarousel").trigger("remove.owl.carousel",[i]).trigger("refresh.owl.carousel");postDetails("/api/sitecore/CarListing/DeleteWishListItem",JSON.stringify({carid:e.carid})).then(function(e){console.log(e)})["catch"](function(e){console.log(e)}),setWishList()}}function addCompare(e){var t=getDataFromLocal("compare");t?(t.push(e),setDataInLocal("compare",JSON.stringify(t)),$(".carcompare").find(".compareCount").text(t.length+""),$(".comparebtn").find(".compareCount").text(t.length+"")):($(".carcompare").find(".compareCount").text("1"),$(".comparebtn").find(".compareCount").text("1"),setDataInLocal("compare",JSON.stringify([e]))),setCompareList()}function removeCompare(e){var t=$("#pagetype").val();if("carmela"==t){var a=getDataFromLocal("compareEmela");if(a&&(a=a.filter(function(t){return t.carid!==e.carid}),setDataInLocal("compareEmela",JSON.stringify(a)),$(".carcompare").find(".compareCount").text(a.length+""),$(".comparebtn").find(".compareCount").text(a.length+""),$(".checkbox_wrapper").find("#compareCheckBox, #compareCheckBox_listing").each(function(){e.carid==$(this).data("carid")&&$(this).prop("checked",!1)}),setCompareList(),window.location.href.toLowerCase().toString().indexOf("comparecars")>-1)){for(var o="",i=0;i<=a.length-1;i++)o+=a[i].carid+",";window.location.href="/emela/comparecars?cars="+o.substring(0,o.lastIndexOf(","))}}else{var a=getDataFromLocal("compare");if(a&&(a=a.filter(function(t){return t.carid!==e.carid}),setDataInLocal("compare",JSON.stringify(a)),$(".carcompare").find(".compareCount").text(a.length+""),$(".comparebtn").find(".compareCount").text(a.length+""),$(".checkbox_wrapper").find("#compareCheckBox, #compareCheckBox_listing").each(function(){e.carid==$(this).data("carid")&&$(this).prop("checked",!1)}),setCompareList(),window.location.href.toLowerCase().toString().indexOf("comparecars")>-1)){for(var o="",i=0;i<=a.length-1;i++)o+=a[i].carid+",";window.location.href="/comparecars?cars="+o.substring(0,o.lastIndexOf(","))}}}function setCompareList(){var e=$("#pagetype").val();if("carmela"==e){var t=getDataFromLocal("compareEmela");$(".compareCarBoxMain").empty(),t.length>1?$(".comparecar_content").find(".compareNowButt").show():$(".comparecar_content").find(".compareNowButt").hide();for(var a=0;a<t.length;a++)$(".compareCarBoxMain").append("<div class='compareCarBox'> <div class='vsIcon'><img src='/assets/TRV/images/compare-cars/vs-icon.png' alt=''></div><div class='compareCarImg'><img src='"+t[a].carimage+"' alt=''></div><div class='compareCarContent'><h3>"+t[a].carname+"</h3><p>₹"+t[a].price+"</p></div><span class='removeCar' data-carid="+t[a].carid+"><a href='javascript:void(0);'><img class='forDesktop' src='/assets/TRV/images/compare-cars/cross.png' alt=''><img class='forMobile' src='/assets/TRV/images/compare-cars/cross-mob.png' alt=''></a></span></div>");show_hideCompare()}else{var t=getDataFromLocal("compare");$(".compareCarBoxMain").empty(),t.length>1?$(".comparecar_content").find(".compareNowButt").show():$(".comparecar_content").find(".compareNowButt").hide();for(var a=0;a<t.length;a++)"booked"==t[a].bookStatus?$(".compareCarBoxMain").append("<div class='compareCarBox'> <div class='vsIcon'><img src='/assets/TRV/images/compare-cars/vs-icon.png' alt=''></div><div class='compareCarImg'><img class='bookedImg' src='/assets/TRV/images/car-detail/booked-img3.png'><img src='"+t[a].carimage+"' alt=''></div><div class='compareCarContent'><h3>"+t[a].carname+"</h3><p>₹"+t[a].price+"</p></div><span class='removeCar' data-carid="+t[a].carid+"><a href='javascript:void(0);'><img class='forDesktop' src='/assets/TRV/images/compare-cars/cross.png' alt=''><img class='forMobile' src='/assets/TRV/images/compare-cars/cross-mob.png' alt=''></a></span></div>"):$(".compareCarBoxMain").append("<div class='compareCarBox'> <div class='vsIcon'><img src='/assets/TRV/images/compare-cars/vs-icon.png' alt=''></div><div class='compareCarImg'><img src='"+t[a].carimage+"' alt=''></div><div class='compareCarContent'><h3>"+t[a].carname+"</h3><p>₹"+t[a].price+"</p></div><span class='removeCar' data-carid="+t[a].carid+"><a href='javascript:void(0);'><img class='forDesktop' src='/assets/TRV/images/compare-cars/cross.png' alt=''><img class='forMobile' src='/assets/TRV/images/compare-cars/cross-mob.png' alt=''></a></span></div>");show_hideCompare()}}function toCommaSepratedPrice(e){e=e=Math.round(e);var t=e.toString(),a="";t.indexOf(".")>0&&(a=e.substring(t.indexOf("."),t.length)),t=Math.floor(t),t=t.toString();var o=t.substring(t.length-3),i=t.substring(0,t.length-3);return""!=i&&(o=","+o),t=i.replace(/\B(?=(\d{2})+(?!\d))/g,",")+o+a}function withoutCommaSepratedPrice(e){e=e=Math.round(e);var t=e.toString(),a="";t.indexOf(".")>0&&(a=e.substring(t.indexOf("."),t.length)),t=Math.floor(t),t=t.toString();var o=t.substring(t.length-3),i=t.substring(0,t.length-3);return""!=i&&(o=" "+o),t=i.replace(/\B(?=(\d{2})+(?!\d))/g," ")+o+a}function show_hideCompare(){var e=$("#pagetype").val();if("carmela"==e){var t=getDataFromLocal("compareEmela"),a=getDataFromLocal("wishlist");a&&a.length||t&&t.length?$(".compareCarsMain").show():$(".compareCarsMain").hide()}else{var t=getDataFromLocal("compare"),a=getDataFromLocal("wishlist");a&&a.length||t&&t.length?$(".compareCarsMain").show():$(".compareCarsMain").hide()}}function filterItems(e,t){return e.filter(function(e){return e.toLowerCase().indexOf(t.toLowerCase())>-1})}function removeDuplicates(e){var t=[],a=[];return $.each(e,function(e,o){$.inArray(o._source.terms.toLowerCase(),t)==-1&&(t.push(o._source.terms.toLowerCase()),a.push(o))}),a}function searchClicked(e){$(window).width()<1e3?13==event.keyCode&&(window.location="/buy-car#query="+e,event.preventDefault()):13==event.keyCode&&event.preventDefault()}function searchCarModal(e){if($("#searchList").empty(),e.length>1){var t="<ul id='scroll-1' class='list-group scrollbar'>";$(".loader").show(),postDetailsWithoutLoader("/api/sitecore/Menu/GetSearch",JSON.stringify({terms:e.toLowerCase()})).then(function(e){var a=[];if(e.hits.total>0){for(var o=removeDuplicates(e.hits.hits),i=0;i<o.length;i++)t+="<li onclick=\"selectSearch('"+o[i]._source.url+"')\">"+o[i]._source.terms.toUpperCase().replace(/\+/g," ")+"</li>",a.push(o[i]._source.terms.toUpperCase().replace(/\+/g," "));t+="</ul>",searchdata(a),$("#searchList").empty(),$("#searchList").append(t),$("#searchList li:first-child").addClass("selected"),$(".loader").hide()}else getDataWithoutLoader("/api/sitecore/Menu/GetCustomSearchSuggestion").then(function(e){for(var a=0;a<e.data.length;a++)t+="<li onclick=\"selectSearch('"+e.data[a].url+"')\">"+e.data[a].title.toUpperCase().replace(/\+/g," ")+"</li>";t+="</ul>",$("#searchList").empty(),$("#searchList").append(t),$("#searchList li:first-child").addClass("selected"),$(".loader").hide()})["catch"](function(e){console.log(e)})})["catch"](function(e){})}}function selectSearch(e){"/"!=window.location.pathname||window.location.hash?(history.pushState("",document.title,"/"),window.location=e):window.location=e}function getUrlParameter(e){var t,a,o=decodeURIComponent(window.location.search),i=o.substring(1),r=i.split("&");for(a=0;a<r.length;a++)if(t=r[a].split("="),t[0]===e)return void 0===t[1]||decodeURIComponent(t[1])}function getUrlParameterWithHash(e){var t,a,o=window.location.href,i=o.split("#"),r=i[1]?i[1].split("&"):[];for(a=0;a<r.length;a++)if(t=r[a].split("="),t[0]===e)return void 0===t[1]||decodeURIComponent(t[1])}function AlterQueryString1(e,t,a){var o=new RegExp("([?&])"+t+"=.*?(&|$)","i"),i=e.indexOf("?")!==-1?"&":"?";return e.match(o)?e.replace(o,"$1"+t+"="+a+"$2"):e+i+t+"="+a}function AlterQueryString(e,t,a){var o=new URL(e),i=new URL("https://dummy.com");return i.search=o.hash.substring(1),i.searchParams.set(t,a),o.hash=i.searchParams,o.href}function AlterQueryStringWithoutEncodeURI(e,t,a){var o=new URL(e),i=new URL("https://dummy.com");return i.search=o.hash.substring(1),i.searchParams.set(t,a),o.hash=i.searchParams,o.href}function removeURLParameter(e,t){var a=e.split("#");if(a.length>=2){for(var o=encodeURIComponent(t)+"=",i=a[1].split(/[&;]/g),r=i.length;r-- >0;)i[r].lastIndexOf(o,0)!==-1&&i.splice(r,1);return e=i[0]?a[0]+"#"+i.join("&"):a[0]}return e}function getUrlVars(){for(var e,t=[],a=window.location.href.slice(window.location.href.indexOf("#")+1).split("&"),o=0;o<a.length;o++)e=a[o].split("="),t.push(e[0]);return t}function resendOTP(e){return new Promise(function(t,a){$.ajax({type:"POST",url:"/api/sitecore/Forms/ResendOTP",data:e,contentType:"application/json; charset=utf-8",datatype:"json",async:"true"}).done(function(e){var a=JSON.parse(e);t(a)}).error(function(e){a(e)})})}function timeInterval(e){$(".resendbtn").text(""),clearInterval(downloadTimer),timeleft=30,downloadTimer=setInterval(function(){if($(e).html(timeleft+" seconds"),timeleft-=1,timeleft<=0){clearInterval(downloadTimer),$(e).hide();var t=e.split("#"),a=t[0]+" #resendOTP";$(a).show(),$(".otpsent p").hide(),$(".otp-error").text(""),$(".resendbtn").text("RESEND")}else $(e).show()},1e3)}function spaceToHyphen(e){return e.split(" ").join("-").toLowerCase()}function timeInterval_login(e){$("#resendOTP_login").text(""),clearInterval(downloadTimer),timeleft=30,downloadTimer=setInterval(function(){if($(e).html(timeleft+" seconds"),timeleft-=1,timeleft<=0){clearInterval(downloadTimer),$(e).hide();var t=e.split("#"),a=t[0]+" #resendOTP_login";$(a).show(),$(".otpsent p").hide(),$(".otp-error").text(""),$("#resendOTP_login").text("RESEND")}else $(e).show()},1e3)}function onLoadGoogleCallback(){gapi.load("auth2",function(){var t=gapi.auth2.init({client_id:"437747321293-p19rncpo7r11ml5gqrn3fiuqg17rap51.apps.googleusercontent.com",cookiepolicy:"single_host_origin",scope:"profile"});t.attachClickHandler(e,{},function(e){var t=e.getBasicProfile();postDetails("/api/sitecore/UserAccount/SocialLogin",JSON.stringify({SocialId:t.getId(),Name:t.getName(),EmailAddress:t.getEmail(),SocialType:"G",MobileNumber:"",ImageUrl:t.getImageUrl()})).then(function(e){1==e.status?(loginMyAccount(e.status),loginUserId(e.UserUniqueId),window.open(e.RedirectToURL,"_self")):(loginMyAccount(e.status),$(".infoIconPopup .infoIconPopup_p").text(e.message),$(".errorModal").modal("show"))})["catch"](function(e){console.log(e)})},function(e){console.log("Sign-in error",e)})});var e=document.getElementById("googleSignIn")}function fbLogin(){FB.login(function(e){e.authResponse&&FB.api("/me",{fields:"name, email,id,picture.width(800).height(800)"},function(e){postDetailsWithoutLoader("/api/sitecore/UserAccount/SocialLogin",JSON.stringify({SocialId:e.id,Name:e.name,EmailAddress:e.email,SocialType:"F",MobileNumber:"",ImageUrl:e.picture.data.url})).then(function(e){1==e.status?(loginMyAccount(e.status),loginUserId(e.UserUniqueId),window.open(e.RedirectToURL,"_self")):(loginMyAccount(e.status),$(".infoIconPopup .infoIconPopup_p").text(e.message),$(".errorModal").modal("show"))})["catch"](function(e){console.log(e)})})},{scope:"email"})}function shareWhatsapp(e,t){if(ra.cfg.isMobile){var a=encodeURIComponent(t)+" - "+encodeURIComponent(e),o="whatsapp://send?text="+a;window.location.href=o}else{var a=encodeURIComponent(t)+" - "+encodeURIComponent(e),o="https://web.whatsapp.com/send?text="+a;window.open(o,"_blank")}}function titleCase(e){for(var t=e.toLowerCase().trim().split(" "),a=0;a<t.length;a++)t[a]=t[a].charAt(0).toUpperCase()+t[a].substring(1);return t.join(" ")}function validateNumber(e){var t=window.event?e.keyCode:e.which;return 8===e.keyCode||46===e.keyCode||!(t<48||t>57)}function arePointsNear(e,t,a){var o=4e4/360,i=Math.cos(Math.PI*t.lat/180)*o,r=Math.abs(t.lng-e.lng)*i,n=Math.abs(t.lat-e.lat)*o,l=Math.sqrt(r*r+n*n);return l.toFixed(2)}function distance(e,t,a,o,i){if(e==a&&t==o)return 0;var r=Math.PI*e/180,n=Math.PI*a/180,l=t-o,s=Math.PI*l/180,c=Math.sin(r)*Math.sin(n)+Math.cos(r)*Math.cos(n)*Math.cos(s);return c>1&&(c=1),c=Math.acos(c),c=180*c/Math.PI,c=60*c*1.1515,"K"==i&&(c=1.609344*c),"N"==i&&(c=.8684*c),c.toFixed(2)}function reloadPage(){location.reload(!0)}function updateUrl(e){if(history.pushState){e=e.replace(/ /g,"-");var t=window.location.protocol+"//"+window.location.host+window.location.pathname+"#"+e;window.history.pushState({path:t},"",t)}}function updateURL(e){var t=window.location.pathname.split("/");e=e.replace(/ /g,"-");var a=window.location.protocol+"//"+window.location.host;t[1]&&(a=a+"/"+t[1]),t[2]&&(a=a+"/"+t[2]),a=a+"/"+e,window.history.pushState("","",a)}function dealerlocatorMyAccount(e,t){var a=window.location.pathname.split("/");e=e.replace(/ /g,"-");for(var o=window.location.protocol+"//"+window.location.host,i=1;i<a.length;i++){const r=a[i];if(r==t){o=o+"/"+r,o=o+"/"+e;break}o=o+"/"+r}window.history.pushState("","",o)}function dealerlocator(e,t){var a="null"==readCookie("dealerlocatorCity")||null==readCookie("dealerlocatorCity")?"Dehli":readCookie("dealerlocatorCity"),o=window.location.pathname.split("/");e=e.replace(/ /g,"-");for(var i=window.location.protocol+"//"+window.location.host,r=1;r<o.length;r++){const n=o[r];if(n==t){i=i+"/"+n,i=i+"/"+e;break}i=i+"/"+n}var l=$("title").text(),s=l.replace(new RegExp(a,"g"),e);if($("meta[name=keywords]").length){metaKeywordContent=$("meta[name=keywords]").attr("content");var c=metaKeywordContent.replace(new RegExp(a,"g"),e),d=$("meta[name=description]").attr("content"),m=d.replace(new RegExp(a,"g"),e);$("meta[name=keywords]").attr("content",c),$("meta[name=description]").attr("content",m),$("title").text(s),document.cookie="dealerlocatorCity="+e}else{var p="<meta name='keywords' content='undefined' />";$("head").append(p)}window.history.pushState("","",i)}function readCookie(e){for(var t=e+"=",a=document.cookie.split(";"),o=0;o<a.length;o++){for(var i=a[o];" "==i.charAt(0);)i=i.substring(1,i.length);if(0==i.indexOf(t))return i.substring(t.length,i.length)}return null}function dealerlocatorAbout(e,t){var a=window.location.pathname.split("/");e=e.replace(/ /g,"-");var o=window.location.protocol+"//"+window.location.host;if(~window.location.href.indexOf("hi-IN")||~window.location.href.indexOf("hi-in"))for(var i=2;i<a.length;i++){a[i];o=o+"/"+window.location.pathname.split("/")[1]+"/"+e}else for(var i=1;i<a.length;i++){a[i];o=o+"/"+e}window.history.pushState("","",o)}function spaceToUnderScore(e){return e?e.replace(/ /g,"_"):""}function toTitleCase(e){var t=e.toLowerCase();return t.replace(/(?:^|\s)\w/g,function(e){return e.toUpperCase()})}function SwitchToLanguage(e,t){var a=function(a,o){var i,r=$("#_CRSFform input[name=__RequestVerificationToken]").val();$(t).find("option:selected").data("val");$.ajax({type:"POST",url:"/api/sitecore/Language/ChangeLanguage",cache:!1,headers:{__RequestVerificationToken:r},contentType:"application/json; charset=utf-8",data:'{"NewLanguage":"'+$(t).find("option:selected").data("val")+'", "CurrentLanguage":"'+e+'"}',success:function(e){null!=a&&a(e,!0,o,$(t).find("option:selected").val()),i="hi-in"==$(t).find("option:selected").data("val").toLowerCase()?"Hindi":"English",msildl.push({event:"Navigation_menu",eventCategory:"navigation-menu-head",eventAction:"click",eventLabel:"Language selection –"+i,cd_timestamp:(new Date).getTime()})},error:function(e){null!=a&&a(e,!1,o)}})};return a(function(e,t,a,o){window.location=o}),!1}function setCookie(e,t,a){var o=new Date;o.setTime(o.getTime()+24*a*60*60*1e3);var i="expires="+o.toGMTString();document.cookie=e+"="+t+";"+i+";path=/"}function getCookie(e){for(var t=e+"=",a=decodeURIComponent(document.cookie),o=a.split(";"),i=0;i<o.length;i++){for(var r=o[i];" "==r.charAt(0);)r=r.substring(1);if(0==r.indexOf(t))return r.substring(t.length,r.length)}return""}function checkCookie(){var e=getCookie("username");""!=e?alert("Welcome again "+e):(e=prompt("Please enter your name:",""),""!=e&&null!=e&&setCookie("username",e,30))}function printError(e,t){console.log(t?"[EXPLICIT] ":"[INEXPLICIT] "+e.name+":"+e.message)}function tdSubmit(e,t){try{var a=new Treasure({host:"in.treasuredata.com",writeKey:"10453/be37ccabb6c444301256c07406c8586de8b0b415",database:"msil_src_prd",startInSignedMode:!0});a.set("$global","td_global_id","td_global_id"),a.trackPageview("pageview",googleSyncCallback),a.trackEvent(t,e)}catch(o){a instanceof ReferenceError||"undefined"!=typeof a?printError(o,!0):printError(o,!1)}}function tdSubmitGTM(e,t,a){var o=new Treasure({host:"in.treasuredata.com",writeKey:"10453/be37ccabb6c444301256c07406c8586de8b0b415",database:a,startInSignedMode:!0});o.set("$global","td_global_id","td_global_id"),o.trackPageview("pageview",googleSyncCallback),o.trackEvent(t,e)}function convertAES(e){if(e){e=e.toLowerCase().trim();var t=CryptoJS.enc.Utf8.parse("40887952454045cb"),a=CryptoJS.enc.Utf8.parse("@1B2c3D4e5F6g7H8"),o=CryptoJS.AES.encrypt(e,t,{mode:CryptoJS.mode.CBC,iv:a,padding:CryptoJS.pad.Pkcs7});return o.toString()}return""}function convertSHA(e){if(e){e=e.toLowerCase().trim();var t=CryptoJS.SHA256(e);return t.toString()}return""}function getcarIdonListing(){var e=window.location.href;if(~e.indexOf("buy-car#query=")){for(var t=[],a=0;a<6;a++)$(".carLising1 .testDriveButton").find("a")[a]&&t.push($(".carLising1 .testDriveButton").find("a")[a].dataset.track.split("|")[0]);searchdata(t)}}function shareTwitter(e,t,a){var o=window.open("https://twitter.com/intent/tweet?url="+e+"&text="+t+"&hashtags="+a,"twitter-popup","height=350,width=600");return o.focus&&o.focus(),!1}function shareFacebook(e,t,a){var e="http://www.facebook.com/sharer.php?u="+e+"&title="+t+"&picture="+a;return window.open(e,"Share on FaceBook","left=20,top=20,width=550,height=400,toolbar=0,menubar=0,scrollbars=0,location=0,resizable=1"),!1}function rhex(e){for(var t="",a=0;a<=3;a++)t+=hex_chr.charAt(e>>8*a+4&15)+hex_chr.charAt(e>>8*a&15);return t}function str2blks_MD5(e){for(var t=(e.length+8>>6)+1,a=new Array(16*t),o=0;o<16*t;o++)a[o]=0;for(var o=0;o<e.length;o++)a[o>>2]|=e.charCodeAt(o)<<o%4*8;return a[o>>2]|=128<<o%4*8,a[16*t-2]=8*e.length,a}function add(e,t){var a=(65535&e)+(65535&t),o=(e>>16)+(t>>16)+(a>>16);return o<<16|65535&a}function rol(e,t){return e<<t|e>>>32-t}function cmn(e,t,a,o,i,r){return add(rol(add(add(t,e),add(o,r)),i),a)}function ff(e,t,a,o,i,r,n){return cmn(t&a|~t&o,e,t,i,r,n)}function gg(e,t,a,o,i,r,n){return cmn(t&o|a&~o,e,t,i,r,n)}function hh(e,t,a,o,i,r,n){return cmn(t^a^o,e,t,i,r,n)}function ii(e,t,a,o,i,r,n){return cmn(a^(t|~o),e,t,i,r,n)}function calcMD5(e){for(var t=str2blks_MD5(e),a=1732584193,o=-271733879,i=-1732584194,r=271733878,n=0;n<t.length;n+=16){var l=a,s=o,c=i,d=r;a=ff(a,o,i,r,t[n+0],7,-680876936),r=ff(r,a,o,i,t[n+1],12,-389564586),i=ff(i,r,a,o,t[n+2],17,606105819),o=ff(o,i,r,a,t[n+3],22,-1044525330),a=ff(a,o,i,r,t[n+4],7,-176418897),r=ff(r,a,o,i,t[n+5],12,1200080426),i=ff(i,r,a,o,t[n+6],17,-1473231341),o=ff(o,i,r,a,t[n+7],22,-45705983),a=ff(a,o,i,r,t[n+8],7,1770035416),r=ff(r,a,o,i,t[n+9],12,-1958414417),i=ff(i,r,a,o,t[n+10],17,-42063),o=ff(o,i,r,a,t[n+11],22,-1990404162),a=ff(a,o,i,r,t[n+12],7,1804603682),r=ff(r,a,o,i,t[n+13],12,-40341101),i=ff(i,r,a,o,t[n+14],17,-1502002290),o=ff(o,i,r,a,t[n+15],22,1236535329),a=gg(a,o,i,r,t[n+1],5,-165796510),r=gg(r,a,o,i,t[n+6],9,-1069501632),i=gg(i,r,a,o,t[n+11],14,643717713),o=gg(o,i,r,a,t[n+0],20,-373897302),a=gg(a,o,i,r,t[n+5],5,-701558691),r=gg(r,a,o,i,t[n+10],9,38016083),i=gg(i,r,a,o,t[n+15],14,-660478335),o=gg(o,i,r,a,t[n+4],20,-405537848),a=gg(a,o,i,r,t[n+9],5,568446438),r=gg(r,a,o,i,t[n+14],9,-1019803690),i=gg(i,r,a,o,t[n+3],14,-187363961),o=gg(o,i,r,a,t[n+8],20,1163531501),a=gg(a,o,i,r,t[n+13],5,-1444681467),r=gg(r,a,o,i,t[n+2],9,-51403784),i=gg(i,r,a,o,t[n+7],14,1735328473),o=gg(o,i,r,a,t[n+12],20,-1926607734),a=hh(a,o,i,r,t[n+5],4,-378558),r=hh(r,a,o,i,t[n+8],11,-2022574463),i=hh(i,r,a,o,t[n+11],16,1839030562),o=hh(o,i,r,a,t[n+14],23,-35309556),a=hh(a,o,i,r,t[n+1],4,-1530992060),r=hh(r,a,o,i,t[n+4],11,1272893353),i=hh(i,r,a,o,t[n+7],16,-155497632),o=hh(o,i,r,a,t[n+10],23,-1094730640),a=hh(a,o,i,r,t[n+13],4,681279174),r=hh(r,a,o,i,t[n+0],11,-358537222),i=hh(i,r,a,o,t[n+3],16,-722521979),o=hh(o,i,r,a,t[n+6],23,76029189),a=hh(a,o,i,r,t[n+9],4,-640364487),r=hh(r,a,o,i,t[n+12],11,-421815835),i=hh(i,r,a,o,t[n+15],16,530742520),o=hh(o,i,r,a,t[n+2],23,-995338651),a=ii(a,o,i,r,t[n+0],6,-198630844),r=ii(r,a,o,i,t[n+7],10,1126891415),i=ii(i,r,a,o,t[n+14],15,-1416354905),o=ii(o,i,r,a,t[n+5],21,-57434055),a=ii(a,o,i,r,t[n+12],6,1700485571),r=ii(r,a,o,i,t[n+3],10,-1894986606),i=ii(i,r,a,o,t[n+10],15,-1051523),o=ii(o,i,r,a,t[n+1],21,-2054922799),a=ii(a,o,i,r,t[n+8],6,1873313359),r=ii(r,a,o,i,t[n+15],10,-30611744),i=ii(i,r,a,o,t[n+6],15,-1560198380),o=ii(o,i,r,a,t[n+13],21,1309151649),a=ii(a,o,i,r,t[n+4],6,-145523070),r=ii(r,a,o,i,t[n+11],10,-1120210379),i=ii(i,r,a,o,t[n+2],15,718787259),o=ii(o,i,r,a,t[n+9],21,-343485551),a=add(a,l),o=add(o,s),i=add(i,c),r=add(r,d)}return rhex(a)+rhex(o)+rhex(i)+rhex(r)}function TrackEventMSIL(e,t,a){tdSubmit({eventCategory:e,eventAction:t,eventLabel:toTitleCase(a)},"event_trv")}function TrackEventEbooking(e,t,a){tdSubmit({eventCategory:e,eventAction:t,eventLabel:a},"event_trv")}function homepageBanner(e){tdSubmit({eventCategory:"TRV Top Banner",eventAction:"Click",eventLabel:toTitleCase(e)},"event_trv")}function menuHeader(e){msildl.push({event:"Navigation_menu",eventCategory:"navigation-menu-head",eventAction:"click",eventLabel:"head menu - "+e,cd_timestamp:(new Date).getTime()}),tdSubmit({eventCategory:"Navigation Menu Top",eventAction:"Click",eventLabel:toTitleCase(e)},"event_trv")}function menuHeaderBottomLink(e){msildl.push({event:"Navigation_menu",eventCategory:"navigation-menu-top",eventAction:"click",eventLabel:"top menu -"+e,cd_timestamp:(new Date).getTime()}),tdSubmit({eventCategory:"Navigation Menu Top",eventAction:"Click",eventLabel:"top menu -"+toTitleCase(e)},"event_trv")}function menuHeaderBottom(e,t){msildl.push({event:"navigation_menu",eventcategory:"navigation-menu-top",eventaction:"click",eventlabel:"top menu -"+t+"-"+e,cd_timestamp:(new Date).getTime()}),tdSubmit({eventCategory:"Navigation Menu Top",eventAction:"Click",eventLabel:"top menu -"+t+"-"+e},"event_trv")}function menuFooter(e){msildl.push({event:"Navigation_menu",eventCategory:"navigation-menu-footer",eventAction:"click",eventLabel:"footer menu -"+e,cd_timestamp:(new Date).getTime()}),tdSubmit({eventCategory:"Navigation Menu Footer",eventAction:"Click",eventLabel:toTitleCase(e)},"event_trv")}function buySearch(e,t,a){msildl.push({event:"buy-search",eventCategory:"Buy Search filter",eventAction:"click",eventLabel:e+"-"+t+"-"+a,cd_timestamp:(new Date).getTime()}),tdSubmit({eventCategory:"Buy Search filter",eventAction:"Click",eventLabel:toTitleCase(e+"-"+t+"-"+a)},"event_trv")}function sellSearch(e,t,a,o){msildl.push({event:"Sell-value your car",eventCategory:"value your car -sell",eventAction:"Submit",eventLabel:"Submit - Sell Your Car",userID:calcMD5((new Date).getTime()),cd_timestamp:(new Date).getTime(),cd_location:"",cd_car_model:"",cd_registration:a,cd_mobile:t,cd_name:e,cd_email:o,cd_dealer:"",cd_experience:"",cd_price:""})}function sellStepOne(e,t,a,o){msildl.push({event:"Sell-value your car",eventCategory:"value your car -sell",eventAction:"Submit",eventLabel:"Submit - Sell Car",userID:calcMD5((new Date).getTime()),cd_timestamp:(new Date).getTime(),cd_location:"",cd_car_model:"",cd_registration:a,cd_mobile:t,cd_email:o,cd_name:e,cd_dealer:"",cd_experience:"",cd_price:""})}function sellStepTwoEdit(e,t,a,o,i){msildl.push({event:"Sell-value your car",eventCategory:"value your car -sell",eventAction:"Click",eventLabel:"Edit Details",userID:calcMD5((new Date).getTime()),cd_timestamp:(new Date).getTime(),cd_location:"",cd_car_model:i,cd_registration:a,cd_mobile:t,cd_email:o,cd_name:e,cd_dealer:"",cd_experience:"",cd_price:""})}function sellStepTwoUpdate(e,t,a,o,i){msildl.push({event:"Sell-value your car",eventCategory:"value your car -sell",eventAction:"Click",eventLabel:"Update Details",userID:calcMD5((new Date).getTime()),cd_timestamp:(new Date).getTime(),cd_location:"",cd_car_model:i,cd_registration:a,cd_mobile:t,cd_email:o,cd_name:e,cd_dealer:"",cd_experience:"",cd_price:""})}function sellSTepTwoNext(e,t,a,o,i,r,n,l){msildl.push({event:"Sell-value your car",eventCategory:"value your car -sell",eventAction:"Click",eventLabel:"Next - Car Detail",userID:calcMD5((new Date).getTime()),cd_timestamp:(new Date).getTime(),cd_location:n,cd_car_model:i,cd_registration:a,cd_mobile:t,cd_email:o,cd_name:e,cd_dealer:r,cd_experience:"",cd_price:l})}function sellStepThreeSubmit(e,t,a,o,i,r,n,l,s){var c;c="angry"==s?1:"sad"==s?2:"satisfied"==s?3:"happy"==s?4:5,msildl.push({event:"Sell-value your car",eventCategory:"value your car -sell",eventAction:"Submit",eventLabel:"Submit - Car Details",userID:calcMD5((new Date).getTime()),cd_timestamp:(new Date).getTime(),cd_location:n,cd_car_model:i,cd_registration:a,cd_mobile:t,cd_email:o,cd_name:e,cd_dealer:r,cd_experience:c,cd_price:l})}function sellMenuHeader(e){tdSubmit({eventCategory:"Sell",eventAction:"Click",eventLabel:e},"event_trv")}function sortby(e){msildl.push({event:"trv-sort",eventCategory:"sort by",eventAction:"click",eventLabel:"<"+e+">",cd_timestamp:(new Date).getTime()}),tdSubmit({eventCategory:"sort by",eventAction:"click",eventLabel:e},"event_trv")}function rangeby(e){msildl.push({event:"trv-sort",eventCategory:"refine result",eventAction:"click",eventLabel:"Range-"+e,cd_timestamp:(new Date).getTime()}),tdSubmit({eventCategory:"refine result",eventAction:"click",eventLabel:"Range-"+e},"event_trv")}function removeandbookcar(e){msildl.push({event:"trv-sort",eventCategory:"refine result",eventAction:"click",eventLabel:e,cd_timestamp:(new Date).getTime()}),tdSubmit({eventCategory:"refine result",eventAction:"click",eventLabel:e},"event_trv")}function budgetby(e){msildl.push({event:"trv-sort",eventCategory:"refine result",eventAction:"click",eventLabel:"select budget-"+e.Min+","+e.Max,cd_timestamp:(new Date).getTime()}),tdSubmit({eventCategory:"refine result",eventAction:"click",eventLabel:"select budget-"+e.Min+","+e.Max},"event_trv")}function bodyType(e){msildl.push({event:"trv-sort",eventCategory:"refine result",eventAction:"click",eventLabel:"body type-"+e,cd_timestamp:(new Date).getTime()}),tdSubmit({eventCategory:"refine result",eventAction:"click",eventLabel:"body type-"+e},"event_trv")}function brandby(e){msildl.push({event:"trv-sort",eventCategory:"refine result",eventAction:"click",eventLabel:"select brand-"+e,cd_timestamp:(new Date).getTime()}),tdSubmit({eventCategory:"refine result",eventAction:"click",eventLabel:"select brand-"+e},"event_trv")}function carageby(e){msildl.push({event:"trv-sort",eventCategory:"refine result",eventAction:"click",eventLabel:"car age-"+e.From+","+e.To,cd_timestamp:(new Date).getTime()}),tdSubmit({eventCategory:"refine result",eventAction:"click",eventLabel:"car age-"+e.From+","+e.To},"event_trv")}function ownerby(e){msildl.push({event:"trv-sort",eventCategory:"refine result",eventAction:"click",eventLabel:"ownership-"+e,cd_timestamp:(new Date).getTime()}),tdSubmit({eventCategory:"refine result",eventAction:"click",eventLabel:"ownership-"+e},"event_trv")}function kilometerby(e){msildl.push({event:"trv-sort",eventCategory:"refine result",eventAction:"click",eventLabel:"kilometer-"+e,cd_timestamp:(new Date).getTime()}),tdSubmit({eventCategory:"refine result",eventAction:"click",eventLabel:"kilometer-"+e},"event_trv")}function fueltype(e){msildl.push({event:"trv-sort",eventCategory:"refine result",eventAction:"click",eventLabel:"fuel type-"+e,cd_timestamp:(new Date).getTime()}),tdSubmit({eventCategory:"refine result",eventAction:"click",eventLabel:"fuel type-"+e},"event_trv")}function colorby(e){msildl.push({event:"trv-sort",eventCategory:"refine result",eventAction:"click",eventLabel:"colour-"+e,cd_timestamp:(new Date).getTime()}),tdSubmit({eventCategory:"refine result",eventAction:"click",eventLabel:"colour-"+e},"event_trv")}function transmissionby(e){msildl.push({event:"trv-sort",eventCategory:"refine result",eventAction:"click",eventLabel:"transmission-"+e,cd_timestamp:(new Date).getTime()}),tdSubmit({eventCategory:"refine result",eventAction:"click",eventLabel:"transmission-"+e},"event_trv")}function bookTestDrive(e){msildl.push(e)}function bookTestDriveVirtual(e){msildl.push(e)}function sellDataTrack(e){msildl.push(e)}function contactDealer(e){msildl.push(e)}function contactDealerVirtual(e){msildl.push(e)}function quickSearchModel(e){msildl.push({event:"quick search",eventCategory:"quick search",eventAction:"click",eventLabel:"by model-"+e,cd_timestamp:(new Date).getTime()}),tdSubmit({eventCategory:"quick search",eventAction:"click",eventLabel:"by model-"+e},"event_trv")}function quickSearchBudget(e){msildl.push({event:"quick search",
eventCategory:"quick search",eventAction:"click",eventLabel:"by budget-"+e,cd_timestamp:(new Date).getTime()}),tdSubmit({eventCategory:"quick search",eventAction:"click",eventLabel:"by budget-"+e},"event_trv")}function quickSearchBodytype(e){msildl.push({event:"quick search",eventCategory:"quick search",eventAction:"click",eventLabel:"by body type-"+e,cd_timestamp:(new Date).getTime()}),tdSubmit({eventCategory:"quick search",eventAction:"click",eventLabel:"by body type-"+e},"event_trv")}function viewAllBtn(){msildl.push({event:"city_selection",eventCategory:"select city",eventAction:"click",eventLabel:"view more cities",cd_timestamp:(new Date).getTime()})}function selectCityclick(e){msildl.push({event:"city_selection",eventCategory:"select city",eventAction:"click",eventLabel:"top cities selection - "+e,cd_timestamp:(new Date).getTime()})}function searchCityclick(e){msildl.push({event:"city_selection",eventCategory:"select city",eventAction:"search",eventLabel:"search box-"+e,cd_timestamp:(new Date).getTime()})}function homeTabFunction(e){msildl.push({event:"HP-list view selected",eventCategory:"HP-list view selected",eventAction:"click",eventLabel:e,cd_timestamp:(new Date).getTime()}),tdSubmit({eventCategory:"HP-list view selected",eventAction:"click",eventLabel:e},"event_trv")}function homeTabViewAllFunction(e){msildl.push({event:"HP-list view selected",eventCategory:"HP-list view selected",eventAction:"click",eventLabel:e.toLowerCase(),cd_timestamp:(new Date).getTime()}),tdSubmit({eventCategory:"HP-list view selected",eventAction:"click",eventLabel:e.toLowerCase()},"event_trv")}function compareCarHomepage(e,t){var a=window.location.host+e,o=(a.split("=")[0],a.split("=")[1]);o.split(",")[0],o.split(",")[1];msildl.push({event:"compare_cars",eventCategory:"compare cars button",eventAction:"click",eventLabel:a+"-"+t[0]+"vs"+t[1],cd_timestamp:(new Date).getTime()}),tdSubmit({eventCategory:"compare cars button",eventAction:"click",eventLabel:a+"-"+t[0]+"vs"+t[1]},"event_trv")}function appClicksHome(e){msildl.push({event:"app store link",eventCategory:"app store link",eventAction:"click",eventLabel:e,cd_timestamp:(new Date).getTime()}),tdSubmit({eventCategory:"app store link",eventAction:"Click",eventLabel:e},"event_trv")}function siteMap(e,t){msildl.push({event:"sitemap-section",eventCategory:"sitemap-"+e.toLowerCase(),eventAction:"click",eventLabel:t,cd_timestamp:(new Date).getTime()}),tdSubmit({eventCategory:"sitemap-"+e.toLowerCase(),eventAction:"Click",eventLabel:t},"event_trv")}function loginUserId(e){msildl.push({userId:e,event:"authentication"})}function googleSignup(){msildl.push({event:"Sign up",eventCategory:"signup",eventAction:"click",eventLabel:"google signup",cd_timestamp:(new Date).getTime()}),tdSubmit({eventCategory:"Sign up",eventAction:"Click",eventLabel:"google signup"},"event_trv")}function facebookSignup(){msildl.push({event:"Sign up",eventCategory:"signup",eventAction:"click",eventLabel:"facebook signup",cd_timestamp:(new Date).getTime()}),tdSubmit({eventCategory:"Sign up",eventAction:"Click",eventLabel:"facebook signup"},"event_trv")}function twitterSignup(){msildl.push({event:"Sign up",eventCategory:"signup",eventAction:"click",eventLabel:"twitter signup",cd_timestamp:(new Date).getTime()}),tdSubmit({eventCategory:"Sign up",eventAction:"Click",eventLabel:"twitter signup"},"event_trv")}function recommendedPicks(e){msildl.push({event:"viewall-click",eventCategory:"recommended picks",eventAction:"click",eventLabel:e,cd_timestamp:(new Date).getTime()}),tdSubmit({eventCategory:"recommended picks",eventAction:"click",eventLabel:e},"event_trv")}function loginMyAccount(e){var t;t=1==e?"Success":"Failure",msildl.push({event:"Login",eventCategory:"login",eventAction:"click",eventLabel:t,cd_timestamp:(new Date).getTime()}),tdSubmit({eventCategory:"Login",eventAction:"Click",eventLabel:t},"event_trv")}function dealerLocator(e,t){msildl.push({event:"selected dealer-call",eventCategory:"click",eventAction:e+"-"+t,eventLabel:"",cd_timestamp:(new Date).getTime()})}function dealerLocatorviewInventory(e,t){msildl.push({event:"selected dealer-v-iew inventory",eventCategory:"click",eventAction:e+"-"+t,eventLabel:"",cd_timestamp:(new Date).getTime()})}function virtualSelectAnyPage(e,t){msildl.push({event:"virtual_pageview",virtualPageURL:t,virtualPageTitle:e,cd_timestamp:(new Date).getTime(),cd_userid:calcMD5((new Date).getTime())})}function estimateCarSell(){msildl.push({event:"calc-price estimate",eventCategory:"Book free inspection",eventAction:"submit",eventLabel:"continue button-step 1",cd_userid:calcMD5((new Date).getTime()),cd_timestamp:(new Date).getTime()})}function estimateCarHome(e,t,a){msildl.push({event:"calc-price estimate",eventCategory:"Price estimate-used car",eventAction:"submit",eventLabel:e+"-"+t+"-"+a,cd_car_model:e,cd_userid:calcMD5((new Date).getTime()),cd_timestamp:(new Date).getTime()}),tdSubmit({eventCategory:"Price estimate-used car",eventAction:"submit",eventLabel:e+"-"+t+"-"+a},"event_trv")}function estimateCarSellCDP(e,t,a){tdSubmit({eventCategory:"Price estimate-used car",eventAction:"submit",eventLabel:e+"-"+t+"-"+a},"event_trv")}function estimateOTP(e){var t;t=1==e?"Success":"Fail",msildl.push({event:"calc-price estimate",eventCategory:"Price estimate-used car",eventAction:"submit",eventLabel:"otp submit "+t,cd_car_model:"",cd_timestamp:(new Date).getTime()}),tdSubmit({eventCategory:"Price estimate-used car",eventAction:"submit",eventLabel:"otp submit "+t},"event_trv")}function freeInspection(e,t,a){msildl.push({event:"calc-price estimate",eventCategory:"Book free inspection",eventAction:"submit",eventLabel:"free inspection-"+e+"-"+t,cd_car_model:a,cd_userid:calcMD5((new Date).getTime()),cd_timestamp:(new Date).getTime()}),tdSubmit({eventCategory:"Book free inspection",eventAction:"submit",eventLabel:"free inspection-"+e+"-"+t},"event_trv")}function otpBTDSubmit(){msildl.push({event:"form_fill_actions",eventCategory:"otp form open",eventAction:"click",eventLabel:"otp popup",cd_timestamp:(new Date).getTime()})}function searchdata(e){msildl.push({event:"search_page_id","content id1":e[0],"content id2":e[1],"content id3":e[2],"content id4":e[3],"content id5":e[4],"content id6":e[5],cd_pagelabel:"",cd_timestamp:(new Date).getTime()})}function sellTrack(e){msildl.push({event:"form_fill_actions",eventCategory:"Form Submit",eventAction:"submit",eventLabel:"contact details- sell cars",eventValue:"",cd_pagelabel:"",cd_timestamp:(new Date).getTime(),cd_userid:calcMD5((new Date).getTime()),cd_enquiry_number:e[0],cd_model_variant_selected:e[1],cd_car_location:e[2],cd_car_availability:" ",cd_car_price:" ",cd_body_style:e[4],"cd_Preferred Price Range":" ",cd_car_Make:e[5],cd_manf_year:e[6]})}function checkboxEventTrack(){msildl.push({event:"compare_actions",eventCategory:"add to compare",eventAction:"checkbox",eventLabel:"car added to compare",cd_timestamp:(new Date).getTime()})}function mostCompareEventTrack(e){for(var t=[],a=0;a<e.length;a++)t.push(e[a].carname);msildl.push({event:"compare_actions",eventCategory:"compare now",eventAction:"click",eventLabel:"botton click on popup",cd_trv_car_compared:t[0]+"-"+t[1],cd_timestamp:(new Date).getTime()})}function compareNowClickedEventTrack(e){var t=e.length;switch(t){case 2:msildl.push({event:"compare_actions",eventCategory:"compare now",eventAction:"click",eventLabel:"botton click on popup",cd_trv_car_compared:e[0]+"-"+e[1],cd_timestamp:(new Date).getTime()});break;case 3:msildl.push({event:"compare_actions",eventCategory:"compare now",eventAction:"click",eventLabel:"botton click on popup",cd_trv_car_compared:e[0]+"-"+e[1]+"-"+e[2],cd_timestamp:(new Date).getTime()});break;case 4:msildl.push({event:"compare_actions",eventCategory:"compare now",eventAction:"click",eventLabel:"botton click on popup",cd_trv_car_compared:e[0]+"-"+e[1]+"-"+e[2]+"-"+e[3],cd_timestamp:(new Date).getTime()})}}function addTowishlistClickEvent(){msildl.push({event:"compare_actions",eventCategory:"add to whishlist",eventAction:"click",eventLabel:"added to whishlist",cd_timestamp:(new Date).getTime()})}function emiClickEventTrack(e){msildl.push({event:"emi_calc",eventCategory:"caluclate emi",eventAction:"click",eventLabel:"emi clicked-"+e,cd_timestamp:(new Date).getTime()}),tdSubmit({eventCategory:"Pop-up Menu",eventAction:"Click",eventLabel:"Calculate EMI - "+e.trim()},"event_trv")}function compareNow(e){tdSubmit({eventCategory:"compare now popup",eventAction:"Click",eventLabel:"/compare-now-popup"},"event_trv"),tdSubmit({eventCategory:"Pop-up Menu",eventAction:"Click",eventLabel:"Compare Cars"},"event_trv");var t=getDataFromLocal("compare");if(t&&1==t.length)$(".infoIconPopup .infoIconPopup_p").text("Please select one more car to compare."),$(".errorModal").modal("show");else{for(var a=t[0].carid,o=1;o<t.length;o++)a=a+","+t[o].carid;for(var i=getDataFromLocal("compare"),r=[],n=0;n<i.length;n++)r.push(i[n].carname);compareNowClickedEventTrack(r),window.location.href=e+a}}var ra=window.ra||{},gmapApiKey="AIzaSyA5bpjHLuo0jFva8A0iFtnwtcVJt6y6k1Q",cityJsonPath="/TrvCustomCityLatLong.json";ra.cfg=ra.cfg||{},ra.events=ra.events||{},function(e){!function(){var e=navigator.userAgent;ra.cfg.isIphone=/iPhone/i.test(e),ra.cfg.isIpaid=/iPad/i.test(e),ra.cfg.isAndriod=/Android/i.test(e),ra.cfg.isBlackBerry=/BB10|BlackBerry/i.test(e),ra.cfg.isNexusTab=/Nexus/i.test(e),ra.cfg.isChrome43=/Chrome[\/]43/i.test(e),ra.cfg.isIE=/MSIE (\d+\.\d+);/.test(e),ra.cfg.isIE11=e.indexOf("Trident/"),ra.cfg.isMobile=/iPhone|Android|iPad|iPod|webOS|BlackBerry/i.test(e),ra.cfg.isTouchEnabled=function(){return"ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0}(),ra.cfg.breakPoints={XS:"screen and (min-width:0px) and (max-width:480px)",SMX:"screen and (min-width:481px) and (max-width:767px)",SM:"screen and (min-width:768px) and (max-width:1024px)",MD:"screen and (min-width:1025px) and (max-width:1280px)",LG:"screen and (min-width:1281px)",XS_SMX:"screen and (min-width:0px) and (max-width:767px)",XS_SM:"screen and (min-width:0px) and (max-width:1024px)",SM_MD:"screen and (min-width:768px)",MD_LG:"screen and (min-width:1025px)"},ra.events={WINDOW_RESIZE:"ml/screen/resize/",WINDOW_LOAD:"ml/window/load/",SCROLL:"ml/mouse/scroll",VIEWPORT_CHANGE:"ml/viewport/change",INIT_MODULES:"ml/modules/init",VIEWPORT_XS:"viewport/extrasmall",VIEWPORT_SMX:"viewport/smallExtended",VIEWPORT_SM:"viewport/small",VIEWPORT_MD:"viewport/medium",VIEWPORT_LG:"viewport/large",VIEWPORT_XS_SMX:"viewport/mobile",VIEWPORT_XS_SM:"viewport/mobileAndTablet",VIEWPORT_SM_MD:"viewport/tabletAndAbove",VIEWPORT_MD_LG:"viewport/desktopAndAbove"},ra.cfg.viewport=ra.events.VIEWPORT_LG}(),e(function(){ra.cfg.isAndriod&&e("html").addClass("android"),ra.cfg.isIpaid&&e("html").addClass("iPad"),ra.cfg.isIphone&&e("html").addClass("iphone"),ra.cfg.isIE11>0&&e("html").addClass("ie11"),ra.cfg.isBlackBerry&&e("html").addClass("blackberry"),ra.cfg.isNexusTab&&e("html").addClass("nexusTab"),ra.cfg.isChrome43&&e("html").addClass("chrome43"),e(window).resize(e.throttle(250,function(){e.publish(ra.events.WINDOW_RESIZE),ra.utils.getImageDataSrc(),ra.utils.getImageDataSrc(!0),ra.ratestinonialvideo?ra.ratestinonialvideo.maxHeightFunction():"",ra.compTestimonialCarousel?ra.compTestimonialCarousel.adjustHeight():"",ra.compCarouselComponent?ra.compCarouselComponent.maxHeightFunction():""})),ra.cfg.isIE?e(window).scroll(e.throttle(500,function(){e.publish(ra.events.SCROLL)})):e(window).scroll(e.throttle(20,function(){e.publish(ra.events.SCROLL)}));for(var t in ra.cfg.breakPoints)!function(e,t){var a=function(t){t.matches&&/\bSM\b|\bMD\b|\bLG\b|\bSMX\b|\bXS\b/.test(e)&&(ra.cfg.viewport=e)};a({media:t,matches:matchMedia(t).matches})}(t,ra.cfg.breakPoints[t]);e.publish(ra.events.INIT_MODULES);for(var a in ra.cfg.breakPoints)!function(t,a){var o=function(a){if(a.matches){var o="VIEWPORT_"+t;e.publish(ra.events[o],!0),/\bSM\b|\bMD\b|\bLG\b|\bSMX\b|\bXS\b/.test(t)&&(ra.cfg.viewport=t,e.publish(ra.events.VIEWPORT_CHANGE))}else e.publish(ra.events["VIEWPORT_"+t],!1)};o({media:a,matches:matchMedia(a).matches}),window.matchMedia(a).addListener(o)}(a,ra.cfg.breakPoints[a])}),e(window).load(function(){e.publish(ra.events.WINDOW_LOAD),ra.utils.getImageDataSrc(),ra.utils.getImageDataSrc(!0),ra.utils.anchorClickEvent()})}(jQuery),$(function(){var e=[],t=[],a="",o="[class^='mod-'], [class*=' mod-']",i=$(o,a);a=$(a),0===a.length&&(a=$(document)),a.each(function(){$(this).filter(o).length&&(i=i.add($(this)))}),i.each(function(){var t=$(this).prop("class").match(/mod-([^ ]+)/g);$.each(t,function(a){var o=t[a].replace("mod-","");ra[o]&&e.push(o)})}),$.each(e,function(e,a){$.inArray(a,t)===-1&&t.push(a)}),e=t;var r=[];return $.each(e,function(t){ra[e[t]].init?ra[e[t]].settings.defer?r.push(e[t]):ra[e[t]].init(a):console.log("initModule: The module '"+e[t]+"' does not have an init method")}),$.each(r,function(e){ra[r[e]].init?ra[r[e]].init(a):console.log("initModule: The module '"+r[e]+"' does not have an init method")}),e}),function(e){var t=e({});e.subscribe=function(){t.on.apply(t,arguments)},e.unsubscribe=function(){t.off.apply(t,arguments)},e.publish=function(){t.trigger.apply(t,arguments)}}(jQuery),function(e,t){var a,o=e.jQuery||e.Cowboy||(e.Cowboy={});o.throttle=a=function(e,a,i,r){function n(){function o(){s=+new Date,i.apply(c,m)}function n(){l=t}var c=this,d=+new Date-s,m=arguments;r&&!l&&o(),l&&clearTimeout(l),r===t&&d>e?o():a!==!0&&(l=setTimeout(r?n:o,r===t?e-d:e))}var l,s=0;return"boolean"!=typeof a&&(r=i,i=a,a=t),o.guid&&(n.guid=i.guid=i.guid||o.guid++),n},o.debounce=function(e,o,i){return i===t?a(e,o,!1):a(e,i,o!==!1)}}(this),function(){window.console||(window.console={});for(var e="log info warn error debug trace dir group groupCollapsed groupEnd time timeEnd profile profileEnd dirxml assert count markTimeline timeStamp clear".split(" "),t=0;t<e.length;t++)window.console[e[t]]||(window.console[e[t]]=function(){})}(),Array.indexOf||(Array.prototype.indexOf=function(e){for(var t=0,a=this.length;t<a;t++)if(this[t]===e)return t;return-1}),Array.move||(Array.prototype.move=function(e,t){if(t>=this.length)for(var a=t-this.length;a--+1;)this.push(void 0);this.splice(t,0,this.splice(e,1)[0])}),function(){ra.utils={create:function(e,t,a,o,i){if(0!==e.length){var r,n;if(a){var l=new Date;l.setTime(l.getTime()+24*a*60*60*1e3),r="; expires="+l.toGMTString()}else r="";n=o?o:"",i?document.cookie=e+"="+t+r+"; path="+n+"; domain="+i:document.cookie=e+"="+t+r+"; path="+n}},read:function(e){var t="(?:^|;\\s*)"+(""+e).replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")+"=([^;]*)";return(e=new RegExp(t).exec(document.cookie))&&e[1]},erase:function(e){this.create(e,"",-1,"/","")},getUrlParam:function(e){for(var t,a=[],o=window.location.href.slice(window.location.href.indexOf("?")+1).split("&"),i=0;i<o.length;i++)t=o[i].split("="),a.push(t[0]),a[t[0]]=t[1];return a[e]},getImageDataSrc:function(e){var t,a=ra.cfg.viewport;t=e?document.getElementsByClassName("behave-img"):document.getElementsByTagName("img"),$(t).each(function(t,o){var i=$(this),r=i.data();for(var n in r)"undefined"!=typeof n&&ra.utils.getDifferentView(n,i,a,e)})},maxHeightFunction:function(e,t,a,o){var i=0;$(e).find(t).each(function(e,t){var a=$(this).innerHeight();a>i&&(i=a)}),$(e).find(a).height(i+o)},getDifferentView:function(e,t,a,o){var i=t,r=$(i).data("srcDesktop"),n=$(i).data("srcTablet"),l=$(i).data("srcMobile"),s="";"MD"!==a&&"LG"!==a||(s=""!==r?r:""!==n?n:l),"SM"===a&&(s=""!==n?n:""!==r?r:l),"XS"!==a&&"SMX"!==a||(s=""!==l?l:""!==n?n:r),o?$(i).attr("style","background-image: url("+s+")"):$(i).attr("src",s)},getDataFromService:function(e){var t=$("#__AjaxAntiForgeryForm"),a=$('input[name="__RequestVerificationToken"]',t).val();$.ajax({url:e.url,dataType:e.dataType,data:e.data,headers:{__RequestVerificationToken:a},contentType:"application/json; charset=utf-8",cache:!1,type:e.type,success:function(t){$.isFunction(e.success_callback)&&e.success_callback(t)},error:function(t,a,o){$.isFunction(e.error_callback)&&e.error_callback()}})},anchorClickEvent:function(){var e=document.getElementsByTagName("a"),t=$("title").text();$(e).each(function(e,a){var o="",i=$(this).attr("data-wa-link-cms"),r=$(this).text(),n=$(this).closest("div").attr("data-component-name");n&&$(this).closest("div").children().each(function(e,t){$(this).attr("data-component-name")&&(o=o+"_"+$(this).attr("data-component"))}),o?$(this).attr("data-wa-link",t+"_"+n+o+"_"+r+"_"+i):$(this).attr("data-wa-link",t+"_"+n+"_"+r+"_"+i)})},validateEmail:function(e){var t=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e)}}}(ra),$(document).ready(function(){if($(".aboutUsM").length){window.location.pathname.split("/");$(".nav-tabs a").click(function(e){e.preventDefault(),dealerlocatorAbout($(this).data("value").toLowerCase(),"about-us")})}$("#myTab li a").click(function(){for(var e=[],t=0;t<$(".aboutvideoMain .aboutvideobox iframe").length;t++)e.push($(".aboutvideoMain .aboutvideobox iframe")[t].src);var a=$(this).attr("href");switch(a){case"#Tab_0":$(".aboutvideoMain .aboutvideobox iframe")[0].src=e[0],$(".aboutvideoMain .aboutvideobox iframe")[1].src=e[1],$(".aboutvideoMain .aboutvideobox iframe")[2].src=e[2];break;case"#Tab_1":$(".aboutvideoMain .aboutvideobox iframe")[0].src=e[0],$(".aboutvideoMain .aboutvideobox iframe")[1].src=e[1],$(".aboutvideoMain .aboutvideobox iframe")[2].src=e[2];break;case"#Tab_2":$(".aboutvideoMain .aboutvideobox iframe")[0].src=e[0],$(".aboutvideoMain .aboutvideobox iframe")[1].src=e[1],$(".aboutvideoMain .aboutvideobox iframe")[2].src=e[2]}})}),$(document).ready(function(){function e(){bookTestDrive({event:"form_fill_actions",eventCategory:"Form Submit ",eventAction:"submit",eventLabel:"Book a test drive",cd_timestamp:(new Date).getTime(),cd_userid:calcMD5((new Date).getTime()),cd_enquiry_number:convertSHA(l.mobile),"content id":s[0],cd_model_variant_selected:s[10],cd_car_location:s[2],cd_car_availability:s[3],cd_car_price:s[4],cd_body_style:s[5],"cd_Preferred Price Range":s[4],cd_car_Make:s[7],cd_manf_year:s[8]}),tdSubmit({eventCategory:"Form Submit",eventAction:"Submit",eventLabel:"Book Test Drive - "+a},"event_trv")}function t(){bookTestDrive({event:"form_fill_actions",eventCategory:"Form Submit ",eventAction:"submit",eventLabel:"Book a test drive-"+s[9],cd_timestamp:(new Date).getTime(),cd_userid:calcMD5((new Date).getTime()),cd_enquiry_number:convertSHA(l.mobile),"content id":s[0],cd_model_variant_selected:s[10],cd_car_location:s[2],cd_car_availability:s[3],cd_car_price:s[4],cd_body_style:s[5],"cd_Preferred Price Range":s[4],cd_car_Make:s[7],cd_manf_year:s[8]}),"Car Detail"==s[9]&&tdSubmit({eventCategory:"Form Submit",eventAction:"Submit",eventLabel:"Book Test Drive - Detail page - "+a},"event_trv"),"listing page"==s[9]&&tdSubmit({eventCategory:"Form Submit",eventAction:"Submit",eventLabel:"Book Test Drive - listing page - "+a},"event_trv")}var a;$(".carInformationSection .testDriveButton a,.testDriveRedButton .testDrvLinkBtn, .addcomparecarbox .comparecontentbox .testDrvLinkBtn, #collapseOne .testDrvLinkBtn").click(function(){$(this).removeAttr("data-target");var e=$(this);if("carmela"==$(this).data("btdtype")&&"O"==$(this).data("cartype")?($("#form-book-test-drive").find(".blueButton").css({background:"#2b3395",color:"#FFFFFF","border-color":"#2b3395"}),$("#form-book-test-drive").find(".blueButton").text("Contact Dealer")):($("#form-book-test-drive").find(".blueButton").css({background:"#ec383b",color:"#FFFFFF","border-color":"#ec383b"}),window.location.pathname.indexOf("hi-in")>-1?$("#form-book-test-drive").find(".blueButton").text("बुक टेस्ट ड्राइव"):$("#form-book-test-drive").find(".blueButton").text("Book a Test Drive")),$(this).data("buyingid")){var t={p_buy_id:""};t.p_buy_id=$(this).data("buyingid"),postDetails("/api/sitecore/BookATestDrive/BtdStock",JSON.stringify(t)).then(function(t){"success"==t.status&&("I"==t.ApiResponse.result.p_status?($(".infoIconPopup .infoIconPopup_p").text(t.message),$(".errorModal").modal("show")):(e.eq(0).attr("data-target",".booktestdrive"),$(".booktestdrive").modal("show")))})["catch"](function(e){console.log(e)})}else console.log("CarBuyingId not available")});var o=$("#form-book-test-drive").validate({rules:{name:{required:!0,minlength:3,maxlength:30,name_regex:/^[A-z]*((-|\s)*[A-z])*$/g},email:{email:!0,email_regex:/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/},testlogin:{required:!0},mobile:{required:!0,number:!0,mobile_regex:/^[^0-5]\d{9}$/}},messages:{name:{required:$("#form-book-test-drive").find(".name").attr("data-empty"),name_regex:$("#form-book-test-drive").find(".name").attr("data-error"),minlength:$("#form-book-test-drive").find(".name").attr("data-error")},email:$("#form-book-test-drive").find(".email2").attr("data-error"),mobile:{required:$("#form-book-test-drive").find(".mobile").attr("data-empty"),mobile_regex:$("#form-book-test-drive").find(".mobile").attr("data-error")},testlogin:$("#form-book-test-drive").find(".testlogin").attr("data-empty")},errorElement:"em",errorPlacement:function(e,t){e.addClass("invalid-feedback"),"checkbox"===t.prop("type")?e.insertAfter(t.next("label")):e.insertAfter(t)},highlight:function(e,t,a){$(e).addClass("is-invalid").removeClass("is-valid")},unhighlight:function(e,t,a){$(e).addClass("is-valid").removeClass("is-invalid")},submitHandler:function(e){e.submit()}});$("#form-book-test-drive").find(".blueButton").hover(function(){"Contact Dealer"==$(this).text()?$(this).css({background:"#ec383b","border-color":"#ec383b"}):$(this).css({background:"#2b3395","border-color":"#2b3395",color:"#FFF"})},function(){"Contact Dealer"==$(this).text()?$(this).css({background:"#2b3395","border-color":"#2b3395"}):$(this).css({background:"#ec383b","border-color":"#ec383b"})});var i,r,n=$("#pagetype").val();"carmela"==n?(i="/api/sitecore/CarMela/BookATestDriveCarmela",r="/api/sitecore/CarMela/VerifyOTPBookTestDriveCarmela"):(i="/api/sitecore/BookATestDrive/BookATestDriveForm",r="/api/sitecore/BookATestDrive/VerifyOTPBookTestDriveForm");var l,s,c,d=getDataFromLocal("location"),m=window.location.pathname;$("#form-book-test-drive").find(".blueButton").click(function(r){if(s=$("#form-book-test-drive .carIdBooktestDrive").val(),s=s?s.split("|"):["0"],c=$(this).text(),a=$(this).attr("data-carmodel"),o.form())if($("#form-book-test-drive").find("#testlogin:checked").val()){var n=window.location.href;if(l={name:$("#namee").val().trim(),mobile:$("#mobile").val(),email:$("#email").val(),carId:s[0],btn_name:c},~n.indexOf("utm_")){var p=window.location.href.split("?");if(p.length>=2){var u=p[1],f=u.split("&"),g=0;$(f).each(function(){var e=f[g].split("=")[0],t=f[g].split("=")[1];"utm_source"==e&&(l.utm_source=t),"utm_medium"==e&&(l.utm_medium=t),"utm_campaign"==e&&(l.utm_campaign=t),"utm_content"==e&&(l.utm_content=t),"utm_campaignid"==e&&(l.utm_campaignid=t),"utm_adgroupId"==e&&(l.utm_adgroupId=t),"utm_adtextid"==e&&(l.utm_adtextid=t),"utm_term"==e&&(l.utm_term=t),g++})}else{var p=window.location.href.split("#");if(p.length>=2){var u=p[1],f=u.split("&"),g=0;$(f).each(function(){var e=f[g].split("=")[0],t=f[g].split("=")[1];"utm_source"==e&&(l.utm_source=t),"utm_medium"==e&&(l.utm_medium=t),"utm_campaign"==e&&(l.utm_campaign=t),"utm_content"==e&&(l.utm_content=t),"utm_campaignid"==e&&(l.utm_campaignid=t),"utm_adgroupId"==e&&(l.utm_adgroupId=t),"utm_adtextid"==e&&(l.utm_adtextid=t),"utm_term"==e&&(l.utm_term=t),g++})}}}localStorage.getItem("utm_source")&&(l.utm_source=localStorage.getItem("utm_source")),localStorage.getItem("utm_medium")&&(l.utm_medium=localStorage.getItem("utm_medium")),localStorage.getItem("utm_campaign")&&(l.utm_campaign=localStorage.getItem("utm_campaign")),localStorage.getItem("utm_content")&&(l.utm_content=localStorage.getItem("utm_content")),localStorage.getItem("utm_campaignid")&&(l.utm_campaignid=localStorage.getItem("utm_campaignid")),localStorage.getItem("utm_adgroupId")&&(l.utm_adgroupId=localStorage.getItem("utm_adgroupId")),localStorage.getItem("utm_adtextid")&&(l.utm_adtextid=localStorage.getItem("utm_adtextid")),localStorage.getItem("utm_term")&&(l.utm_term=localStorage.getItem("utm_term")),d&&(l.userLatitude=d.lat,l.userLongitude=d["long"]),tdSubmit({name:convertAES($("#namee").val()),mobile:convertSHA($("#mobile").val()),email:convertSHA($("#email").val()),name_plain:$("#namee").val(),mobile_plain:$("#mobile").val(),email_plain:$("#email").val()},"book_test_drive_trv"),$("#resendOTP").hide(),$(".booktestdrive").modal("hide"),postDetails(i,JSON.stringify(l)).then(function(a){0==a.status?($(".otp-modal").modal("show"),$(".loginInputRow #otpsubmit").removeClass(),$(".loginInputRow #otpsubmit").addClass("BookTestDriveOTPSubmit1"),$(".loginInputRow #resendOTP").removeClass(),$(".loginInputRow #resendOTP").addClass("resendbtn"),$(".loginInputRow #resendOTP").addClass("BookTestDriveOTPSubmit1"),$("#resendOTP").hide(),timeInterval("#tcount"),otpBTDSubmit()):1==a.status?("/buy-car"==m?t():~m.indexOf("buy-car")?t():~m.indexOf("used")?t():~m.indexOf("comparecars")?console.log("Compare"):e(),postDetails("/api/sitecore/ContactDealer/GetDealerDetails",JSON.stringify({carid:s[0]})).then(function(e){if(1==e.status){var t={firstName:l.name,mobile:l.mobile,email:l.email,parentGroup:e.dealerDetailsResponse.data[0].PARENT_GROUP,dealerMapCode:e.dealerDetailsResponse.data[0].MDS_DEALER_MAP_CD,locCode:e.dealerDetailsResponse.data[0].MDS_LOC_CD};localStorage.setItem("ContactDealerForData",JSON.stringify(t)),window.open(e.RedirectToURL,"_self")}else window.open(a.RedirectToURL,"_self")})):($(".infoIconPopup .infoIconPopup_p").text(a.message),$(".errorModal").modal("show"))})["catch"](function(e){console.log(e)})}else $(".infoIconPopup .infoIconPopup_p").text($("#testlogin").attr("data-empty")),$(".errorModal").modal("show");var v=$("#form-book-test-drive").find(".email2").val();v||$(".name").length&&$(".mobile").length&&$(".form-control.email2.is-valid").removeClass("is-valid")}),$(".loginButt").on("click",".BookTestDriveOTPSubmit1",function(){var a=$("#otpText").val();$(".otp-error").text("");var o=$("#hiddenOTPSubmitClass").val();if(""!=a){var i={otp:a,name:l.name,mobile:l.mobile,email:l.email,carId:l.carId,otp_booktestdrive:o,btn_name:l.btn_name};l.utm_source&&(i.utm_source=l.utm_source),l.utm_medium&&(i.utm_medium=l.utm_medium),l.utm_campaign&&(i.utm_campaign=l.utm_campaign),l.utm_content&&(i.utm_content=l.utm_content),l.utm_campaignid&&(i.utm_campaignid=l.utm_campaignid),l.utm_adgroupId&&(i.utm_adgroupId=l.utm_adgroupId),l.utm_adtextid&&(i.utm_adtextid=l.utm_adtextid),l.utm_term&&(i.utm_term=l.utm_term),postDetails(r,JSON.stringify(i)).then(function(a){0==a.status?($(".otp-error").text(a.message),estimateOTP(a.status)):1==a.status?("/buy-car"==m?t():~m.indexOf("buy-car")?t():~m.indexOf("used")?t():~m.indexOf("comparecars")||e(),estimateOTP(a.status),postDetails("/api/sitecore/ContactDealer/GetDealerDetails",JSON.stringify({carid:s[0]})).then(function(e){if(1==e.status){var t={firstName:l.name,mobile:l.mobile,email:l.email,parentGroup:e.dealerDetailsResponse.data[0].PARENT_GROUP,dealerMapCode:e.dealerDetailsResponse.data[0].MDS_DEALER_MAP_CD,locCode:e.dealerDetailsResponse.data[0].MDS_LOC_CD};localStorage.setItem("ContactDealerForData",JSON.stringify(t)),window.open(e.RedirectToURL,"_self")}else window.open(a.RedirectToURL,"_self")})):($(".infoIconPopup .infoIconPopup_p").text(a.message),$(".errorModal").modal("show"))})["catch"](function(e){console.log(e)})}else $(".otp-error").text("Please enter OTP")}),$(".otpsent").on("click",".BookTestDriveOTPSubmit1",function(){var e=l.mobile,t=l.name,a={MobileNumber:e,name:t,btn_name:l.btn_name};resendOTP(JSON.stringify(a)).then(function(e){1==e.status?($("#resendOTP").hide(),timeInterval("#tcount"),$(".otpsent p").show(),$(".otp-error").text("")):($(".infoIconPopup .infoIconPopup_p").text(e.message),$(".errorModal").modal("show"))})["catch"](function(e){console.log(e)})})}),function(){ra.buysellform={settings:{target:".mod-buysellform"},init:function(){this.bindBuySellEvent()},bindBuySellEvent:function(){$(".buybutton").click(function(){$(this).toggleClass("active"),$(".sellbutton").removeClass("active"),$(".buyformbox").slideToggle(),$(".sellformbox").hide()}),$(".sellbutton").click(function(){$(this).toggleClass("active"),$(".buybutton").removeClass("active"),$(".sellformbox").slideToggle(),$(".buyformbox").hide()})}}}(ra),$(document).ready(function(){~window.location.href.indexOf("hi-IN")||~window.location.href.indexOf("hi-in")?$("#buy-search").find(".cust_model1").empty().append('<option selected="selected" value="">मॉडल चुनें</option>'):$("#buy-search").find(".cust_model1").empty().append('<option selected="selected" value="">Select Model</option>'),"block"===$(".BuySellSection").css("display")&&getData("/api/sitecore/BuySell/GetELModel").then(function(e){for(var t=0;t<e.aggregations.Car_Models.buckets.length;t++){var a=$("<option></option>");a.attr("value",e.aggregations.Car_Models.buckets[t].key),a.text(e.aggregations.Car_Models.buckets[t].key.toUpperCase()),$("#buy-search").find(".cust_model1").append(a),$("#buy-search").find(".cust_model1").val(e.aggregations.Car_Models.buckets[t].key),~window.location.href.indexOf("hi-IN")||~window.location.href.indexOf("hi-in")?$("#buy-search").find('.cust_model1 option:contains("मॉडल चुनें")').prop("selected",!0):$("#buy-search").find('.cust_model1 option:contains("Select Model")').prop("selected",!0)}}),$(".cust_model1").change(function(){""==$(".cust_model1").val()?$("#cust_model-error").show():($("#cust_model-error").hide(),localStorage.setItem("cust_model1",$("#cust_model1").find("option:selected").text()))}),$(".cust_budget").change(function(){""==$(".cust_budget").val()?$("#cust_budget-error").show():($("#cust_budget-error").hide(),localStorage.setItem("cust_budget",$("#cust_budget").find("option:selected").text()))}),$(".cust_city").change(function(){""==$(".cust_city").val()?$("#cust_city-error").show():($("#cust_city-error").hide(),localStorage.setItem("autocomplete_locator_home_buy",$(this).find("option:selected").val()))}),$("#buysearchButton").on("click",function(){buySearch($("#cust_model1").find("option:selected").text(),$("#cust_budget").find("option:selected").text(),$("#cust_city").find("option:selected").text()),localStorage.getItem("cust_model1")&&localStorage.removeItem("cust_model1"),localStorage.getItem("cust_budget")&&localStorage.removeItem("cust_budget"),localStorage.getItem("autocomplete_locator_home_buy")&&localStorage.removeItem("autocomplete_locator_home_buy");var e,t=$("#cust_model1").val(),a=$("#cust_budget").val(),o=$("#cust_city").val(),i={utm_source:"",utm_medium:"",utm_campaign:"",utm_content:"",utm_campaignid:"",utm_adgroupId:"",utm_adtextid:"",utm_term:""};e=~window.location.href.indexOf("utm_")?~window.location.href.indexOf("hi-IN")||~window.location.href.indexOf("hi-in")?window.location.href.split("?")[0]+"/buy-car":window.location.href.split("?")[0]+"buy-car":~window.location.href.indexOf("hi-IN")||~window.location.href.indexOf("hi-in")?window.location.href+"/buy-car":window.location.href+"buy-car",t&&(e=AlterQueryString(e,"modeltype",t)),a&&(e=AlterQueryStringWithoutEncodeURI(e,"budgetRange",a)),o&&(e=AlterQueryString(e,"listingCity",o),e=AlterQueryString(e,"CarCityRange","50")),localStorage.getItem("utm_source")&&(i.utm_source=localStorage.getItem("utm_source")),localStorage.getItem("utm_medium")&&(i.utm_medium=localStorage.getItem("utm_medium")),localStorage.getItem("utm_campaign")&&(i.utm_campaign=localStorage.getItem("utm_campaign")),localStorage.getItem("utm_content")&&(i.utm_content=localStorage.getItem("utm_content")),localStorage.getItem("utm_campaignid")&&(i.utm_campaignid=localStorage.getItem("utm_campaignid")),localStorage.getItem("utm_adgroupId")&&(i.utm_adgroupId=localStorage.getItem("utm_adgroupId")),localStorage.getItem("utm_adtextid")&&(i.utm_adtextid=localStorage.getItem("utm_adtextid")),
localStorage.getItem("utm_term")&&(i.utm_term=localStorage.getItem("utm_term")),window.location=decodeURIComponent(e)}),$("#sell-search").find(".vregistration").on("keyup",function(){this.value=this.value.toUpperCase(),localStorage.setItem("vregistration",this.value.toUpperCase())}),$("#sell-search").find(".vregistration").css("background-image","none"),$("#sell-search").find(".vmobile").on("keyup",function(){localStorage.setItem("vmobile",this.value)}),$("#sell-search").find(".vEmail").on("change",function(){var e=$(this).val();""===e&&$(".form-control.vEmail").removeClass("is-valid").removeClass("is-invalid")}),jQuery.validator.addMethod("email_regex",function(e,t){return this.optional(t)||/^[\w\.=-]+@[\w\.-]+\.[\w]{2,3}$/.test(e)});var e=$("#sell-search").validate({rules:{vregistration:{required:!0,minlength:7,maxlength:13,name_regex:/^(?=.*[0-9])(?=.*[A-Z])([A-Z0-9]+)$/},vmobile:{required:!0,number:!0,mobile_regex:/^[^0-5]\d{9}$/},vname:{required:!0,minlength:3,maxlength:20,name_regex:/^[A-z]*((-|\s)*[A-z])*$/g},vEmail:{email:!0,name_regex:/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/}},messages:{vmobile:{required:$(".vmobile").attr("data-empty"),mobile_regex:$(".vmobile").attr("data-error")},vregistration:{required:$("#vregistration").attr("data-empty"),name_regex:$("#vregistration").attr("data-error"),minlength:$("#vregistration").attr("data-error")},vname:{required:$("#vname").attr("data-empty"),name_regex:$("#vname").attr("data-error"),minlength:$("#vname").attr("data-error")},vEmail:$("#vEmail").attr("data-error")},errorElement:"em",errorPlacement:function(e,t){e.addClass("invalid-feedback"),"select-one"===t.prop("type")?e.insertAfter(t.parents(".form__item")):e.insertAfter(t.parents(".form__item"))},submitHandler:function(e){e.submit()}});$("#vEmail").focusout(function(){var e=$(this).val();e.length||(emailIntervalVemail=setInterval(function(){$("#vEmail").removeClass("is-valid"),clearInterval(emailIntervalVemail)},500))});var t=getDataFromLocal("location"),a={utm_source:""};$("#sellsearchButton").click(function(){var o=window.location.href;if(~o.indexOf("utm_")){var i=window.location.href.split("?");if(i.length>=2){var r=i[1],n=r.split("&"),l=0;$(n).each(function(){var e=n[l].split("=")[0],t=n[l].split("=")[1];"utm_source"==e&&(a.utm_source=t),"utm_medium"==e&&(a.utm_medium=t),"utm_campaign"==e&&(a.utm_campaign=t),"utm_content"==e&&(a.utm_content=t),"utm_campaignid"==e&&(a.utm_campaignid=t),"utm_adgroupId"==e&&(a.utm_adgroupId=t),"utm_adtextid"==e&&(a.utm_adtextid=t),"utm_term"==e&&(a.utm_term=t),l++})}}if(localStorage.getItem("utm_source")&&(a.utm_source=localStorage.getItem("utm_source")),localStorage.getItem("utm_medium")&&(a.utm_medium=localStorage.getItem("utm_medium")),localStorage.getItem("utm_campaign")&&(a.utm_campaign=localStorage.getItem("utm_campaign")),localStorage.getItem("utm_content")&&(a.utm_content=localStorage.getItem("utm_content")),localStorage.getItem("utm_campaignid")&&(a.utm_campaignid=localStorage.getItem("utm_campaignid")),localStorage.getItem("utm_adgroupId")&&(a.utm_adgroupId=localStorage.getItem("utm_adgroupId")),localStorage.getItem("utm_adtextid")&&(a.utm_adtextid=localStorage.getItem("utm_adtextid")),localStorage.getItem("utm_term")&&(a.utm_term=localStorage.getItem("utm_term")),t?(a.userLatitude=t.lat,a.userLongitude=t["long"]):(a.userLatitude="",a.userLongitude=""),e.form()){localStorage.getItem("vregistration")&&localStorage.removeItem("vregistration"),localStorage.getItem("vmobile")&&localStorage.removeItem("vmobile"),localStorage.getItem("vcity")&&localStorage.removeItem("vcity"),sellSearch($("#vname").val(),$("#vmobile").val(),$("#vregistration").val(),"");var s={name:$("#vname").val(),mobile:$("#vmobile").val(),registration_no:$("#vregistration").val(),email:$("#vEmail").val()},c=$("#vregistration").val();c&&postDetails("/api/sitecore/Forms/SendOTPSellPage",JSON.stringify(s)).then(function(e){if(0==e.status)$(".otp-modal").modal("show"),$("#resendOTP").hide(),timeInterval("#tcount"),$(".loginInputRow button").removeClass(),$(".loginInputRow button").addClass("SellWidgetOTPSubmit"),$(".loginInputRow #resendOTP").removeClass(),$(".loginInputRow #resendOTP").addClass("resendbtn"),$(".loginInputRow #resendOTP").addClass("SellWidgetOTPSubmit"),otpBTDSubmit();else if(1==e.status){$(".otp-modal").modal("hide");var t=e.Web_ref_id,o=e.enquiry_id,i=window.location.href,r="homepage=1";localStorage.setItem("buysellMobile",$("#vmobile").val()),localStorage.setItem("buysellName",$("#vname").val()),localStorage.setItem("buysellRegist",$("#vregistration").val()),localStorage.setItem("buysellemail",$("#vEmail").val()),localStorage.setItem("web_Ref_ID",t),localStorage.setItem("enquiry_id",o),localStorage.setItem("utm_source",a.utm_source),localStorage.setItem("utm_medium",a.utm_medium),localStorage.setItem("utm_campaign",a.utm_campaign),localStorage.setItem("utm_content",a.utm_content),localStorage.setItem("userLatitude",a.userLatitude),localStorage.setItem("userLongitude",a.userLongitude),localStorage.setItem("utm_campaignid",a.utm_campaignid),localStorage.setItem("utm_adgroupId",a.utm_adgroupId),localStorage.setItem("utm_adtextid",a.utm_adtextid),localStorage.setItem("utm_term",a.utm_term),localStorage.setItem("buyselltype",e.selltype),localStorage.setItem("buysellYOM",e.YOM),~i.indexOf("utm_"),r=encodeURIComponent(r),~window.location.href.indexOf("hi-IN")||~window.location.href.indexOf("hi-in")?window.open("/hi-in/sell-cars?"+r,"_self"):window.open("/sell-cars?"+r,"_self")}else $(".infoIconPopup .infoIconPopup_p").text(e.message),$(".errorModal").modal("show")})["catch"](function(e){console.log(e)})}""==$("#vEmail").val()&&$("#vEmail").removeClass("is-valid")}),$(".loginButt").on("click",".SellWidgetOTPSubmit",function(){var e=$("#otpText").val();if(""!=e){var t={otp:e,name:$("#vname").val(),mobile:$("#vmobile").val(),registration_no:$("#vregistration").val(),email:$("#vEmail").val()};a.utm_source&&(t.utm_source=a.utm_source),a.utm_medium&&(t.utm_medium=a.utm_medium),a.utm_campaign&&(t.utm_campaign=a.utm_campaign),a.utm_content&&(t.utm_content=a.utm_content),a.utm_campaignid&&(t.utm_campaignid=a.utm_campaignid),a.utm_adgroupId&&(t.utm_adgroupId=a.utm_adgroupId),a.utm_adtextid&&(t.utm_adtextid=a.utm_adtextid),a.utm_term&&(t.utm_term=a.utm_term),postDetails("/api/sitecore/Forms/OTPVerificationSellPage",JSON.stringify(t)).then(function(e){if(1==e.status){$("#otpText").val(""),$(".otp-modal").modal("hide");var t=e.Web_ref_id,o=e.enquiry_id,i="homepage=1";localStorage.setItem("buysellMobile",$("#vmobile").val()),localStorage.setItem("buysellName",$("#vname").val()),localStorage.setItem("buysellRegist",$("#vregistration").val()),localStorage.setItem("buysellemail",$("#vEmail").val()),localStorage.setItem("web_Ref_ID",t),localStorage.setItem("enquiry_id",o),localStorage.setItem("utm_source",a.utm_source),localStorage.setItem("utm_medium",a.utm_medium),localStorage.setItem("utm_campaign",a.utm_campaign),localStorage.setItem("utm_content",a.utm_content),localStorage.setItem("userLatitude",a.userLatitude),localStorage.setItem("userLongitude",a.userLongitude),localStorage.setItem("utm_campaignid",a.utm_campaignid),localStorage.setItem("utm_adgroupId",a.utm_adgroupId),localStorage.setItem("utm_adtextid",a.utm_adtextid),localStorage.setItem("utm_term",a.utm_term),localStorage.setItem("buyselltype",sellWidgetRes.selltype),localStorage.setItem("buysellYOM",sellWidgetRes.YOM),i=encodeURIComponent(i),~window.location.href.indexOf("hi-IN")||~window.location.href.indexOf("hi-in")?window.open("/hi-in/sell-cars?"+i,"_self"):window.open("/sell-cars?"+i,"_self")}else estimateOTP(e.status),$(".otp-error").text(e.message)})["catch"](function(e){console.log(e)})}else $(".otp-error").text("Please enter OTP")}),$(".otpsent").on("click",".SellWidgetOTPSubmit",function(){var e=$("#vmobile").val(),t=$("#vname").val(),a=$("#vregistration").val(),o=$("#vEmail").val(),i={MobileNumber:e,name:t,registration_no:a,email:o};resendOTP(JSON.stringify(i)).then(function(e){1==e.status?($("#resendOTP").hide(),timeInterval("#tcount"),$(".otpsent p").show(),estimateOTP(e.status)):(estimateOTP(e.status),$(".infoIconPopup .infoIconPopup_p").text(e.message),$(".errorModal").modal("show"))})["catch"](function(e){console.log(e)})}),$("#slctmodel_m").change(function(){""==!$("#slctmodel_m").val()&&localStorage.setItem("cust_budget",$("#slctmodel_m").find("option:selected").text())}),~window.location.href.indexOf("hi-IN")||~window.location.href.indexOf("hi-in")?$("#slctmodel_m").empty().append('<option selected="selected" value="">मॉडल चुनें</option>'):$("#slctmodel_m").empty().append('<option selected="selected" value="">Select Model</option>'),"block"===$(".mobileform").css("display")&&getData("/api/sitecore/BuySell/GetELModel").then(function(e){for(var t=0;t<e.aggregations.Car_Models.buckets.length;t++){var a=$("<option></option>");a.attr("value",e.aggregations.Car_Models.buckets[t].key),a.text(e.aggregations.Car_Models.buckets[t].key.toUpperCase()),$("#slctmodel_m").append(a),$("#slctmodel_m").val(e.aggregations.Car_Models.buckets[t].key),$('#slctmodel_m option:contains("Select Model")').prop("selected",!0),~window.location.href.indexOf("hi-IN")||~window.location.href.indexOf("hi-in")?$('#slctmodel_m option:contains("मॉडल चुनें")').prop("selected",!0):$('#slctmodel_m option:contains("Select Model")').prop("selected",!0)}}),$("#sell-search-mob").find(".vnameM").on("keyup",function(){localStorage.setItem("vname",this.value)}),$("#sell-search-mob").find(".vregistrationM").on("keyup",function(){this.value=this.value.toUpperCase(),localStorage.setItem("vregistration",this.value.toUpperCase())}),$("#sell-search-mob").find(".vregistrationM").css("background-image","none"),$("#sell-search-mob").find(".vmobileM").on("keyup",function(){localStorage.setItem("vmobile",this.value)});var o=$("#sell-search-mob").validate({rules:{vmobileM:{required:!0,number:!0,mobile_regex:/^[^0-5]\d{9}$/},vregistrationM:{required:!0,name_regex:/^(?=.*[0-9])(?=.*[A-Z])([A-Z0-9]+)$/,minlength:7,maxlength:13},vnameM:{required:!0,minlength:3,maxlength:20,name_regex:/^[A-z]*((-|\s)*[A-z])*$/g},vEmailM:{email:!0,name_regex:/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/}},messages:{vmobileM:{required:$(".vmobileM").attr("data-empty"),mobile_regex:$(".vmobileM").attr("data-error")},vregistrationM:{required:$("#vregistrationM").attr("data-empty"),name_regex:$("#vregistrationM").attr("data-error"),minlength:$("#vregistrationM").attr("data-error")},vnameM:{required:$("#vname").attr("data-empty"),name_regex:$("#vname").attr("data-error"),minlength:$("#vname").attr("data-error")},vEmailM:$("#vEmailM").attr("data-error")},errorElement:"em",errorPlacement:function(e,t){e.addClass("invalid-feedback"),"select-one"===t.prop("type")?e.insertAfter(t):e.insertAfter(t)},submitHandler:function(e){e.submit()}});$(".vmobileM").change(function(){""==$(".vmobileM").val()?$("#vmobileM-error").show():$("#vmobileM-error").hide()}),$("#sellsearchButtonMob").click(function(){var e={utm_source:""},a=window.location.href;if(~a.indexOf("utm_")){var i=window.location.href.split("?");if(i.length>=2){var r=i[1],n=r.split("&"),l=0;$(n).each(function(){var t=n[l].split("=")[0],a=n[l].split("=")[1];"utm_source"==t&&(e.utm_source=a),"utm_medium"==t&&(e.utm_medium=a),"utm_campaign"==t&&(e.utm_campaign=a),"utm_content"==t&&(e.utm_content=a),"utm_campaignid"==t&&(e.utm_campaignid=a),"utm_adgroupId"==t&&(e.utm_adgroupId=a),"utm_adtextid"==t&&(e.utm_adtextid=a),"utm_term"==t&&(e.utm_term=a),l++})}}if(localStorage.getItem("utm_source")&&(e.utm_source=localStorage.getItem("utm_source")),localStorage.getItem("utm_medium")&&(e.utm_medium=localStorage.getItem("utm_medium")),localStorage.getItem("utm_campaign")&&(e.utm_campaign=localStorage.getItem("utm_campaign")),localStorage.getItem("utm_content")&&(e.utm_content=localStorage.getItem("utm_content")),localStorage.getItem("utm_campaignid")&&(e.utm_campaignid=localStorage.getItem("utm_campaignid")),localStorage.getItem("utm_adgroupId")&&(e.utm_adgroupId=localStorage.getItem("utm_adgroupId")),localStorage.getItem("utm_adtextid")&&(e.utm_adtextid=localStorage.getItem("utm_adtextid")),localStorage.getItem("utm_term")&&(e.utm_term=localStorage.getItem("utm_term")),t?(e.userLatitude=t.lat,e.userLongitude=t["long"]):(e.userLatitude="",e.userLongitude=""),o.form()){localStorage.getItem("vregistration")&&localStorage.removeItem("vregistration"),localStorage.getItem("vmobile")&&localStorage.removeItem("vmobile"),localStorage.getItem("vcity")&&localStorage.removeItem("vcity"),sellSearch($("#vnameM").val(),$("#vmobileM").val(),$("#vregistrationM").val(),"");var s={name:$("#vnameM").val(),mobile:$("#vmobileM").val(),registration_no:$("#vregistrationM").val(),email:$("#vEmailM").val()},c=$("#vregistrationM").val();c&&postDetails("/api/sitecore/Forms/SendOTPSellPage",JSON.stringify(s)).then(function(t){if(0==t.status)$(".otp-modal").modal("show"),$("#resendOTP").hide(),timeInterval("#tcount"),$(".loginInputRow button").removeClass(),$(".loginInputRow button").addClass("SellWidgetOTPSubmitMobile"),$(".loginInputRow #resendOTP").removeClass(),$(".loginInputRow #resendOTP").addClass("resendbtn"),$(".loginInputRow #resendOTP").addClass("SellWidgetOTPSubmitMobile"),otpBTDSubmit();else if(1==t.status){$(".otp-modal").modal("hide");var a=t.Web_ref_id,o=t.enquiry_id,i="homepage=1";localStorage.setItem("buysellMobile",$("#vmobileM").val()),localStorage.setItem("buysellName",$("#vnameM").val()),localStorage.setItem("buysellRegist",$("#vregistrationM").val()),localStorage.setItem("buysellemail",$("#vEmailM").val()),localStorage.setItem("web_Ref_ID",a),localStorage.setItem("enquiry_id",o),localStorage.setItem("utm_source",e.utm_source),localStorage.setItem("utm_medium",e.utm_medium),localStorage.setItem("utm_campaign",e.utm_campaign),localStorage.setItem("utm_content",e.utm_content),localStorage.setItem("userLatitude",e.userLatitude),localStorage.setItem("userLongitude",e.userLongitude),localStorage.setItem("utm_campaignid",e.utm_campaignid),localStorage.setItem("utm_adgroupId",e.utm_adgroupId),localStorage.setItem("utm_adtextid",e.utm_adtextid),localStorage.setItem("utm_term",e.utm_term),localStorage.setItem("buyselltype",t.selltype),localStorage.setItem("buysellYOM",t.YOM),i=encodeURIComponent(i),~window.location.href.indexOf("hi-IN")||~window.location.href.indexOf("hi-in")?window.open("/hi-in/sell-cars?"+i,"_self"):window.open("/sell-cars?"+i,"_self")}else $(".infoIconPopup .infoIconPopup_p").text(t.message),$(".errorModal").modal("show")})["catch"](function(e){console.log(e)})}}),$(".loginButt").on("click",".SellWidgetOTPSubmitMobile",function(){var e=$("#otpText").val();if(""!=e){var t={otp:e,name:$("#vnameM").val(),mobile:$("#vmobileM").val(),registration_no:$("#vregistrationM").val(),email:$("#vEmailM").val()};a.utm_source&&(t.utm_source=a.utm_source),a.utm_medium&&(t.utm_medium=a.utm_medium),a.utm_campaign&&(t.utm_campaign=a.utm_campaign),a.utm_content&&(t.utm_content=a.utm_content),a.utm_campaignid&&(t.utm_campaignid=a.utm_campaignid),a.utm_adgroupId&&(t.utm_adgroupId=a.utm_adgroupId),a.utm_adtextid&&(t.utm_adtextid=a.utm_adtextid),a.utm_term&&(t.utm_term=a.utm_term),postDetails("/api/sitecore/Forms/OTPVerificationSellPage",JSON.stringify(t)).then(function(e){if(1==e.status){$("#otpText").val(""),$(".otp-modal").modal("hide");var t=e.Web_ref_id,o=e.enquiry_id;url="homepage=1",localStorage.setItem("buysellMobile",$("#vmobileM").val()),localStorage.setItem("buysellName",$("#vnameM").val()),localStorage.setItem("buysellRegist",$("#vregistrationM").val()),localStorage.setItem("buysellemail",$("#vEmailM").val()),localStorage.setItem("web_Ref_ID",t),localStorage.setItem("enquiry_id",o),localStorage.setItem("utm_source",a.utm_source),localStorage.setItem("utm_medium",a.utm_medium),localStorage.setItem("utm_campaign",a.utm_campaign),localStorage.setItem("utm_content",a.utm_content),localStorage.setItem("userLatitude",a.userLatitude),localStorage.setItem("userLongitude",a.userLongitude),localStorage.setItem("utm_campaignid",a.utm_campaignid),localStorage.setItem("utm_adgroupId",a.utm_adgroupId),localStorage.setItem("utm_adtextid",a.utm_adtextid),localStorage.setItem("utm_term",a.utm_term),localStorage.setItem("buyselltype",e.selltype),localStorage.setItem("buysellYOM",e.YOM),url=encodeURIComponent(url),~window.location.href.indexOf("hi-IN")||~window.location.href.indexOf("hi-in")?window.open("/hi-in/sell-cars?"+url,"_self"):window.open("/sell-cars?"+url,"_self")}else estimateOTP(e.status),$(".otp-error").text(e.message)})["catch"](function(e){console.log(e)})}else $(".otp-error").text("Please enter OTP")}),$(".otpsent").on("click",".SellWidgetOTPSubmitMobile",function(){var e=$("#vmobileM").val(),t=$("#vnameM").val(),a=$("#vregistrationM").val(),o=$("#vEmailM").val(),i={MobileNumber:e,name:t,registration_no:a,email:o};resendOTP(JSON.stringify(i)).then(function(e){1==e.status?($("#resendOTP").hide(),timeInterval("#tcount"),$(".otpsent p").show(),estimateOTP(e.status)):(estimateOTP(e.status),$(".infoIconPopup .infoIconPopup_p").text(e.message),$(".errorModal").modal("show"))})["catch"](function(e){console.log(e)})})}),$(".cust_city_m").change(function(){""==$(".cust_city_m").val()?$("#cust_city_m-error").show():($("#cust_city_m-error").hide(),localStorage.setItem("autocomplete_locator_home_buy",$(this).find("option:selected").val()))}),$("#buySubmitM").on("click",function(){localStorage.getItem("cust_model1")&&localStorage.removeItem("cust_model1"),localStorage.getItem("cust_budget")&&localStorage.removeItem("cust_budget"),localStorage.getItem("autocomplete_locator_home_buy")&&localStorage.removeItem("autocomplete_locator_home_buy");var e,t=$("#cust_city_m").val(),a=$("#slctmodel_m").val(),o=$("#seclectBudgetMobile ul li.active").data("value"),i={utm_source:"",utm_medium:"",utm_campaign:"",utm_content:"",utm_campaignid:"",utm_adgroupId:"",utm_adtextid:"",utm_term:""};return $("em1 em2 em3").empty(),e=~window.location.href.indexOf("utm_")?~window.location.href.indexOf("hi-IN")||~window.location.href.indexOf("hi-in")?window.location.href.split("?")[0]+"/buy-car":window.location.href.split("?")[0]+"buy-car":~window.location.href.indexOf("hi-IN")||~window.location.href.indexOf("hi-in")?window.location.href+"/buy-car":window.location.href+"buy-car",a&&(e=AlterQueryString(e,"modeltype",a)),o&&(e=AlterQueryStringWithoutEncodeURI(e,"budgetRange",o)),t&&(e=AlterQueryString(e,"listingCity",t),e=AlterQueryString(e,"CarCityRange","50")),localStorage.getItem("utm_source")&&(i.utm_source=localStorage.getItem("utm_source")),localStorage.getItem("utm_medium")&&(i.utm_medium=localStorage.getItem("utm_medium")),localStorage.getItem("utm_campaign")&&(i.utm_campaign=localStorage.getItem("utm_campaign")),localStorage.getItem("utm_content")&&(i.utm_content=localStorage.getItem("utm_content")),localStorage.getItem("utm_campaignid")&&(i.utm_campaignid=localStorage.getItem("utm_campaignid")),localStorage.getItem("utm_adgroupId")&&(i.utm_adgroupId=localStorage.getItem("utm_adgroupId")),localStorage.getItem("utm_adtextid")&&(i.utm_adtextid=localStorage.getItem("utm_adtextid")),localStorage.getItem("utm_term")&&(i.utm_term=localStorage.getItem("utm_term")),window.location=decodeURIComponent(e),!0}),$("#slctCity").change(function(){$("em1").empty()}),$(document).ready(function(){$("#buyCount").click(function(){$("em2").empty()}),$("#seclectBudgetMobile").click(function(){$("em3").empty()})}),$("#seclectBudgetMobile ul li").on("click",function(){$("#seclectBudgetMobile ul li").removeClass("active"),$(this).addClass("active")}),$(document).ready(function(){function e(e){a=80*e/100,o=14,i=60,r.update({from:a,max:e}),n.update({max:72,from:60}),l.update({max:15,from:14}),t()}function t(){var e=parseFloat(o/1200);if(0==e)if(0==i)if(0==n)var t=parseFloat(a);else var t=parseFloat(a,i)/i;else var t=parseFloat(a,i)/i;else var t=parseFloat(a*e/(1-Math.pow(1/(1+e),i)));var r=withoutCommaSepratedPrice(t),l=toCommaSepratedPrice(t);tdSubmit({eventCategory:"Calculate EMI",eventAction:"Click",eventLabel:l},"event_trv"),o&&i?$(".rightcaldetails").find("#emiprice").text(r):$(".rightcaldetails").find("#emiprice").text(r)}var a=0,o=14,i=60;$("#demo1").ionRangeSlider({min:0,max:0,from:0,drag_interval:!0,step:1e3,prefix:"₹",prettify:withoutCommaSepratedPrice,onFinish:function(e){a=e.from,t()}});var r=$("#demo1").data("ionRangeSlider");$("#demo2").ionRangeSlider({min:0,max:72,from_min:1,from:60,onFinish:function(e){i=e.from,t()}});var n=$("#demo2").data("ionRangeSlider");$("#demo3").ionRangeSlider({min:0,max:15,from:14,step:.1,postfix:"%",onFinish:function(e){o=e.from,t()}});var l=$("#demo3").data("ionRangeSlider");$(".priceSection").find(".emicalculate").click(function(t){var a,o=parseFloat($(this).data("price")),i=$(this).parent().parent().parent();a=i.find("h5 a").length?$(this).parent().parent().parent().find("h5 a").text():i.find(".carDetNameTitle").length?$(this).parent().parent().parent().find(".carDetNameTitle").text():"",e(o),emiClickEventTrack(a)}),$(".listingBlockMain").on("click",".emicalculate",function(){var t=parseFloat($(this).data("price")),a=$(this).parent().parent().parent().find("h5 a").text();e(t),emiClickEventTrack(a)}),$(".carDetailPage").on("click",".emicalculate",function(){var t=parseFloat($(this).data("price"));e(t)})}),$(document).ready(function(){function e(e,t,a){if("btnCarDetailsCD"==t){if("O"==e)var o="not available";else var o="available";contactDealer({event:"form_fill_actions",eventCategory:"Form Submit ",eventAction:"submit",eventLabel:"Contact dealer-Detail Page",cd_timestamp:(new Date).getTime(),cd_userid:calcMD5((new Date).getTime()),cd_enquiry_number:convertSHA($("#form-car-details").find("#mobile_carDetails").val()),"content id":c,cd_model_variant_selected:r[1],cd_car_location:r[9],cd_car_availability:o,cd_car_price:r[4],cd_body_style:r[5],"cd_Preferred Price Range":r[4],cd_car_Make:r[7],cd_manf_year:r[8]}),tdSubmit({name:convertAES(a.name),mobile:convertSHA(a.mobile),email:convertSHA(a.email),name_plain:a.name,mobile_plain:a.mobile,email_plain:a.email,dealer:r[10],model:r[1],formid:"contact_dealer_trv"},"contact_dealer_trv"),tdSubmit({eventCategory:"Form Submit",eventAction:"Submit",eventLabel:"Contact Dealer - "+i},"event_trv")}else{if("O"==e)var o="not available";else var o="available";bookTestDrive({event:"form_fill_actions",eventCategory:"Form Submit ",eventAction:"submit",eventLabel:"Book a test drive-Detail Page","content id":c,cd_timestamp:(new Date).getTime(),cd_userid:calcMD5((new Date).getTime()),cd_enquiry_number:convertSHA($("#form-car-details").find("#mobile_carDetails").val()),cd_model_variant_selected:r[1],cd_car_location:r[9],cd_car_availability:o,cd_car_price:r[4],cd_body_style:r[5],"cd_Preferred Price Range":r[4],cd_car_Make:r[7],cd_manf_year:r[8]}),tdSubmit({name:convertAES(a.name),mobile:convertSHA(a.mobile),email:convertSHA(a.email),name_plain:a.name,mobile_plain:a.mobile,email_plain:a.email},"book_test_drive_trv"),tdSubmit({eventCategory:"Form Submit",eventAction:"Submit",eventLabel:"Book Test Drive - Detail page - "+i},"event_trv")}}var t,a,o,i,r=[],n=window.location.pathname.split("/");if("buy-car"==n[1]&&n[2]){var l=window.location.pathname.split("/")[3],s={carId_CarDetails:l};postDetailsWithoutLoader("/api/sitecore/API/GTMData",JSON.stringify(s)).then(function(e){e.hits.hits.length&&(r.push(e.hits.hits[0]._id),r.push(e.hits.hits[0]._source.model),r.push(e.hits.hits[0]._source.location),r.push(e.hits.hits[0]._source.stockUpdated),r.push(e.hits.hits[0]._source.price),r.push(e.hits.hits[0]._source.carType),r.push(e.hits.hits[0]._source.priceLabel),r.push(e.hits.hits[0]._source.make),r.push(e.hits.hits[0]._source.mfYear),r.push(e.hits.hits[0]._source.dealerCity),r.push(e.hits.hits[0]._source.dealerName))}),i=$(".carDetNamePriceMain.forDesktop .carDetNameTitle").text().trim()}var c,d,m=$("#form-car-details").validate({rules:{name:{required:!0,minlength:3,maxlength:30,name_regex:/^[A-z]*((-|\s)*[A-z])*$/g},email:{email:!0,email_regex:/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/},policyy:{required:!0},mobile:{required:!0,number:!0,mobile_regex:/^[^0-5]\d{9}$/}},messages:{name:{required:$(".name").attr("data-empty"),name_regex:$(".name").attr("data-error"),minlength:$(".name").attr("data-error")},policyy:$(".policyy").attr("data-empty"),email:$(".email2").attr("data-error"),mobile:{required:$(".mobile").attr("data-empty"),mobile_regex:$(".mobile").attr("data-error")}},errorElement:"em",errorPlacement:function(e,t){e.addClass("invalid-feedback"),"checkbox"===t.prop("type")?e.insertAfter(t.next("label")):e.insertAfter(t)},highlight:function(e,t,a){$(e).addClass("is-invalid").removeClass("is-valid")},unhighlight:function(e,t,a){$(e).addClass("is-valid").removeClass("is-invalid")},submitHandler:function(e){e.submit()}}),p=getDataFromLocal("location");o=$("#cartype").val();var u=$("#pagetype").val();"O"==o&&($(window).width()<1e3?$(".testDriveRedButton.forMobile").find(".testDrvLinkBtn").hide():$("#btnCarDetailsBTD").hide()),$("#form-car-details").find(".redButton").click(function(i){var r=$(this).attr("id");"carmela"==u?"btnCarDetailsCD"==r?(t="/api/sitecore/ContactDealer/ContactDealerForm",a="/api/sitecore/ContactDealer/VerifyOTPContactDealerForm"):(t="/api/sitecore/CarMela/BookATestDriveCarmela",a="/api/sitecore/CarMela/VerifyOTPBookTestDriveCarmela"):"btnCarDetailsCD"==r?(t="/api/sitecore/ContactDealer/ContactDealerForm",a="/api/sitecore/ContactDealer/VerifyOTPContactDealerForm"):(t="/api/sitecore/BookATestDrive/BookATestDriveForm",a="/api/sitecore/BookATestDrive/VerifyOTPBookTestDriveForm");var n={p_buy_id:""};n.p_buy_id=$("#hdnbuyingid").val();var l=window.location.href;c=$(this).attr("data-carid"),m.form()&&n.p_buy_id&&postDetails("/api/sitecore/BookATestDrive/BtdStock",JSON.stringify(n)).then(function(a){if("success"==a.status)if("I"==a.ApiResponse.result.p_status)$(".infoIconPopup .infoIconPopup_p").text(a.message),$(".errorModal").modal("show");else if($("#form-car-details").find("#policyy:checked").val()){if(d={name:$("#name").val().trim(),mobile:$("#form-car-details").find("#mobile_carDetails").val(),email:$("#email_carDetails").val(),carId:c},~l.indexOf("utm_")){var i=window.location.href.split("?");if(i.length>=2){var n=i[1],s=n.split("&"),m=0;$(s).each(function(){var e=s[m].split("=")[0],t=s[m].split("=")[1];"utm_source"==e&&(d.utm_source=t),"utm_medium"==e&&(d.utm_medium=t),"utm_campaign"==e&&(d.utm_campaign=t),"utm_content"==e&&(d.utm_content=t),"utm_campaignid"==e&&(d.utm_campaignid=t),"utm_adgroupId"==e&&(d.utm_adgroupId=t),"utm_adtextid"==e&&(d.utm_adtextid=t),"utm_term"==e&&(d.utm_term=t),m++})}p&&(d.userLatitude=p.lat,d.userLongitude=p["long"])}localStorage.getItem("utm_source")&&(d.utm_source=localStorage.getItem("utm_source")),localStorage.getItem("utm_medium")&&(d.utm_medium=localStorage.getItem("utm_medium")),localStorage.getItem("utm_campaign")&&(d.utm_campaign=localStorage.getItem("utm_campaign")),localStorage.getItem("utm_content")&&(d.utm_content=localStorage.getItem("utm_content")),localStorage.getItem("utm_campaignid")&&(d.utm_campaignid=localStorage.getItem("utm_campaignid")),localStorage.getItem("utm_adgroupId")&&(d.utm_adgroupId=localStorage.getItem("utm_adgroupId")),localStorage.getItem("utm_adtextid")&&(d.utm_adtextid=localStorage.getItem("utm_adtextid")),localStorage.getItem("utm_term")&&(d.utm_term=localStorage.getItem("utm_term")),p&&(d.userLatitude=p.lat,d.userLongitude=p["long"]),$("#resendOTP").hide(),postDetails(t,JSON.stringify(d)).then(function(t){0==t.status?($(".otp-modal").modal("show"),$(".loginButt").find("#btnnamede").remove(),$(".loginButt").append('<input type="hidden" value="'+r+'"  id="btnnamede"/>'),$("#resendOTP").hide(),timeInterval("#tcount"),$(".loginInputRow #otpsubmit").removeClass(),$(".loginInputRow #otpsubmit").addClass("BookTestDriveOTPSubmit"),$(".loginInputRow #resendOTP").removeClass(),$(".loginInputRow #resendOTP").addClass("resendbtn"),$(".loginInputRow #resendOTP").addClass("BookTestDriveOTPSubmit"),otpBTDSubmit()):1==t.status?(postDetails("/api/sitecore/ContactDealer/GetDealerDetails",JSON.stringify({carid:c})).then(function(e){if(1==e.status){var a={firstName:d.name,mobile:d.mobile,email:d.email,parentGroup:e.dealerDetailsResponse.data[0].PARENT_GROUP,dealerMapCode:e.dealerDetailsResponse.data[0].MDS_DEALER_MAP_CD,locCode:e.dealerDetailsResponse.data[0].MDS_LOC_CD};localStorage.setItem("ContactDealerForData",JSON.stringify(a)),window.open(e.RedirectToURL,"_self")}else window.open(t.RedirectToURL,"_self")}),e(o,r,d)):($(".infoIconPopup .infoIconPopup_p").text(t.message),$(".errorModal").modal("show"))})["catch"](function(e){console.log(e)})}else $(".infoIconPopup .infoIconPopup_p").text($("#policyy").attr("data-empty")),$(".errorModal").modal("show")})["catch"](function(e){console.log(e)});var s=$("#form-car-details").find(".email2").val();""===s&&$(".name").length&&$(".mobile").length&&$(".form-control.email2.is-valid").removeClass("is-valid")}),$(".loginButt").on("click",".BookTestDriveOTPSubmit",function(){var t=$("#otpText").val();c=$("#form-car-details").find(".redButton").attr("data-carid");var i=$(".loginButt").find("#btnnamede").val();if(""!=t){var r={otp:t,name:$("#name").val().trim(),mobile:$("#form-car-details").find("#mobile_carDetails").val(),email:$("#email_carDetails").val(),carId:c};d.utm_source&&(r.utm_source=d.utm_source),d.utm_medium&&(r.utm_medium=d.utm_medium),d.utm_campaign&&(r.utm_campaign=d.utm_campaign),d.utm_content&&(r.utm_content=d.utm_content),d.utm_campaignid&&(r.utm_campaignid=d.utm_campaignid),d.utm_adgroupId&&(r.utm_adgroupId=d.utm_adgroupId),d.utm_adtextid&&(r.utm_adtextid=d.utm_adtextid),d.utm_term&&(r.utm_term=d.utm_term),postDetails(a,JSON.stringify(r)).then(function(t){0==t.status?($(".otp-modal").modal("show"),$(".otp-error").text(t.message),estimateOTP(t.status)):1==t.status?(e(o,i,r),estimateOTP(t.status),postDetails("/api/sitecore/ContactDealer/GetDealerDetails",JSON.stringify({carid:c})).then(function(e){if(1==e.status){var a={firstName:d.name,mobile:d.mobile,email:d.email,parentGroup:e.dealerDetailsResponse.data[0].PARENT_GROUP,dealerMapCode:e.dealerDetailsResponse.data[0].MDS_DEALER_MAP_CD,locCode:e.dealerDetailsResponse.data[0].MDS_LOC_CD};localStorage.setItem("ContactDealerForData",JSON.stringify(a)),window.open(e.RedirectToURL,"_self")}else window.open(t.RedirectToURL,"_self")})):($(".infoIconPopup .infoIconPopup_p").text(t.message),$(".errorModal").modal("show"))})["catch"](function(e){console.log(e)})}else $(".otp-error").text("Please enter OTP")}),$(".otpsent").on("click",".BookTestDriveOTPSubmit",function(){var e=$(".mobile").val(),t=$(".name").val().trim(),a={MobileNumber:e,name:t};resendOTP(JSON.stringify(a)).then(function(e){1==e.status?($("#resendOTP").hide(),timeInterval("#tcount"),$(".otpsent p").show(),$(".otp-error").text("")):($(".infoIconPopup .infoIconPopup_p").text(e.message),$(".errorModal").modal("show"))})["catch"](function(e){console.log(e)})}),$(".testDriveRedButton.forMobile").find(".testDrvLinkBtn").click(function(){tdSubmit({eventCategory:"Book a test drive",eventAction:"Click",eventLabel:"/book-a-test-drive"},"event_trv");var e=$(this).parent().parent().find(".carDetNamePriceMain.forMobile .carDetNameBox .carDetNameTitle").text().trim(),t=$(this).data("track")+"|"+e;$("#form-book-test-drive").find(".carIdBooktestDrive").val(t),$("#form-book-test-drive").find(".blueButton").attr("data-carid",t)}),$(".testDriveRedButton.forMobile").find(".contactDealerLinkBtn").click(function(){var e,t;tdSubmit({eventCategory:"Contact dealer",eventAction:"Click",eventLabel:"/contact-dealer"},"event_trv"),e=$(this).parent().parent().find(".carDetNamePriceMain.forMobile .carDetNameBox .carDetNameTitle").text().trim(),e?(e=e.trim(),e=e.toLowerCase(),t=$(this).data("track")+"|"+e):t=$(this).data("track"),$("#form-contact-dealer").find(".cdcarIdBooktestDrive").val(t),$("#form-contact-dealer").find(".blueButton").attr("data-carid",t);
}),$(".carInformationdetailSection").find(".owl-carousel .owl-stage .owl-item").length<=4&&$(".carInformationdetailSection").find(".owl-carousel .owl-nav").css("display","none")}),function(){ra.financeslider={settings:{target:".mod-financeslider"},init:function(){this.bindfinanceCarouselEvent()},bindfinanceCarouselEvent:function(){$(".bankcarousel").owlCarousel({margin:20,responsiveClass:!0,autoplay:!0,autoplayTimeout:6e3,nav:!0,loop:!1,rewind:!0,lazyLoad:!0,items:1,autoplayHoverPause:!1,dots:!1,responsive:{0:{items:1.5},560:{items:2},767:{items:3},992:{items:4},1100:{items:5}}})}}}(ra),$(document).ready(function(){function e(e){a=80*e/100,o=14,i=60,$("#demo4").ionRangeSlider({min:0,max:e,from:a,drag_interval:!0,step:1e3,prefix:"₹",prettify:withoutCommaSepratedPrice,onFinish:function(e){a=e.from,t()}});$("#demo4").data("ionRangeSlider");$("#demo5").ionRangeSlider({min:1,max:72,from_min:1,from:60,onFinish:function(e){i=e.from,t()}});$("#demo5").data("ionRangeSlider");$("#demo6").ionRangeSlider({min:0,max:15,from:14,step:.1,postfix:"%",onFinish:function(e){o=e.from,t()}});$("#demo4").data("ionRangeSlider");t()}function t(){var e=parseFloat(o/1200);if(0==e)if(0==i)if(0==rateFinanceSlider)var t=parseFloat(a);else var t=parseFloat(a,i)/i;else var t=parseFloat(a,i)/i;else var t=parseFloat(a*e/(1-Math.pow(1/(1+e),i)));var r=withoutCommaSepratedPrice(t);r?$(".financecalculatebox").find("#emiprice").text(r):$(".financecalculatebox").find("#emiprice").text(r)}var a=0,o=14,i=60,r=$(".innerfinancebox").find("#price").val();e(r)}),function(){ra.filterfeature={settings:{target:".mod-filterfeature"},init:function(){this.bindfilterfeature()},bindfilterfeature:function(){if($(".card-header").on("click",function(){$(this).next().slideToggle(),$(this).find(".btn").toggleClass("active")}),""!=$("#List_car_id").val()&&""!=$("#List_car_model").val()&&""!=$("#List_model_year").val()&&""!=$("#List_price").val()&&void 0!=$("#List_car_id").val()&&void 0!=$("#List_car_model").val()&&void 0!=$("#List_model_year").val()&&void 0!=$("#List_price").val()){var e=$("#List_car_id").val().split(","),t=$("#List_car_model").val().split(","),a=$("#List_model_year").val().split(",").map(Number),o=$("#List_price").val().split(",").map(Number);msildl.push({event:"View_Content_Data",content_type:"vehicle",content_ids:e,country:"India",make:"Maruti Suzuki",model:t,year:a,price:o,currency:"INR"})}}}}(ra),$(document).ready(function(){function e(){O={dealerCode:[],dealerCity:[],kilometers:"",budgetRange:{Min:"",Max:""},carAge:{From:"",To:""},carBodyType:[],ownertype:[],fuelType:[],modeltype:[],varientType:[],transmissionType:[],CarColor:[],CarCityRange:"",certifiedCars:[],bookedCars:[]},H&&(O.dealerCode=H),Z&&(O.dealerCity=Z),$(".body_type ul li .active").each(function(){O.carBodyType.push($(this).attr("data-value"))}),$(".ownermain .owner").each(function(){$(this).is(":checked")&&O.ownertype.push($(this).data("value"))}),$(".fuelmain .fuel").each(function(){$(this).is(":checked")&&O.fuelType.push($(this).data("value"))}),$(".transmissionmain .transmission").each(function(){$(this).is(":checked")&&O.transmissionType.push($(this).data("value"))}),$(".colorPanelLeft .active a span").each(function(){O.CarColor.push($(this).attr("data-value"))}),$(".car_Budget ul li .active").data("min")&&$(".car_Budget ul li .active").data("max")&&(O.budgetRange={Min:$(".car_Budget ul li .active").data("min"),Max:$(".car_Budget ul li .active").data("max")}),$(".car_age ul li .active").data("max")&&(O.carAge={From:$(".car_age ul li .active").data("min"),To:$(".car_age ul li .active").data("max")}),$(".car_kilometer ul li .active").data("value")&&(O.kilometers=$(".car_kilometer ul li .active").data("value")),$(".range ul li .active").data("value")&&(O.CarCityRange=$(".range ul li .active").data("value")),$(".CustumCheckbox #trueValue1").is(":checked")&&O.certifiedCars.push("True Value Certified"),$(".CustumCheckbox #trueValue2").is(":checked")&&O.certifiedCars.push("Remove Booked Cars"),$(".carbrand .brand").each(function(){if($(this).is(":checked")){var e=$(this).data("value");O.modeltype.push(e);var t="."+spaceToUnderScore(e)+" .variant";$(t).each(function(){$(this).is(":checked")&&O.varientType.push($(this).data("value"))})}})}function t(){var e=JSON.parse(localStorage.getItem("compare")),t=JSON.parse(localStorage.getItem("wishlist")),a=[],o=[];e&&(e.forEach(function(e){a.push(e.carid)}),$(".listingBlockMain .carLising2 .col-12.col-md-6.col-xl-4").each(function(){a.indexOf($(this).find(".carBox .rightSection .leftContent .checkbox_wrapper input").attr("data-carid"))>-1&&$(this).find(".carBox .rightSection .leftContent .checkbox_wrapper input").prop("checked",!0)})),t&&(t.forEach(function(e){o.push(e.carid)}),$(".listingBlockMain .carLising2 .col-12.col-md-6.col-xl-4").each(function(){o.indexOf($(this).find(".carBox .leftSection .shareIcon .icon1").attr("data-carid"))>-1&&$(this).find(".carBox .leftSection .shareIcon .icon1").addClass("active")}))}function a(){$.getJSON("/assets/TRV/js/dataUrl/TrvCustomUrls.json",function(e){var t=e,a=window.location.pathname.split("/");if(a.length){for(var r="",n=1;n<a.length;n++){const l=a[n];l&&(1==n?r=l:isNaN(l)&&(r=r+"/"+l))}var s,c=$("#langCode").val();c?(r=r.replace(c,""),s=t[r]):s=t[r],s=s?s.split("|"):[];for(var n=0;n<s.length;n++){const l=s[n].split("=");switch(l[0]){case"carBodyType":var d=getUrlParameterWithHash(l[0]);if(d){d=d.split(",");for(var m=!1,n=0;n<d.length;n++){const p=d[n];if(p.toLowerCase()==l[1].toLowerCase()){m=!0;break}}m||J.push(l[1])}else J.push(l[1]),$(".carListingKeyword").append('<a href="javascript:void(0);" data-class="body_type" data-value="'+l[1]+'">'+toTitleCase(l[1])+"</a>");break;case"fuelType":var u=getUrlParameterWithHash(l[0]);if(u){u=u.split(",");for(var m=!1,n=0;n<u.length;n++){const p=u[n];if(p.toLowerCase()==l[1].toLowerCase()){m=!0;break}}m||Y.push(l[1])}else Y.push(l[1]),$(".carListingKeyword").append('<a href="javascript:void(0);" data-class="fuelmain" data-value="'+l[1]+'">'+toTitleCase(l[1])+"</a>");break;case"budgetRange":if(!getUrlParameterWithHash(l[0])){var f=l[1].split(",");Q={Min:f[0],Max:f[1]},$(".carListingKeyword").append('<a href="javascript:void(0);" data-class="car_Budget" data-min="'+f[0]+'" data-max="'+f[1]+'">'+o(l[1])+"</a>")}break;case"modeltype":var g=getUrlParameterWithHash(l[0]);if(g){g=g.split(",");for(var m=!1,n=0;n<g.length;n++){const p=g[n];if(p.toLowerCase()==l[1].toLowerCase()){m=!0;break}}m||z.push(l[1])}else z.push(l[1]),$(".carListingKeyword").append('<a href="javascript:void(0);" data-class="carbrand" data-value="'+spaceToUnderScore(l[1])+'">'+toTitleCase(l[1])+"</a>");break;case"dealerCity":getUrlParameterWithHash(l[0])||Z.push(l[1]),$(".headertop").find(".currentCity").children("span").html(toTitleCase(l[1])),$(".selectLocation").find("#mobilecity").html(toTitleCase(l[1])),$(".cityTooltip").css("display","none")}}i()}}).done(function(){console.log("interior.json loaded succeeded!")}).fail(function(){console.log("interior.json loaded failed! ")})}function o(e){switch(e){case"1,200000":return"Less than 2 L";case"200000,400000":return"2 L - 4 L";case"400000,600000":return"4 L - 6 L";case"600000,50000000":return"More than 6 L"}}function i(){var e=getUrlVars();if(e.length){for(var t=!1,a=0;a<e.length;a++){const o=e[a];switch(o){case"carBodyType":J=getUrlParameterWithHash(o),J=J.split(","),t=!0;break;case"ownertype":j=getUrlParameterWithHash(o),j=j.split(","),t=!0;break;case"fuelType":Y=getUrlParameterWithHash(o),Y=Y.split(","),t=!0;break;case"transmissionType":W=getUrlParameterWithHash(o),W=W.split(","),t=!0;break;case"CarColor":G=getUrlParameterWithHash(o),G=G.split(","),t=!0;break;case"budgetRange":Q=getUrlParameterWithHash(o),Q=decodeURIComponent(Q),Q=Q.split(","),Q={Min:Q[0],Max:Q[1]},t=!0;break;case"carAge":X=getUrlParameterWithHash(o),X=decodeURIComponent(X),X=X.split(","),X={From:X[0],To:X[1]},t=!0;break;case"kilometers":ee=getUrlParameterWithHash(o),t=!0;break;case"CarCityRange":te=getUrlParameterWithHash(o),t=!0;break;case"bookedCars":oe.push(getUrlParameterWithHash(o)),t=!0;break;case"modeltype":var i=getUrlParameterWithHash(o);i=decodeURIComponent(i),i=i.split(","),z=[],i.forEach(function(e){const t=e.split("+"),a=t.join(" ");z.push(a)}),t=!0;break;case"varientType":var r=getUrlParameterWithHash(o);r=decodeURIComponent(r),r=r.split(","),K=[],r.forEach(function(e){const t=e.split("+"),a=t.join(" ");K.push(a)}),t=!0;break;case"certifiedCars":ae.push(getUrlParameterWithHash(o)),t=!0;break;case"dealerCity":Z.push(getUrlParameterWithHash(o)),t=!0;break;case"listingCity":getUrlParameterWithHash(o).indexOf("+")>-1?V.push(getUrlParameterWithHash(o).replace(/\+/g," ")):V.push(getUrlParameterWithHash(o)),t=!0;break;case"category":q=getUrlParameterWithHash(o),t=!0;break;case"query":U=getUrlParameterWithHash(o),t=!0;break;case"dealerCode":H.push(getUrlParameterWithHash(o)),t=!0;break;case"page":re=getUrlParameterWithHash(o),t=!0}}if(t){var n={dealerCode:H,dealerCity:Z,listingCity:[],fuelType:Y,category:q,query:U,transmissionType:W,ownertype:j,kilometers:ee,bookedCars:oe,certifiedCars:ae,budgetRange:Q,carBodyType:J,carAge:X,modeltype:z,CarCityRange:te,CarColor:G,varientType:K,sortingFilter:ie,pageNumber:Number(re)-1};if(Z.length){var l=Z[0].toLowerCase();"new delhi"!=l&&"new-delhi"!=l||(l="delhi"),"bangalore"==l&&(l="bengaluru"),"bhubneshwar"!=l&&"bhubaneshwar"!=l&&"bhubaneswar"!=l||(l="bhubneswar"),$.getJSON(cityJsonPath,function(e){var t,a;t=e;var o=l;if(a=t[o])n.location={Lat:a.split("=")[0],Lon:a.split("=")[1]},1!=te&&(n.listingCity=Z,setDataInLocal("location",JSON.stringify({city:jsUcfirst(Z[0]),lat:n.location.Lat,"long":n.location.Lon})),$(".currentCity span").text(jsUcfirst(Z[0])),$("#autocomplete").val(jsUcfirst(Z[0])),$(".mobile_currentciyt span").text(jsUcfirst(Z[0]))),c(n);else if(gmapApiKey){var i="https://maps.googleapis.com/maps/api/geocode/json?&key="+gmapApiKey+"&address="+Z[0]+"&language=en";$.getJSON(i).done(function(e){if(e.results.length){n.location={Lat:e.results[0].geometry.location.lat,Lon:e.results[0].geometry.location.lng},1!=te&&(n.listingCity=Z,setDataInLocal("location",JSON.stringify({city:jsUcfirst(Z[0]),lat:n.location.Lat,"long":n.location.Lon})),$(".currentCity span").text(jsUcfirst(Z[0])),$("#autocomplete").val(jsUcfirst(Z[0])),$(".mobile_currentciyt span").text(jsUcfirst(Z[0]))),c(n);const t={city:Z[0].toLowerCase(),Lat:e.results[0].geometry.location.lat,lon:e.results[0].geometry.location.lng};postDetailsWithoutLoader("/api/sitecore/DealerMap/CityLatToFile",JSON.stringify(t)).then(function(e){console.log("New dealer city added")})["catch"](function(e){console.log("Some error with city lat to file api : ",e)})}})}}).done(function(){console.log("CityLatLongJSON.json loaded succeeded!")}).fail(function(){console.log("CityLatLongJSON.json loaded failed! ")})}else if(V.length){var s=V[0].toLowerCase();"new delhi"!=s&&"new-delhi"!=s||(s="delhi"),"navi mumbai, panvel"==s&&(s="panvel"),"bangalore"==s&&(s="bengaluru"),"bhubneshwar"!=s&&"bhubaneshwar"!=s&&"bhubaneswar"!=s||(s="bhubneswar"),"ulhas nagar"==s&&(s="ulhasnagar"),$.getJSON(cityJsonPath,function(e){var t,a;t=e;var o=s;if(a=t[o])n.location={Lat:a.split("=")[0],Lon:a.split("=")[1]},n.listingCity=V,c(n);else if(gmapApiKey){var i="https://maps.googleapis.com/maps/api/geocode/json?&key="+gmapApiKey+"&address="+V[0]+"&language=en";$.getJSON(i).done(function(e){if(e.results.length){n.location={Lat:e.results[0].geometry.location.lat,Lon:e.results[0].geometry.location.lng},n.listingCity=V,c(n);const t={city:V[0].toLowerCase(),Lat:e.results[0].geometry.location.lat,lon:e.results[0].geometry.location.lng};postDetailsWithoutLoader("/api/sitecore/DealerMap/CityLatToFile",JSON.stringify(t)).then(function(e){console.log("New listing city added")})["catch"](function(e){console.log("Some error with city lat to file api : ",e)})}})}}).done(function(){console.log("CityLatLongJSON.json loaded succeeded!")}).fail(function(){console.log("CityLatLongJSON.json loaded failed! ")})}else{var d=getDataFromLocal("location");d?(n.location={Lat:d.lat,Lon:d["long"]},n.listingCity=[d.city],c(n)):c(n)}}else{var m={};m.total=Number($("#pagecount").val()),m&&p(m)}}else{var u,d=getDataFromLocal("location");u=d?{location:{Lat:d.lat,Lon:d["long"]},listingCity:[d.city],carAge:{From:0,To:35},budgetRange:{Min:1,Max:1e7},kilometers:1e7}:{carAge:{From:0,To:35},budgetRange:{Min:1,Max:1e7},kilometers:1e7},c(u)}}function r(){$(window).scrollTop(0),J=[],j=[],Y=[],z=[],K=[],W=[],G=[],Q={Min:1,Max:1e7},X={From:0,To:35},ee=1e7,te=1,ae=[],oe=[],$(".mod-filterfeature").removeClass("active"),$(".body_type ul li .active").each(function(){J.push($(this).attr("data-value"))}),$(".ownermain .owner").each(function(){$(this).is(":checked")&&j.push($(this).data("value"))}),$(".fuelmain .fuel").each(function(){$(this).is(":checked")&&Y.push($(this).data("value"))}),$(".transmissionmain .transmission").each(function(){$(this).is(":checked")&&W.push($(this).data("value"))}),$(".colorPanelLeft .active a span").each(function(){G.push($(this).attr("data-value"))}),$(".car_Budget ul li .active").data("min")&&$(".car_Budget ul li .active").data("max")?(Q={Min:$(".car_Budget ul li .active").data("min"),Max:$(".car_Budget ul li .active").data("max")},window.history.pushState("cars","Cars Listing",AlterQueryString(window.location.href,"budgetRange",Q.Min+","+Q.Max))):window.history.pushState("cars","Cars Listing",removeURLParameter(window.location.href,"budgetRange")),$(".car_age ul li .active").data("max")?(X={From:$(".car_age ul li .active").data("min"),To:$(".car_age ul li .active").data("max")},window.history.pushState("cars","Cars Listing",AlterQueryString(window.location.href,"carAge",X.From+","+X.To))):window.history.pushState("cars","Cars Listing",removeURLParameter(window.location.href,"carAge")),$(".car_kilometer ul li .active").data("value")?(ee=$(".car_kilometer ul li .active").data("value"),ee&&window.history.pushState("cars","Cars Listing",AlterQueryString(window.location.href,"kilometers",ee))):window.history.pushState("cars","Cars Listing",removeURLParameter(window.location.href,"kilometers")),$(".range ul li .active").data("value")&&(te=$(".range ul li .active").data("value")),$(".CustumCheckbox #trueValue1").each(function(){$(this).is(":checked")&&ae.push(!0)}),$(".CustumCheckbox #trueValue2").each(function(){$(this).is(":checked")&&oe.push("B")}),$(".carbrand .brand").each(function(){if($(this).is(":checked")){var e=$(this).data("value");z.push(e),K.push(e+":");var t="."+spaceToUnderScore(e)+" .variant";$(t).each(function(){if($(this).is(":checked")){var t=K.indexOf(e+":");t>-1&&K.splice(t,1),K.push(e+":"+$(this).data("value"))}})}}),n();var e={dealerCode:H,fuelType:Y,listingCity:V,category:getUrlParameterWithHash("category"),query:getUrlParameterWithHash("query"),transmissionType:W,ownertype:j,kilometers:ee,bookedCars:oe,certifiedCars:ae,budgetRange:Q,carBodyType:J,carAge:X,modeltype:z,CarCityRange:te,CarColor:G,varientType:K,sortingFilter:ie,pageNumber:Number(re)-1};if(Z.length){var t=Z[0].toLowerCase();"new delhi"!=t&&"new-delhi"!=t||(t="delhi"),"bangalore"==t&&(t="bengaluru"),"bhubneshwar"!=t&&"bhubaneshwar"!=t&&"bhubaneswar"!=t||(t="bhubneswar"),$.getJSON(cityJsonPath,function(a){var o,i;o=a;var r=t;if(i=o[r])e.location={Lat:i.split("=")[0],Lon:i.split("=")[1]},e.dealerCity=Z,1!=te&&(e.listingCity=Z),l(e);else if(gmapApiKey){var n="https://maps.googleapis.com/maps/api/geocode/json?&key="+gmapApiKey+"&address="+Z[0]+"&language=en";$.getJSON(n).done(function(t){if(t.results.length){e.location={Lat:t.results[0].geometry.location.lat,Lon:t.results[0].geometry.location.lng},e.dealerCity=Z,1!=te&&(e.listingCity=Z),l(e);const a={city:Z[0].toLowerCase(),Lat:t.results[0].geometry.location.lat,lon:t.results[0].geometry.location.lng};postDetailsWithoutLoader("/api/sitecore/DealerMap/CityLatToFile",JSON.stringify(a)).then(function(e){console.log("New dealer city added")})["catch"](function(e){console.log("Some error with city lat to file api : ",e)})}})}}).done(function(){console.log("CityLatLongJSON.json loaded succeeded!")}).fail(function(){console.log("CityLatLongJSON.json loaded failed! ")})}else{var a=getUrlParameterWithHash("listingCity");if(a){V.indexOf(a)>!1&&V.push(a);var o=V[0].toLowerCase();"new delhi"!=o&&"new-delhi"!=o||(o="delhi"),"navi mumbai, panvel"==o&&(o="panvel"),"bangalore"==o&&(o="bengaluru"),"bhubneshwar"!=o&&"bhubaneshwar"!=o&&"bhubaneswar"!=o||(o="bhubneswar"),"ulhas nagar"==o&&(o="ulhasnagar"),$.getJSON(cityJsonPath,function(t){var a,i;a=t;var r=o;if(i=a[r])e.location={Lat:i.split("=")[0],Lon:i.split("=")[1]},e.listingCity=V,l(e);else if(gmapApiKey){var n="https://maps.googleapis.com/maps/api/geocode/json?&key="+gmapApiKey+"&address="+V[0]+"&language=en";$.getJSON(n).done(function(t){if(t.results.length){e.location={Lat:t.results[0].geometry.location.lat,Lon:t.results[0].geometry.location.lng},e.listingCity=V,l(e);const a={city:V[0].toLowerCase(),Lat:t.results[0].geometry.location.lat,lon:t.results[0].geometry.location.lng};postDetailsWithoutLoader("/api/sitecore/DealerMap/CityLatToFile",JSON.stringify(a)).then(function(e){console.log("New listing city added")})["catch"](function(e){console.log("Some error with city lat to file api : ",e)})}})}}).done(function(){console.log("CityLatLongJSON.json loaded succeeded!")}).fail(function(){console.log("CityLatLongJSON.json loaded failed! ")})}else{var i=getDataFromLocal("location");i?(e.location={Lat:i.lat,Lon:i["long"]},e.listingCity=i.city,l(e)):l(e)}}}function n(){var e=window.location.href;e=J.length?AlterQueryString(e,"carBodyType",J):removeURLParameter(e,"carBodyType"),e=j.length?AlterQueryString(e,"ownertype",j):removeURLParameter(e,"ownertype"),e=1!=te?AlterQueryString(e,"CarCityRange",te):removeURLParameter(e,"CarCityRange"),e=G.length?AlterQueryString(e,"CarColor",G):removeURLParameter(e,"CarColor"),e=W.length?AlterQueryString(e,"transmissionType",W):removeURLParameter(e,"transmissionType"),e=Y.length?AlterQueryString(e,"fuelType",Y):removeURLParameter(e,"fuelType"),e=oe.length?AlterQueryString(e,"bookedCars",oe):removeURLParameter(e,"bookedCars"),e=ae.length?AlterQueryString(e,"certifiedCars",ae):removeURLParameter(e,"certifiedCars"),e=z.length?AlterQueryString(e,"modeltype",z):removeURLParameter(e,"modeltype"),e=K.length?AlterQueryString(e,"varientType",K):removeURLParameter(e,"varientType"),e=re?AlterQueryString(e,"page",re):removeURLParameter(e,"page"),window.history.pushState("cars","Cars Listing",e),u()}function l(e){showLoader(),postDetailsWithoutLoader("/api/sitecore/CarSearchListing/CarSearchHits",JSON.stringify(e)).then(function(e){for(var t=0,a=e.carResult.aggregations.OwnerType,o=0;o<a.buckets.length;o++){const i=a.buckets[o];i.key>2&&(t+=i.doc_count)}for(var o=0;o<a.buckets.length;o++){const i=a.buckets[o];3==i.key&&(a.buckets[o].doc_count=t)}if(e.carResult.aggregations.OwnerType=a,D(e.carResult.aggregations),m(e.carResult.hits.hits),p(e.carResult.hits),d(e.faqContent),s(e.btdCount),y(),2==e.code||3==e.code||4==e.code)switch(f(e.carResult.hits),e.code){case 2:Z.length>0?$("#noInventoryTitle h2").text($("#lbl_similarcar").val()+" in "+jsUcfirst(Z[0])):$("#noInventoryTitle h2").text($("#lbl_similarcar").val());break;case 3:Z.length>0?$("#noInventoryTitle h2").text($("#lbl_cityallcars").val()+" in "+jsUcfirst(Z[0])):$("#noInventoryTitle h2").text($("#lbl_cityallcars").val());break;case 4:$("#noInventoryTitle h2").text($("#lbl_nearbycars").val()),$(".range ul li a").hasClass("active")||$(".range ul li a").each(function(e){200==$(this).data("value")&&$(this).click()})}var r=[],n=[],l=[],c=[];if($(".carListingKeyword > a:visible").length>=2&&e.carResult.hits.total>0){for(var u=e.carResult.hits.total>=5?5:e.carResult.hits.total,g=0;g<u;g++)r.push(e.carResult.hits.hits[g]._id),n.push(e.carResult.hits.hits[g]._source.model),l.push(e.carResult.hits.hits[g]._source.mfYear),c.push(e.carResult.hits.hits[g]._source.price);msildl.push({event:"View_Content_Data",content_type:"vehicle",content_ids:r,country:"India",make:"Maruti Suzuki",model:n,year:l,price:c,currency:"INR"})}})["catch"](function(e){console.log(e)})}function s(e){e?($(".testDriveCalender").show(),$(".testDriveCalender p").text(e+" customers have booked test drives in your city. Don’t miss out.")):$(".testDriveCalender").hide()}function c(e){var t={dealerCode:[],dealerCity:[],listingCity:[],fuelType:[],transmissionType:[],ownertype:[],kilometers:1e7,bookedCars:[],certifiedCars:[],budgetRange:{Min:1,Max:1e7},carBodyType:[],carAge:{From:0,To:35},modeltype:[],CarCityRange:1,CarColor:[],varientType:[],sortingFilter:null,pageNumber:1,location:{Lat:13.0826802,Lon:80.27071840000008}};postDetailsWithoutLoader("/api/sitecore/CarSearchListing/CarAggsCount",JSON.stringify(t)).then(function(t){for(var a=0,o=t.aggregations.OwnerType,i=0;i<o.buckets.length;i++){const r=o.buckets[i];r.key>2&&(a+=r.doc_count)}for(var i=0;i<o.buckets.length;i++){const r=o.buckets[i];3==r.key&&(o.buckets[i].doc_count=a)}t.aggregations.OwnerType=o,P(t.aggregations),l(e)})["catch"](function(e){console.log(e)})}function d(e){e.TopTitle&&0==Z.length?($(".accordTxtMain").show(),$(".accordionContentMain .accoMobileTitle").find("span").text(e.TopTitle),$(".accordionContentMain .showhidetext").find("p").text(e.TopDiscription)):$(".accordTxtMain").hide(),$(".faqQuesAnsBox").find(".faqleft").empty(),$(".faqQuesAnsBox").find(".faqright").empty(),e.LeftFaqTopContentList&&e.LeftFaqTopContentList.forEach(function(e){$(".faqQuesAnsBox").find(".faqleft").append(" <li><b>"+e.Title+"</b><p>"+e.Discription+"</p></li>")}),e.RightFaqTopContentList&&e.RightFaqTopContentList.forEach(function(e){$(".faqQuesAnsBox").find(".faqright").append(" <li><b>"+e.Title+"</b><p>"+e.Discription+"</p></li>")})}function m(e){e&&($(".carLising2").empty(),e.forEach(function(e){_(".carLising2",e)}),getcarIdonListing()),t(),hideLoader()}function p(e){if(Z.length)if(e.total){$("#noInventoryTitle").css("display","none"),$(window).width()<1e3?"block"==$(".forMobile .aftermsg").css("display")&&$(".forMobile .aftermsg").css("display","none"):"block"==$(".aftermsg").css("display")&&$(".aftermsg").css("display","none"),$(".carListingTitle.forDesktop").css("width","80%"),$(".carListingTitle.forDesktop").find(".total_car").removeClass("didntTxt"),$(".forMobile .personRecommedPre, .forDesktop .personRecommedPre").css("display","none");var t=0;$(".range ul li a").each(function(e){$(this).hasClass("active")&&(t=1)}),1==t?"bhubneshwar"==Z[0]?$(".total_car").text(e.total+" Cars Nearby Bhubaneswar for sale!"):$(".total_car").text(e.total+" Cars Nearby "+toTitleCase(Z[0])+" for sale!"):"bhubneshwar"==Z[0]?$(".total_car").text(e.total+" Used Cars in Bhubaneswar for sale!"):$(".total_car").text(e.total+" Used Cars in "+toTitleCase(Z[0])+" for sale!"),$(".total_car").css("display","block"),$(window).width()<1e3?"none"==$(".carListingPage").find(".userCarsForMob.forMobile").css("display")&&$(".carListingPage").find(".userCarsForMob.forMobile").css("display","block"):"none"==$(".total_car").css("display")&&$(".total_car").css("display","block"),$(".paginationonCarListing").show(),$(".sortselectbox").show(),$(".paginationonCarListing").pagination({items:e.total,itemsOnPage:12,useAnchors:!1,cssStyle:"light-theme",prevText:"<",nextText:">",onPageClick:function(e){re=e,r()}}),$(".paginationonCarListing").pagination("drawPage",re)}else $(".range ul li a").each(function(e){200==$(this).data("value")&&$(this).click()});else e.total?($("#noInventoryTitle").css("display","none"),$(window).width()<1e3?"block"==$(".forMobile .aftermsg").css("display")&&$(".forMobile .aftermsg").css("display","none"):"block"==$(".aftermsg").css("display")&&$(".aftermsg").css("display","none"),$(".carListingTitle.forDesktop").css("width","80%"),$(".carListingTitle.forDesktop").find(".total_car").removeClass("didntTxt"),$(".forMobile .personRecommedPre, .forDesktop .personRecommedPre").css("display","none"),$(".total_car").text(e.total+" Used Cars for sale!"),$(".total_car").css("display","block"),$(window).width()<1e3?"none"==$(".carListingPage").find(".userCarsForMob.forMobile").css("display")&&$(".carListingPage").find(".userCarsForMob.forMobile").css("display","block"):"none"==$(".total_car").css("display")&&$(".total_car").css("display","block"),$(".paginationonCarListing").show(),$(".sortselectbox").show(),$(".paginationonCarListing").pagination({items:e.total,itemsOnPage:12,useAnchors:!1,cssStyle:"light-theme",prevText:"<",nextText:">",onPageClick:function(e){re=e,r()}}),$(".paginationonCarListing").pagination("drawPage",re)):g()}function u(){var e=window.location.href;e=e.split("#");var t,a=e[0].lastIndexOf("/"),o=e[0].substring(a+1,e[0].length);if(isNaN(o))t=e[0]+"/"+re;else{var t=e[0].substring(0,a);t=t+"/"+re}e[1]&&(t=t+"#"+e[1]),window.history.pushState("cars","Cars Listing",t)}function f(e){var t=Number($("#pagecount").val()),a={total:""};a.total=e.total,$(".sortselectbox").hide(),$(".carListingTitle.forDesktop").css("width","100%"),$(".carListingTitle.forDesktop").find(".total_car").addClass("didntTxt"),$(".total_car").text("Didn't find the car you were looking for? Don't Worry."),Z.length?t<a.total?$("#noInventoryTitle h2").text(a.total+" Used Cars for sale!"):$("#noInventoryTitle h2").text(a.total+" Used Cars in "+jsUcfirst(Z[0])+" for sale!"):$("#noInventoryTitle h2").text(a.total+" Used Cars for sale!"),$("#noInventoryTitle").css("display","block"),$(window).width()<1e3?(($(".forMobile .personRecommedPre .form-carListing_Inventory").find("#name-error").length>0||$(".forMobile .personRecommedPre .form-carListing_Inventory").find("#mobile-error").length>0||$(".forMobile .personRecommedPre .form-carListing_Inventory").find("#email2-error").length>0||$(".forMobile .personRecommedPre .form-carListing_Inventory").find("#testCheck-error").length>0)&&($(".forMobile .personRecommedPre .form-carListing_Inventory").validate().resetForm(),$(".forMobile .personRecommedPre .form-carListing_Inventory").trigger("reset")),""==$(".forMobile .personRecommedPre .form-carListing_Inventory").find(".name").val()&&""==$(".forMobile .personRecommedPre .form-carListing_Inventory").find(".mobile").val()&&""==$(".forMobile .personRecommedPre .form-carListing_Inventory").find(".email2").val()&&1!=$(".forMobile .personRecommedPre .form-carListing_Inventory").find(".inventoryPolicy").is(":checked")||$(".forMobile .personRecommedPre .form-carListing_Inventory").trigger("reset"),"block"==$(".forMobile .aftermsg").css("display")&&$(".forMobile .aftermsg").css("display","none"),$(".forMobile .personRecommedPre").css("display","block")):(($(".form-carListing_Inventory").find("#name-error").length>0||$(".form-carListing_Inventory").find("#mobile-error").length>0||$(".form-carListing_Inventory").find("#email2-error").length>0||$(".form-carListing_Inventory").find("#testCheck-error").length>0)&&$(".form-carListing_Inventory").validate().resetForm(),""==$(".form-carListing_Inventory").find(".name").val()&&""==$(".form-carListing_Inventory").find(".mobile").val()&&""==$(".form-carListing_Inventory").find(".email2").val()&&1!=$(".form-carListing_Inventory").find(".inventoryPolicy").is(":checked")||$(".form-carListing_Inventory").trigger("reset"),"block"==$(".aftermsg").css("display")&&$(".aftermsg").css("display","none"),$(".forDesktop .personRecommedPre").css("display","block"))}function g(){$(window).scrollTop(0),n();var e={dealerCode:[],dealerCity:[],listingCity:[],fuelType:[],transmissionType:[],ownertype:[],kilometers:1e7,bookedCars:[],certifiedCars:[],budgetRange:{Min:1,Max:1e7},carBodyType:[],carAge:{From:0,To:35},modeltype:[],CarCityRange:1,CarColor:[],varientType:[],sortingFilter:null,pageNumber:Number(re)-1},t=getDataFromLocal("location");t&&(e.location={Lat:t.lat,Lon:t["long"]},e.listingCity=t.city);var a=window.location.href.slice(window.location.href.indexOf("#"));a.split("&")&&(a=a.split("&")),showLoader(),postDetailsWithoutLoader("/api/sitecore/CarSearchListing/CarSearchHits",JSON.stringify(e)).then(function(e){1==a.length&&~a.indexOf("#page=")>-1&&(D(e.carResult.aggregations),$(window).width()<1e3?($(".carListingPage").find(".userCarsForMob.forMobile").css("display","block"),"block"==$(".forMobile").find(".aftermsg").css("display")&&$(".forMobile").find(".aftermsg").css("display","none")):($(".carListingSection").find(".carListingTitle.forDesktop").css("width","80%"),$(".total_car").css("display","block"),"block"==$(".aftermsg").css("display")&&$(".aftermsg").css("display","none"))),f(e.carResult.hits),m(e.carResult.hits.hits)})["catch"](function(e){console.log(e)})}function v(e){return"B"==e?"none":"block"}function h(e){return"B"==e?"available":"not available"}function _(e,t){var a;"en/"==L&&(L=""),a="/"+L+"buy-car/",t._source&&(t._source.trvCertified?"O"==t._source.current_stage?$(e).append('<div class="col-12 col-md-6 col-xl-4"><div class="carBox"><div class="row"><div class="col-sm-12 col-12"><div class="leftSection"><a href="'+a+spaceToHyphen(t._source.name)+"-in-"+spaceToHyphen(t._source.dealerCity)+"-"+t._source.mfYear+"/"+t._id+'"><div class="booked-car" style="display:'+v(t._source.current_stage)+'"><img src="/assets/TRV/images/booked2.png" alt=""></div></a><div class="carsecImage"><a href="'+a+spaceToHyphen(t._source.name)+"-in-"+spaceToHyphen(t._source.dealerCity)+"-"+t._source.mfYear+"/"+t._id+'"><img src="'+b(t._source.images[0])+'" alt=""></a></div><div class="shareIcon"><div class="icon1 wishlisticon" data-carid="'+t._id+'" data-carname="'+toTitleCase(t._source.name)+'" data-price="'+t._source.price+'" data-image="'+t._source.images[0]+'"></div><div class="shareicon_listing"></div><div class="socialsharebox"><ul><li><a class="car_facebook" data-url="'+a+spaceToHyphen(t._source.name)+"-in-"+spaceToHyphen(t._source.dealerCity)+"-"+t._source.mfYear+"/"+t._id+'" data-name="'+t._source.name+'" data-path="https://dgf8cqgkz9cie.cloudfront.net/fit-in/530x356/612864/5c24925c42beebeb175c8d83-2019-02-19-12-08-13/image1.jpg" ><img src="/assets/TRV/images/login/facebook.png" alt=""></a></li><li><a class="car_twitter" data-url="'+a+spaceToHyphen(t._source.name)+"-in-"+spaceToHyphen(t._source.dealerCity)+"-"+t._source.mfYear+"/"+t._id+'" data-name="'+t._source.name+'" data-path="Truevalue" ><img src="/assets/TRV/images/login/twitter.png" alt=""></a></li><li><a class="car_whatsapp" data-url="'+a+spaceToHyphen(t._source.name)+"-in-"+spaceToHyphen(t._source.dealerCity)+"-"+t._source.mfYear+"/"+t._id+'" data-name="'+t._source.name+'" data-path="Truevalue"><img src="/assets/TRV/images/login/Whatsapp.jpg" alt=""></a></li></ul></div></div><div class="certifiedOfferMain"><div class="certified"><img src="/assets/TRV/images/car-listing/certified-logo.png"><p><a href="javascipt:void(0);" title="True Value Certified" data-toggle="modal" data-target=".truevalueModal"><img src="/assets/TRV/images/car-listing/i-icon.png"></a></p></div><div class="offer"><div class="leftContent"><a href="javascript:;">'+t._source.warrantyTime+' Warranty</a></div><div class="rightContent"><a href="javascript:;">3 Free Service</a></div></div></div></div></div><div class="col-sm-12 col-12"><div class="rightSection"><h5><a href="'+a+spaceToHyphen(t._source.name)+"-in-"+spaceToHyphen(t._source.dealerCity)+"-"+t._source.mfYear+"/"+t._id+'">'+titleCase(t._source.name)+" "+t._source.variant.toUpperCase()+'</a></h5><div class="cityNameTxt">'+toTitleCase(t._source.dealerCity)+'</div><div class="details"><ul><li>'+t._source.mfYear+"</li><li>"+jsUcfirst(t._source.fuelType)+"</li><li>"+withoutCommaSepratedPrice(t._source.kmRun)+' km</li></ul></div><div class="leftContent"><div class="checkbox_wrapper"><input type="checkbox" id="compareCheckBox_listing" data-book="booked" class="compareCheckBox_listing" data-carid="'+t._id+'" data-carname="'+toTitleCase(t._source.name)+'" data-price="'+t._source.price+'" data-image="'+t._source.images[0]+'" /><label style="display: none;">Add to Compare</label></div></div><div class="starSection"><ul><li class="'+S(1,t._source.overallRating)+'"><i class="fas fa-star"></i></li><li class="'+S(2,t._source.overallRating)+'"><i class="fas fa-star"></i></li><li class="'+S(3,t._source.overallRating)+'"><i class="fas fa-star"></i></li><li class="'+S(4,t._source.overallRating)+'"><i class="fas fa-star"></i></li><li class="'+S(5,t._source.overallRating)+'"><i class="fas fa-star"></i></li></ul ></div ><div class="pricebox"><div class="priceSection"><span>₹'+withoutCommaSepratedPrice(t._source.price)+'</span><a href="javascript:void(0);"data-toggle="modal" data-target=".myModal" data-price="'+t._source.price+'" class="emicalculate">Calculate EMI</a></div><div class="contactDealerBookButt"><div class="conDealButton" style="width: 100%;"><a href="javascript:void(0);" data-toggle="modal" data-dealer="'+t._source.dealerName+'" data-buyingid="'+t._source.buyingNumber+'" data-target=".contactdealer" data-track="'+t._id+"|"+t._source.variant+"|"+t._source.dealerCity+"|"+h(t._source.current_stage)+"|"+t._source.price+"|"+t._source.carType+"|"+t._source.price+"|"+t._source.make+"|"+t._source.mfYear+"|listing page|"+t._source.name+'">Contact Dealer</a></div><div class="testDriveButton" style="display: none;"><a href="javascript:void(0);" data-toggle="modal" data-buyingid="'+t._source.buyingNumber+'" data-target=".booktestdrive" data-track="'+t._id+"|"+t._source.variant+"|"+t._source.dealerCity+"|"+h(t._source.current_stage)+"|"+t._source.price+"|"+t._source.carType+"|"+t._source.price+"|"+t._source.make+"|"+t._source.mfYear+"|listing page|"+t._source.name+'">Book a Test Drive</a></div></div></div></div ></div ></div ></div ></div > '):$(e).append('<div class="col-12 col-md-6 col-xl-4"><div class="carBox"><div class="row"><div class="col-sm-12 col-12"><div class="leftSection"><a href="'+a+spaceToHyphen(t._source.name)+"-in-"+spaceToHyphen(t._source.dealerCity)+"-"+t._source.mfYear+"/"+t._id+'"><div class="booked-car" style="display:'+v(t._source.current_stage)+'"><img src="/assets/TRV/images/booked2.png" alt=""></div></a><div class="carsecImage"><a href="'+a+spaceToHyphen(t._source.name)+"-in-"+spaceToHyphen(t._source.dealerCity)+"-"+t._source.mfYear+"/"+t._id+'"><img src="'+b(t._source.images[0])+'" alt=""></a></div><div class="shareIcon"><div class="icon1 wishlisticon" data-carid="'+t._id+'" data-carname="'+toTitleCase(t._source.name)+'" data-price="'+t._source.price+'" data-image="'+t._source.images[0]+'"></div><div class="shareicon_listing"></div><div class="socialsharebox"><ul><li><a class="car_facebook" data-url="'+a+spaceToHyphen(t._source.name)+"-in-"+spaceToHyphen(t._source.dealerCity)+"-"+t._source.mfYear+"/"+t._id+'" data-name="'+t._source.name+'" data-path="https://dgf8cqgkz9cie.cloudfront.net/fit-in/530x356/612864/5c24925c42beebeb175c8d83-2019-02-19-12-08-13/image1.jpg" ><img src="/assets/TRV/images/login/facebook.png" alt=""></a></li><li><a class="car_twitter" data-url="'+a+spaceToHyphen(t._source.name)+"-in-"+spaceToHyphen(t._source.dealerCity)+"-"+t._source.mfYear+"/"+t._id+'" data-name="'+t._source.name+'" data-path="Truevalue" ><img src="/assets/TRV/images/login/twitter.png" alt=""></a></li><li><a class="car_whatsapp" data-url="'+a+spaceToHyphen(t._source.name)+"-in-"+spaceToHyphen(t._source.dealerCity)+"-"+t._source.mfYear+"/"+t._id+'" data-name="'+t._source.name+'" data-path="Truevalue"><img src="/assets/TRV/images/login/Whatsapp.jpg" alt=""></a></li></ul></div></div><div class="certifiedOfferMain"><div class="certified"><img src="/assets/TRV/images/car-listing/certified-logo.png"><p><a href="javascipt:void(0);" title="True Value Certified" data-toggle="modal" data-target=".truevalueModal"><img src="/assets/TRV/images/car-listing/i-icon.png"></a></p></div><div class="offer"><div class="leftContent"><a href="javascript:;">'+t._source.warrantyTime+' Warranty</a></div><div class="rightContent"><a href="javascript:;">3 Free Service</a></div></div></div></div></div><div class="col-sm-12 col-12"><div class="rightSection"><h5><a href="'+a+spaceToHyphen(t._source.name)+"-in-"+spaceToHyphen(t._source.dealerCity)+"-"+t._source.mfYear+"/"+t._id+'">'+titleCase(t._source.name)+" "+t._source.variant.toUpperCase()+'</a></h5><div class="cityNameTxt">'+toTitleCase(t._source.dealerCity)+'</div><div class="details"><ul><li>'+t._source.mfYear+"</li><li>"+jsUcfirst(t._source.fuelType)+"</li><li>"+withoutCommaSepratedPrice(t._source.kmRun)+' km</li></ul></div><div class="leftContent"><div class="checkbox_wrapper"><input type="checkbox" id="compareCheckBox_listing" class="compareCheckBox_listing" data-carid="'+t._id+'" data-carname="'+toTitleCase(t._source.name)+'" data-price="'+t._source.price+'" data-image="'+t._source.images[0]+'" /><label>Add to Compare</label></div></div><div class="starSection"><ul><li class="'+S(1,t._source.overallRating)+'"><i class="fas fa-star"></i></li><li class="'+S(2,t._source.overallRating)+'"><i class="fas fa-star"></i></li><li class="'+S(3,t._source.overallRating)+'"><i class="fas fa-star"></i></li><li class="'+S(4,t._source.overallRating)+'"><i class="fas fa-star"></i></li><li class="'+S(5,t._source.overallRating)+'"><i class="fas fa-star"></i></li></ul ></div ><div class="pricebox"><div class="priceSection"><span>₹'+withoutCommaSepratedPrice(t._source.price)+'</span><a href="javascript:void(0);"data-toggle="modal" data-target=".myModal" data-price="'+t._source.price+'" class="emicalculate">Calculate EMI</a></div><div class="contactDealerBookButt"><div class="conDealButton"><a href="javascript:void(0);" data-toggle="modal" data-dealer="'+t._source.dealerName+'" data-buyingid="'+t._source.buyingNumber+'" data-target=".contactdealer" data-track="'+t._id+"|"+t._source.variant+"|"+t._source.dealerCity+"|"+h(t._source.current_stage)+"|"+t._source.price+"|"+t._source.carType+"|"+t._source.price+"|"+t._source.make+"|"+t._source.mfYear+"|listing page|"+t._source.name+'">Contact Dealer</a></div><div class="testDriveButton"><a href="javascript:void(0);" data-toggle="modal" data-buyingid="'+t._source.buyingNumber+'" data-target=".booktestdrive" data-track="'+t._id+"|"+t._source.variant+"|"+t._source.dealerCity+"|"+h(t._source.current_stage)+"|"+t._source.price+"|"+t._source.carType+"|"+t._source.price+"|"+t._source.make+"|"+t._source.mfYear+"|listing page|"+t._source.name+'">Book a Test Drive</a></div></div></div></div ></div ></div ></div ></div > '):"O"==t._source.current_stage?$(e).append('<div class="col-12 col-md-6 col-xl-4"><div class="carBox"><div class="row"><div class="col-sm-12 col-12"><div class="leftSection fullheight"><a href="'+a+spaceToHyphen(t._source.name)+"-in-"+spaceToHyphen(t._source.dealerCity)+"-"+t._source.mfYear+"/"+t._id+'"><div class="booked-car" data-url="'+a+spaceToHyphen(t._source.name)+"-in-"+spaceToHyphen(t._source.dealerCity)+"-"+t._source.mfYear+"/"+t._id+'" style="display:'+v(t._source.current_stage)+'"><img src="/assets/TRV/images/booked2.png" alt=""></div></a><div class="carsecImage"><a href="'+a+spaceToHyphen(t._source.name)+"-in-"+spaceToHyphen(t._source.dealerCity)+"-"+t._source.mfYear+"/"+t._id+'"><img src="'+b(t._source.images[0])+'" alt=""></a></div><div class="shareIcon"><div class="icon1 wishlisticon" data-carid="'+t._id+'" data-carname="'+toTitleCase(t._source.name)+'" data-price="'+t._source.price+'" data-image="'+t._source.images[0]+'"></div><div class="shareicon_listing"></div><div class="socialsharebox "><ul><li><a class="car_facebook" data-url="'+a+spaceToHyphen(t._source.name)+"-in-"+spaceToHyphen(t._source.dealerCity)+"-"+t._source.mfYear+"/"+t._id+'" data-name="'+t._source.name+'" data-path="https://dgf8cqgkz9cie.cloudfront.net/fit-in/530x356/612864/5c24925c42beebeb175c8d83-2019-02-19-12-08-13/image1.jpg"><img src="/assets/TRV/images/login/facebook.png" alt=""></a></li><li><a class="car_twitter" data-url="'+a+spaceToHyphen(t._source.name)+"-in-"+spaceToHyphen(t._source.dealerCity)+"-"+t._source.mfYear+"/"+t._id+'" data-name="'+t._source.name+'" data-path="Truevalue"><img src="/assets/TRV/images/login/twitter.png" alt=""></a></li><li><a class="car_whatsapp" data-url="'+a+spaceToHyphen(t._source.name)+"-in-"+spaceToHyphen(t._source.dealerCity)+"-"+t._source.mfYear+"/"+t._id+'" data-name="'+t._source.name+'" data-path="Truevalue"><img src="/assets/TRV/images/login/Whatsapp.jpg" alt=""></a></li></ul></div></div></div></div><div class="col-sm-12 col-12"><div class="rightSection"><h5><a href="'+a+spaceToHyphen(t._source.name)+"-in-"+spaceToHyphen(t._source.dealerCity)+"-"+t._source.mfYear+"/"+t._id+'">'+titleCase(t._source.name)+" "+t._source.variant.toUpperCase()+'</a></h5><div class="cityNameTxt">'+toTitleCase(t._source.dealerCity)+'</div><div class="details"><ul><li>'+t._source.mfYear+"</li><li>"+jsUcfirst(t._source.fuelType)+"</li><li>"+withoutCommaSepratedPrice(t._source.kmRun)+' km</li></ul></div><div class="leftContent"><div class="checkbox_wrapper"><input type="checkbox" id="compareCheckBox_listing" data-book="booked" class="compareCheckBox_listing" data-carid="'+t._id+'" data-carname="'+toTitleCase(t._source.name)+'" data-price="'+t._source.price+'" data-image="'+t._source.images[0]+'"><label style="display: none;">Add to Compare</label> </div></div><div class="pricebox"><div class="priceSection"><span>₹'+withoutCommaSepratedPrice(t._source.price)+'</span><a href="javascript:void(0);" data-toggle="modal" data-target=".myModal" data-price="'+t._source.price+'" class="emicalculate">Calculate EMI</a></div><div class="contactDealerBookButt"><div class="conDealButton" style="width: 100%;"><a href="javascript:void(0);" data-dealer="'+t._source.dealerName+'" data-toggle="modal" data-buyingid="'+t._source.buyingNumber+'" data-target=".contactdealer" data-track="'+t._id+"|"+t._source.variant+"|"+t._source.dealerCity+"|"+h(t._source.current_stage)+"|"+t._source.price+"|"+t._source.carType+"|"+t._source.price+"|"+t._source.make+"|"+t._source.mfYear+"|listing page|"+t._source.name+'">Contact Dealer</a></div><div class="testDriveButton" style="display: none;"><a href="javascript:void(0);" data-toggle="modal" data-buyingid="'+t._source.buyingNumber+'" data-target=".booktestdrive" data-track="'+t._id+"|"+t._source.variant+"|"+t._source.dealerCity+"|"+h(t._source.current_stage)+"|"+t._source.price+"|"+t._source.carType+"|"+t._source.price+"|"+t._source.make+"|"+t._source.mfYear+"|listing page|"+t._source.name+'">Book a Test Drive</a></div></div></div></div></div></div></div></div>'):$(e).append('<div class="col-12 col-md-6 col-xl-4"><div class="carBox"><div class="row"><div class="col-sm-12 col-12"><div class="leftSection fullheight"><a href="'+a+spaceToHyphen(t._source.name)+"-in-"+spaceToHyphen(t._source.dealerCity)+"-"+t._source.mfYear+"/"+t._id+'"><div class="booked-car" data-url="'+a+spaceToHyphen(t._source.name)+"-in-"+spaceToHyphen(t._source.dealerCity)+"-"+t._source.mfYear+"/"+t._id+'" style="display:'+v(t._source.current_stage)+'"><img src="/assets/TRV/images/booked2.png" alt=""></div></a><div class="carsecImage"><a href="'+a+spaceToHyphen(t._source.name)+"-in-"+spaceToHyphen(t._source.dealerCity)+"-"+t._source.mfYear+"/"+t._id+'"><img src="'+b(t._source.images[0])+'" alt=""></a></div><div class="shareIcon"><div class="icon1 wishlisticon" data-carid="'+t._id+'" data-carname="'+toTitleCase(t._source.name)+'" data-price="'+t._source.price+'" data-image="'+t._source.images[0]+'"></div><div class="shareicon_listing"></div><div class="socialsharebox "><ul><li><a class="car_facebook" data-url="'+a+spaceToHyphen(t._source.name)+"-in-"+spaceToHyphen(t._source.dealerCity)+"-"+t._source.mfYear+"/"+t._id+'" data-name="'+t._source.name+'" data-path="https://dgf8cqgkz9cie.cloudfront.net/fit-in/530x356/612864/5c24925c42beebeb175c8d83-2019-02-19-12-08-13/image1.jpg"><img src="/assets/TRV/images/login/facebook.png" alt=""></a></li><li><a class="car_twitter" data-url="'+a+spaceToHyphen(t._source.name)+"-in-"+spaceToHyphen(t._source.dealerCity)+"-"+t._source.mfYear+"/"+t._id+'" data-name="'+t._source.name+'" data-path="Truevalue"><img src="/assets/TRV/images/login/twitter.png" alt=""></a></li><li><a class="car_whatsapp" data-url="'+a+spaceToHyphen(t._source.name)+"-in-"+spaceToHyphen(t._source.dealerCity)+"-"+t._source.mfYear+"/"+t._id+'" data-name="'+t._source.name+'" data-path="Truevalue"><img src="/assets/TRV/images/login/Whatsapp.jpg" alt=""></a></li></ul></div></div></div></div><div class="col-sm-12 col-12"><div class="rightSection"><h5><a href="'+a+spaceToHyphen(t._source.name)+"-in-"+spaceToHyphen(t._source.dealerCity)+"-"+t._source.mfYear+"/"+t._id+'">'+titleCase(t._source.name)+" "+t._source.variant.toUpperCase()+'</a></h5><div class="cityNameTxt">'+toTitleCase(t._source.dealerCity)+'</div><div class="details"><ul><li>'+t._source.mfYear+"</li><li>"+jsUcfirst(t._source.fuelType)+"</li><li>"+withoutCommaSepratedPrice(t._source.kmRun)+' km</li></ul></div><div class="leftContent"><div class="checkbox_wrapper"><input type="checkbox" id="compareCheckBox_listing" class="compareCheckBox_listing" data-carid="'+t._id+'" data-carname="'+toTitleCase(t._source.name)+'" data-price="'+t._source.price+'" data-image="'+t._source.images[0]+'"><label>Add to Compare</label> </div></div><div class="pricebox"><div class="priceSection"><span>₹'+withoutCommaSepratedPrice(t._source.price)+'</span><a href="javascript:void(0);" data-toggle="modal" data-target=".myModal" data-price="'+t._source.price+'" class="emicalculate">Calculate EMI</a></div><div class="contactDealerBookButt"><div class="conDealButton"><a href="javascript:void(0);" data-dealer="'+t._source.dealerName+'" data-toggle="modal" data-buyingid="'+t._source.buyingNumber+'" data-target=".contactdealer" data-track="'+t._id+"|"+t._source.variant+"|"+t._source.dealerCity+"|"+h(t._source.current_stage)+"|"+t._source.price+"|"+t._source.carType+"|"+t._source.price+"|"+t._source.make+"|"+t._source.mfYear+"|listing page|"+t._source.name+'">Contact Dealer</a></div><div class="testDriveButton"><a href="javascript:void(0);" data-toggle="modal" data-buyingid="'+t._source.buyingNumber+'" data-target=".booktestdrive" data-track="'+t._id+"|"+t._source.variant+"|"+t._source.dealerCity+"|"+h(t._source.current_stage)+"|"+t._source.price+"|"+t._source.carType+"|"+t._source.price+"|"+t._source.make+"|"+t._source.mfYear+"|listing page|"+t._source.name+'">Book a Test Drive</a></div></div></div></div></div></div></div></div>'));
}function b(e){var t=e.split("mtvdealerappus/");if(t.length>=2){var a=JSON.stringify({bucket:"mtvdealerappus",key:t[1],edits:{resize:{width:ra.cfg.isMobile?594:294,height:ra.cfg.isMobile?431:213,fit:"fill"}}});const o="https://dt5rjsxbvck7d.cloudfront.net/"+window.btoa(a);return o}return t[0]}function y(){$(".checkbox_wrapper").find("#compareCheckBox_listing").each(function(){var e=getDataFromLocal("compare");if(e)for(var t=0;t<e.length;t++)if(e[t].carid==$(this).data("carid"))return void $(this).prop("checked",!0)})}function S(e,t){return e<=t?"selected":""}function w(e){for(var t="",a=0;a<J.length;a++){const o=J[a];if(o.toLowerCase()==e.toLowerCase()){t="active",$(".carListingKeyword").append('<a href="javascript:void(0);" data-class="body_type" data-value="'+e+'">'+toTitleCase(e)+"</a>");break}}return t}function C(e){for(var t="",a=0;a<G.length;a++){const o=G[a];if(o.toLowerCase()==e.toLowerCase()){t="active",$(".carListingKeyword").append('<a href="javascript:void(0);" data-class="colorPanelLeft" data-value="'+e+'">'+toTitleCase(e)+"</a>");break}}return t}function k(e){for(var t=!1,a=0;a<j.length;a++){const o=j[a];if(o==e){t=!0;break}}return t}function I(e){for(var t=!1,a=0;a<z.length;a++){var o=z[a];if(o.toLowerCase()==e.toLowerCase()){t=!0;break}}return t}function x(e){for(var t=!1,a=0;a<K.length;a++){var o=K[a];if(o.toLowerCase()==e.toLowerCase()){t=!0;break}}return t}function M(e){for(var t=!1,a=0;a<W.length;a++){const o=W[a];if(o.toLowerCase()==e.toLowerCase()){t=!0;break}}return t}function T(e){for(var t=!1,a=0;a<Y.length;a++){const o=Y[a];if(o.toLowerCase()==e.toLowerCase()){t=!0;break}}return t}function D(e){$(".body_type ul li a").each(function(){var t=$(this).attr("data-value"),a=!1,o=0;e.CarTypes.buckets.forEach(function(e){if(t==e.key)return a=!0,void(o=e.doc_count)}),a?$(this).text(t.toUpperCase()+" ("+o+")"):$(this).text(t.toUpperCase())}),$(".ownermain label span").each(function(){var t=$(this).attr("data-value"),a=!1,o=0;if(e.OwnerType.buckets.forEach(function(e){if(t==e.key)return a=!0,void(o=e.doc_count)}),a)if(3==t)$(this).text("More than 2 owners ("+o+")");else switch(t){case"1":$(this).text(t+"st Owner ("+o+")");break;case"2":$(this).text(t+"nd Owner ("+o+")");break;default:$(this).text(t+" Owner ("+o+")")}else if(3==t)$(this).text("More than 2 owners");else switch(t){case"1":$(this).text(t+"st Owner");break;case"2":$(this).text(t+"nd Owner");break;default:$(this).text(t+" Owner")}}),$(".fuelmain label span").each(function(){var t=$(this).text();t=t.split("(");var a=!1,o=0;e.FuelTypes.buckets.forEach(function(e){if(t[0].trim()==jsUcfirst(e.key))return a=!0,void(o=e.doc_count)}),a?$(this).text(jsUcfirst(t[0])+" ("+o+")"):$(this).text(jsUcfirst(t[0]))}),$(".transmissionmain label span").each(function(){var t=$(this).text();t=t.split("(");var a=!1,o=0;e.TransmissionTypes.buckets.forEach(function(e){if(t[0].trim()==jsUcfirst(e.key))return a=!0,void(o=e.doc_count)}),a?$(this).text(jsUcfirst(t[0])+" ("+o+")"):$(this).text(jsUcfirst(t[0]))}),$(".colorPanelLeft a label").each(function(){var t=$(this).text();t=t.split("(");var a=!1,o=0;e.ColorCodes.buckets.forEach(function(e){if(t[0].trim()==jsUcfirst(e.key))return a=!0,void(o=e.doc_count)}),a?$(this).find("b").text(" ("+o+")"):$(this).find("b").text("")}),$(".carbrand label .brandlabel").each(function(){var t=$(this).text();t=t.split("(");var a=!1,o=0,i=[];if(e.Brands.buckets.length){var r=e.Brands.buckets[0].models;r.buckets&&r.buckets.length&&r.buckets.forEach(function(e,r){if(t[0].trim()==titleCase(e.key))return a=!0,i=e.varients,void(o=e.doc_count)})}if(a){$(this).text(titleCase(t[0])+" ("+o+")");var n="."+spaceToUnderScore(t[0].trim().toLowerCase())+" label span";$(n).each(function(){var e=$(this).data("value"),t=!1,a=0;i.buckets.forEach(function(o,i){e.toLowerCase()==o.key.toLowerCase()&&(t=!0,a=o.doc_count)}),t?$(this).text(e.toUpperCase()+" ("+a+")"):$(this).text(e.toUpperCase())})}else{$(this).text(titleCase(t[0]));var n="."+spaceToUnderScore(t[0].trim().toLowerCase())+" label span";$(n).each(function(){$(this).text($(this).data("value").toUpperCase())})}})}function P(e){if($(".carListingKeyword").empty(),e.CarTypes&&e.CarTypes.buckets&&($(".body_type ul").empty(),e.CarTypes.buckets.forEach(function(e){var t=document.createElement("li");t.innerHTML='<a href="javascript:void(0);" data-value="'+e.key+'" class="'+w(e.key)+'">'+e.key.toUpperCase()+" ("+e.doc_count+")</a>",$(".body_type ul").append(t)})),e.OwnerType&&e.OwnerType.buckets){if($(".ownermain").empty(),e.OwnerType.buckets.length>3)for(var t=0;t<3;t++){const a=e.OwnerType.buckets[t];if(t<2)switch(t){case 0:$(".ownermain").append('<div class="CustumCheckbox"><input type="checkbox" id="owner'+a.key+'" class="owner" data-value="'+a.key+'"><label for="owner'+a.key+'"><span data-value="'+a.key+'">'+a.key+"st Owner <b>("+a.doc_count+")</b></span></label></div>");break;case 1:$(".ownermain").append('<div class="CustumCheckbox"><input type="checkbox" id="owner'+a.key+'" class="owner" data-value="'+a.key+'"><label for="owner'+a.key+'"><span data-value="'+a.key+'">'+a.key+"nd Owner <b>("+a.doc_count+")</b></span></label></div>");break;default:$(".ownermain").append('<div class="CustumCheckbox"><input type="checkbox" id="owner'+a.key+'" class="owner" data-value="'+a.key+'"><label for="owner'+a.key+'"><span data-value="'+a.key+'">'+a.key+" Owner <b>("+a.doc_count+")</b></span></label></div>")}else $(".ownermain").append('<div class="CustumCheckbox"><input type="checkbox" id="owner3" class="owner" data-value="3"><label for="owner3"><span data-value="3">More than 2 owners <b>('+a.doc_count+")</b></span></label></div>")}else e.OwnerType.buckets.forEach(function(e,t){switch(t){case 0:$(".ownermain").append('<div class="CustumCheckbox"><input type="checkbox" id="owner'+e.key+'" class="owner" data-value="'+e.key+'"><label for="owner'+e.key+'"><span data-value="'+e.key+'">'+e.key+"st Owner <b>("+e.doc_count+")</b></span></label></div>");break;case 1:$(".ownermain").append('<div class="CustumCheckbox"><input type="checkbox" id="owner'+e.key+'" class="owner" data-value="'+e.key+'"><label for="owner'+e.key+'"><span data-value="'+e.key+'">'+e.key+"nd Owner <b>("+e.doc_count+")</b></span></label></div>");break;default:$(".ownermain").append('<div class="CustumCheckbox"><input type="checkbox" id="owner'+e.key+'" class="owner" data-value="'+e.key+'"><label for="owner'+e.key+'"><span data-value="'+e.key+'">'+e.key+" Owner <b>("+e.doc_count+")</b></span></label></div>")}});$(".ownermain .owner").each(function(){k($(this).data("value"))&&($(this).prop("checked",!0),$(".carListingKeyword").append('<a href="javascript:void(0);" data-class="ownermain" data-value="'+$(this).attr("data-value")+'">'+$(this).next().text().split("(")[0]+"</a>"))})}e.FuelTypes&&e.FuelTypes.buckets&&($(".fuelmain").empty(),e.FuelTypes.buckets.forEach(function(e,t){$(".fuelmain").append('<div class="CustumCheckbox"><input type="checkbox" id="fuel'+t+'" class="fuel" data-value="'+e.key+'"><label for="fuel'+t+'"><span>'+jsUcfirst(e.key)+"<b> ("+e.doc_count+")</b></span></label></div>")}),$(".fuelmain .fuel").each(function(){T($(this).data("value"))&&($(this).prop("checked",!0),$(".carListingKeyword").append('<a href="javascript:void(0);" data-class="fuelmain" data-value="'+$(this).attr("data-value")+'">'+toTitleCase($(this).attr("data-value"))+"</a>"))})),e.Brands&&e.Brands.buckets&&($(".carbrand").empty(),e.Brands.buckets.forEach(function(e){e.models.buckets.forEach(function(e,t){$(".carbrand").append('<div class="CustumCheckbox"><input type="checkbox" id="brand'+t+'" class="brand" data-value="'+e.key+'"><label for="brand'+t+'"><span class="brandlabel">'+titleCase(e.key)+"<b> ("+e.doc_count+")</b></span></label></div>"),$(".carbrand").append('<div class="inraccordCheckBox '+spaceToUnderScore(e.key)+'"></div>');var a=".carbrand ."+spaceToUnderScore(e.key);e.varients.buckets.forEach(function(t,o){if($(a).append('<div class="CustumCheckbox"><input type="checkbox" class="variant" id="'+spaceToUnderScore(e.key)+o+'" data-value="'+t.key+'"><label for="'+spaceToUnderScore(e.key)+o+'"><span data-value="'+t.key+'">'+t.key.toUpperCase()+"<b> ("+t.doc_count+")</b></span></label></div>"),x(e.key+":"+t.key)){var i="#"+spaceToUnderScore(e.key)+o;$(i).prop("checked",!0)}}),I(e.key)||$(a).hide()})}),$(".carbrand .brand").each(function(){I($(this).data("value"))&&($(this).prop("checked",!0),$(".carListingKeyword").append('<a href="javascript:void(0);" data-class="carbrand" data-value="'+spaceToUnderScore($(this).data("value"))+'">'+toTitleCase($(this).data("value"))+"</a>"))})),e.TransmissionTypes&&e.TransmissionTypes.buckets&&($(".transmissionmain").empty(),e.TransmissionTypes.buckets.forEach(function(e,t){$(".transmissionmain").append('<div class="CustumCheckbox"><input type="checkbox" id="transmission'+t+'" class="transmission" data-value="'+e.key+'"><label for="transmission'+t+'"><span>'+jsUcfirst(e.key)+"<b> ("+e.doc_count+")</b></span></label></div>")}),$(".transmissionmain .transmission").each(function(){M($(this).data("value"))&&($(this).prop("checked",!0),$(".carListingKeyword").append('<a href="javascript:void(0);" data-class="transmissionmain" data-value="'+$(this).attr("data-value")+'">'+toTitleCase($(this).attr("data-value"))+"</a>"))})),e.ColorCodes&&e.ColorCodes.buckets&&($(".colorPanelLeft").empty(),e.ColorCodes.buckets.forEach(function(e){$(".colorPanelLeft").append('<div class="colorPanelBox '+C(e.key)+'"><a href="javascript:void(0);"><span style="background-color: '+e.key+'" data-value="'+e.key+'"></span><label style="width: 100%;">'+jsUcfirst(e.key)+"<b>("+e.doc_count+")</b></label></a></div>")})),$(".range ul li a").each(function(){$(this).data("value")==te&&($(this).addClass("active"),$(".carListingKeyword").append('<a href="javascript:void(0);" data-class="range" data-value="'+$(this).data("value")+'">'+$(this).text()+"</a>"))}),$(".CustumCheckbox #trueValue1").each(function(){ae.length&&($(this).prop("checked",!0),$(".carListingKeyword").append('<a href="javascript:void(0);" data-class="trueValue1" data-value="trueValue1">'+$(this).next().text()+"</a>"))}),$(".CustumCheckbox #trueValue2").each(function(){oe.length&&($(this).prop("checked",!0),$(".carListingKeyword").append('<a href="javascript:void(0);" data-class="trueValue2" data-value="trueValue2">'+$(this).next().text()+"</a>"))}),$(".car_Budget ul li a").each(function(){$(this).data("min")==Q.Min&&$(this).data("max")==Q.Max&&($(this).addClass("active"),$(".carListingKeyword").append('<a href="javascript:void(0);" data-class="car_Budget" data-min="'+$(this).data("min")+'" data-max="'+$(this).data("max")+'">'+$(this).text()+"</a>"))}),$(".car_age ul li a").each(function(){$(this).data("min")==X.From&&$(this).data("max")==X.To&&($(this).addClass("active"),$(".carListingKeyword").append('<a href="javascript:void(0);" data-class="car_age" data-min="'+$(this).data("min")+'" data-max="'+$(this).data("max")+'">'+$(this).text()+"</a>"))}),$(".car_kilometer ul li a").each(function(){$(this).data("value")==ee&&($(this).addClass("active"),$(".carListingKeyword").append('<a href="javascript:void(0);" data-class="car_kilometer" data-value="'+$(this).data("value")+'">'+$(this).text()+"</a>"))})}var L=$("#langCode").val(),O={dealerCode:[],dealerCity:[],kilometers:"",budgetRange:{Min:"",Max:""},carAge:{From:"",To:""},carBodyType:[],ownertype:[],fuelType:[],modeltype:[],varientType:[],transmissionType:[],CarColor:[],CarCityRange:"",certifiedCars:[],bookedCars:[]},R="/api/sitecore/CarSearchListing/NoInventoryForms",E="/api/sitecore/CarSearchListing/OTPVerificationNoInventory";$(".onlineMelaClickCross .cross").click(function(){$(".onlineMela").css("display","none")});var A=$(".forDesktop .personRecommedPre .form-carListing_Inventory").validate({rules:{name:{required:!0,minlength:3,maxlength:20,name_regex:/^[A-z]*((-|\s)*[A-z])*$/g},email2:{required:!0,email:!0,email_regex:/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/},testCheck:{required:!0},mobile:{required:!0,number:!0,mobile_regex:/^[^0-5]\d{9}$/}},messages:{name:{required:$(".forDesktop .personRecommedPre .form-carListing_Inventory").find(".name").attr("data-empty"),name_regex:$(".forDesktop .personRecommedPre .form-carListing_Inventory").find(".name").attr("data-error"),minlength:$(".forDesktop .personRecommedPre .form-carListing_Inventory").find(".name").attr("data-error")},email2:{required:$(".forDesktop .personRecommedPre .form-carListing_Inventory").find(".email2").attr("data-empty"),email_regex:$(".forDesktop .personRecommedPre .form-carListing_Inventory").find(".email2").attr("data-error")},mobile:{required:$(".forDesktop .personRecommedPre .form-carListing_Inventory").find(".mobile").attr("data-empty"),mobile_regex:$(".forDesktop .personRecommedPre .form-carListing_Inventory").find(".mobile").attr("data-error")},testCheck:$(".forDesktop .personRecommedPre .form-carListing_Inventory").find(".inventoryPolicy").attr("data-empty")},errorElement:"em",errorPlacement:function(e,t){e.addClass("invalid-feedback"),"checkbox"===t.prop("type")?e.insertAfter(t.next("label")):e.insertAfter(t)},highlight:function(e,t,a){$(e).addClass("is-invalid").removeClass("is-valid")},unhighlight:function(e,t,a){$(e).addClass("is-valid").removeClass("is-invalid")},submitHandler:function(e){e.submit()}}),N={name:"",mobile:"",email:"",filters:""};$(".forDesktop .personRecommedPre .form-carListing_Inventory").find(".blueButton").click(function(t){if(e(),A.form()&&$(".forDesktop .personRecommedPre .form-carListing_Inventory").find(".inventoryPolicy:checked").val()){N={name:$(".forDesktop .personRecommedPre .form-carListing_Inventory").find(".name").val(),mobile:$(".forDesktop .personRecommedPre .form-carListing_Inventory").find(".mobile").val(),email:$(".forDesktop .personRecommedPre .form-carListing_Inventory").find(".email2").val(),filters:JSON.stringify(O)};var a=[];$(".carListingKeyword a").each(function(){"none"!=$(this).css("display")&&a.push($(this).text())}),a=a.toString(),z.length>0?tdSubmit({name:convertAES(N.name),mobile:convertSHA(N.mobile),email:convertSHA(N.email),formid:"inventory_trv",search:a,model:z.toString().toUpperCase()},"inventory_trv"):tdSubmit({name:convertAES(N.name),mobile:convertSHA(N.mobile),email:convertSHA(N.email),formid:"inventory_trv",search:a},"inventory_trv"),postDetails(R,JSON.stringify(N)).then(function(e){0==e.status?($(".otp-modal").modal("show"),$("#resendOTP").hide(),timeInterval("#tcount"),$(".loginInputRow #otpsubmit").removeClass(),$(".loginInputRow #otpsubmit").addClass("NoInventoryOTPSubmit"),$(".loginInputRow #resendOTP").removeClass(),$(".loginInputRow #resendOTP").addClass("resendbtn"),$(".loginInputRow #resendOTP").addClass("NoInventoryOTPSubmit"),otpBTDSubmit()):1==e.status?($(".forDesktop .personRecommedPre .form-carListing_Inventory").find(".name").val(""),$(".forDesktop .personRecommedPre .form-carListing_Inventory").find(".name").removeClass("is-valid"),$(".forDesktop .personRecommedPre .form-carListing_Inventory").find(".name").removeClass("is-invalid"),$(".forDesktop .personRecommedPre .form-carListing_Inventory").find(".mobile").val(""),$(".forDesktop .personRecommedPre .form-carListing_Inventory").find(".mobile").removeClass("is-valid"),$(".forDesktop .personRecommedPre .form-carListing_Inventory").find(".mobile").removeClass("is-invalid"),$(".forDesktop .personRecommedPre .form-carListing_Inventory").find(".email2").val(""),$(".forDesktop .personRecommedPre .form-carListing_Inventory").find(".email2").removeClass("is-valid"),$(".forDesktop .personRecommedPre .form-carListing_Inventory").find(".email2").removeClass("is-invalid"),$(".forDesktop .personRecommedPre .form-carListing_Inventory").find(".inventoryPolicy").prop("checked",!1),$(".total_car").css("display","none"),$(".forDesktop .personRecommedPre").css("display","none"),$(".forDesktop .aftermsg").css("display","block").html('<p class="msg_p1">'+e.message1+'</p><p class="msg_p2">'+e.message2+"</p>")):($(".infoIconPopup .infoIconPopup_p").text(e.message),$(".errorModal").modal("show"))})["catch"](function(e){console.log(e)})}var o=$(".forDesktop .personRecommedPre .form-carListing_Inventory").find(".email2").val();o||$(".forDesktop .personRecommedPre .form-carListing_Inventory").find(".name").length&&$(".forDesktop .personRecommedPre .form-carListing_Inventory").find(".mobile").length&&$(".email2.is-valid").removeClass("is-valid")}),$(".loginButt").on("click",".NoInventoryOTPSubmit",function(){var e=$("#otpText").val();if($(".otp-error").text(""),""!=e){var t={otp:e,name:N.name,mobile:N.mobile,email:N.email,filters:N.filters};postDetails(E,JSON.stringify(t)).then(function(e){0==e.status?($(".otp-modal").modal("show"),$(".otp-error").text(e.message),$(".otp-error").show(),estimateOTP(e.status)):1==e.status?(estimateOTP(e.status),$(".otp-modal").modal("hide"),$(".personRecommedPre .form-carListing_Inventory").find(".name").val(""),$(".personRecommedPre .form-carListing_Inventory").find(".name").removeClass("is-valid"),$(".personRecommedPre .form-carListing_Inventory").find(".name").removeClass("is-invalid"),$(".personRecommedPre .form-carListing_Inventory").find(".mobile").val(""),$(".personRecommedPre .form-carListing_Inventory").find(".mobile").removeClass("is-valid"),$(".personRecommedPre .form-carListing_Inventory").find(".mobile").removeClass("is-invalid"),$(".personRecommedPre .form-carListing_Inventory").find(".email2").val(""),$(".personRecommedPre .form-carListing_Inventory").find(".email2").removeClass("is-valid"),$(".personRecommedPre .form-carListing_Inventory").find(".email2").removeClass("is-invalid"),$(".personRecommedPre .form-carListing_Inventory").find(".inventoryPolicy").prop("checked",!1),$(window).width()<1e3?$(".carListingPage").find(".userCarsForMob.forMobile").css("display","none"):$(".total_car").css("display","none"),$(".personRecommedPre").css("display","none"),$(".aftermsg").css("display","block").html('<p class="msg_p1">'+e.message1+'</p><p class="msg_p2">'+e.message2+"</p>")):($(".otp-error").text(e.message),$(".otp-error").show())})["catch"](function(e){console.log(e)})}else $(".otp-error").text("Please enter OTP")}),$(".otpsent").on("click",".NoInventoryOTPSubmit",function(){var e={MobileNumber:N.mobile,name:N.name};resendOTP(JSON.stringify(e)).then(function(e){1==e.status?($("#resendOTP").hide(),timeInterval("#tcount"),$(".otpsent p").show(),$(".otp-error").text("")):($(".infoIconPopup .infoIconPopup_p").text(e.message),$(".errorModal").modal("show"))})["catch"](function(e){console.log(e)})}),$(".messageModal").find("#okBTN").click(function(){var e=$(this).data("status"),t=$(this).data("redirecttourl");$(".personRecommedPre .form-carListing_Inventory").find(".name").val(""),$(".personRecommedPre .form-carListing_Inventory").find(".name").removeClass("is-valid"),$(".personRecommedPre .form-carListing_Inventory").find(".name").removeClass("is-invalid"),$(".personRecommedPre .form-carListing_Inventory").find(".mobile").val(""),$(".personRecommedPre .form-carListing_Inventory").find(".mobile").removeClass("is-valid"),$(".personRecommedPre .form-carListing_Inventory").find(".mobile").removeClass("is-invalid"),$(".personRecommedPre .form-carListing_Inventory").find(".email2").val(""),$(".personRecommedPre .form-carListing_Inventory").find(".email2").removeClass("is-valid"),$(".personRecommedPre .form-carListing_Inventory").find(".email2").removeClass("is-invalid"),$(".personRecommedPre .form-carListing_Inventory").find(".inventoryPolicy").prop("checked",!1),1==e?(window.open(t,"_self"),$(".messageModal").modal("hide")):$(".messageModal").modal("hide")});var B=$(".forMobile .personRecommedPre .form-carListing_Inventory").validate({rules:{name:{required:!0,minlength:3,maxlength:20,name_regex:/^[A-z]*((-|\s)*[A-z])*$/g},email2:{required:!0,email:!0,email_regex:/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/},testCheck:{required:!0},mobile:{required:!0,number:!0,mobile_regex:/^[^0-5]\d{9}$/}},messages:{name:{required:$(".forMobile .personRecommedPre .form-carListing_Inventory").find(".name").attr("data-empty"),name_regex:$(".forMobile .personRecommedPre .form-carListing_Inventory").find(".name").attr("data-error"),minlength:$(".forMobile .personRecommedPre .form-carListing_Inventory").find(".name").attr("data-error")},email2:{required:$(".forMobile .personRecommedPre .form-carListing_Inventory").find(".email2").attr("data-empty"),email_regex:$(".forMobile .personRecommedPre .form-carListing_Inventory").find(".email2").attr("data-error")},mobile:{required:$(".forMobile .personRecommedPre .form-carListing_Inventory").find(".mobile").attr("data-empty"),mobile_regex:$(".forMobile .personRecommedPre .form-carListing_Inventory").find(".mobile").attr("data-error")},testCheck:$(".forMobile .personRecommedPre .form-carListing_Inventory").find(".inventoryPolicy").attr("data-empty")},errorElement:"em",errorPlacement:function(e,t){e.addClass("invalid-feedback"),"checkbox"===t.prop("type")?e.insertAfter(t.next("label")):e.insertAfter(t)},highlight:function(e,t,a){$(e).addClass("is-invalid").removeClass("is-valid")},unhighlight:function(e,t,a){$(e).addClass("is-valid").removeClass("is-invalid")},submitHandler:function(e){e.submit()}});$(".forMobile .personRecommedPre .form-carListing_Inventory").find(".blueButton").click(function(t){if(e(),B.form()&&$(".forMobile .personRecommedPre .form-carListing_Inventory").find(".inventoryPolicy:checked").val()){N={name:$(".forMobile .personRecommedPre .form-carListing_Inventory").find(".name").val(),mobile:$(".forMobile .personRecommedPre .form-carListing_Inventory").find(".mobile").val(),email:$(".forMobile .personRecommedPre .form-carListing_Inventory").find(".email2").val(),filters:JSON.stringify(O)};var a=[];$(".carListingKeyword a").each(function(){"none"!=$(this).css("display")&&a.push($(this).text())}),a=a.toString(),z.length>0?tdSubmit({name:convertAES(N.name),mobile:convertSHA(N.mobile),email:convertSHA(N.email),formid:"inventory_trv",search:a,model:z.toString().toUpperCase()},"inventory_trv"):tdSubmit({name:convertAES(N.name),mobile:convertSHA(N.mobile),email:convertSHA(N.email),formid:"inventory_trv",search:a},"inventory_trv"),postDetails(R,JSON.stringify(N)).then(function(e){0==e.status?($(".otp-modal").modal("show"),$("#resendOTP").hide(),timeInterval("#tcount"),$(".loginInputRow #otpsubmit").removeClass(),$(".loginInputRow #otpsubmit").addClass("NoInventoryOTPSubmit"),$(".loginInputRow #resendOTP").removeClass(),$(".loginInputRow #resendOTP").addClass("resendbtn"),$(".loginInputRow #resendOTP").addClass("NoInventoryOTPSubmit"),otpBTDSubmit()):1==e.status?($(".forMobile .personRecommedPre .form-carListing_Inventory").find(".name").val(""),$(".forMobile .personRecommedPre .form-carListing_Inventory").find(".name").removeClass("is-valid"),$(".forMobile .personRecommedPre .form-carListing_Inventory").find(".name").removeClass("is-invalid"),$(".forMobile .personRecommedPre .form-carListing_Inventory").find(".mobile").val(""),$(".forMobile .personRecommedPre .form-carListing_Inventory").find(".mobile").removeClass("is-valid"),$(".forMobile .personRecommedPre .form-carListing_Inventory").find(".mobile").removeClass("is-invalid"),$(".forMobile .personRecommedPre .form-carListing_Inventory").find(".email2").val(""),$(".forMobile .personRecommedPre .form-carListing_Inventory").find(".email2").removeClass("is-valid"),$(".forMobile .personRecommedPre .form-carListing_Inventory").find(".email2").removeClass("is-invalid"),$(".forMobile .personRecommedPre .form-carListing_Inventory").find(".inventoryPolicy").prop("checked",!1),$(".carListingPage").find(".userCarsForMob.forMobile").css("display","none"),$(".forMobile .personRecommedPre").css("display","none"),$(".forMobile .aftermsg").css("display","block").html('<p class="msg_p1">'+e.message1+'</p><p class="msg_p2">'+e.message2+"</p>")):($(".otp-error").text(e.message),$(".otp-error").show())})["catch"](function(e){console.log(e)})}var o=$(".forMobile .personRecommedPre .form-carListing_Inventory").find(".email2").val();o||$(".forMobile .personRecommedPre .form-carListing_Inventory").find(".name").length&&$(".forMobile .personRecommedPre .form-carListing_Inventory").find(".mobile").length&&$(".email2.is-valid").removeClass("is-valid")});var F=window.location.pathname;~F.indexOf("hi-in")&&(F=F.replace("/hi-in","")),F.indexOf("/used-")>-1&&$.getJSON("/assets/TRV/js/dataUrl/TrvCustomUrls.json",function(e){var t,a,o,i={modeltype:""};t=e;var r=F.replace("/","");if(a=t[r]){switch(o=a.split("=")[0]){case"modeltype":i.modeltype=a.split("=")[1];break;case"dealerCity":var n=a.split("|")[1];i.modeltype=n.split("=")[1]}i&&postDetailsWithoutLoader("/api/sitecore/CarSearchListing/FaqContentHits",JSON.stringify(i)).then(function(e){d(e.faqContent)})["catch"](function(e){console.log("Error in api call:"+e)})}}).done(function(){console.log("1st time load")}).fail(function(){console.log("1st time load json error")});var q,U,H=[],V=[],K=[],J=[],j=[],Y=[],W=[],G=[],z=[],Q={Min:1,Max:1e7},X={From:0,To:35},Z=[],ee=1e7,te=1,ae=[],oe=[],ie=null,re=1;$(".resetIcon").click(function(e){K=[],J=[],j=[],Y=[],W=[],G=[],z=[],Q={Min:1,Max:1e7},X={From:0,To:35},ee=1e7,te=1,ae=[],oe=[],re=1,$(".body_type ul li a").removeClass("active"),$(".ownermain .owner").each(function(){$(this).prop("checked",!1)}),$(".fuelmain .fuel").each(function(){$(this).prop("checked",!1)}),$(".transmissionmain .transmission").each(function(){$(this).prop("checked",!1)}),$(".colorPanelLeft .colorPanelBox").removeClass("active"),$(".car_Budget ul li a").removeClass("active"),$(".car_age ul li a").removeClass("active"),$(".car_kilometer ul li a").removeClass("active"),$(".range ul li a").removeClass("active"),$(".CustumCheckbox #trueValue1").each(function(){$(this).prop("checked",!1)}),$(".CustumCheckbox #trueValue2").each(function(){$(this).prop("checked",!1)}),$(".carbrand .brand").each(function(){var e="."+spaceToUnderScore($(this).data("value"));$(e).find("input").prop("checked",!1),$(e).hide(),$(this).prop("checked",!1)}),$(".carListingKeyword a").remove(),$(window).width()<1e3?($(".carListingPage").find(".userCarsForMob.forMobile").css("display","block"),"block"==$(".forMobile").find(".aftermsg").css("display")&&$(".forMobile").find(".aftermsg").css("display","none")):($(".carListingSection").find(".carListingTitle.forDesktop").css("width","80%"),$(".total_car").css("display","block"),"block"==$(".aftermsg").css("display")&&$(".aftermsg").css("display","none")),r()}),$(".carListingPage").length>0&&(a(),t()),$(".carListingKeyword").on("click","a",function(){$(this).hide();var e=$(this).data("class"),t=$(this).data("value");switch(re=1,e){case"body_type":$(".body_type ul li .active").each(function(){$(this).attr("data-value")===t&&($(this).toggleClass("active"),r())});break;case"ownermain":$(".ownermain .owner").each(function(){$(this).is(":checked")&&$(this).attr("data-value")==t&&($(this).prop("checked",!1),r())});break;case"fuelmain":$(".fuelmain .fuel").each(function(){$(this).is(":checked")&&$(this).attr("data-value")==t&&($(this).prop("checked",!1),r())});break;case"transmissionmain":$(".transmissionmain .transmission").each(function(){$(this).is(":checked")&&$(this).attr("data-value")==t&&($(this).prop("checked",!1),r())});break;case"colorPanelLeft":$(".colorPanelLeft .active").each(function(){$(this).find("a span").attr("data-value")==t&&($(this).toggleClass("active"),r())});break;case"car_Budget":$(".car_Budget ul li .active").data("min")==$(this).data("min")&&$(".car_Budget ul li .active").data("max")==$(this).data("max")&&($(".car_Budget ul li .active").toggleClass("active"),r());break;case"car_age":$(".car_age ul li .active").data("min")==$(this).data("min")&&$(".car_age ul li .active").data("max")==$(this).data("max")&&($(".car_age ul li .active").toggleClass("active"),r());break;case"car_kilometer":$(".car_kilometer ul li .active").data("value")==t&&($(".car_kilometer ul li .active").toggleClass("active"),r());break;case"range":$(".range ul li .active").data("value")==t&&($(".range ul li .active").toggleClass("active"),r());break;case"trueValue1":$(".CustumCheckbox #trueValue1").each(function(){$(this).is(":checked")&&($(this).prop("checked",!1),r())});break;case"trueValue2":$(".CustumCheckbox #trueValue2").each(function(){$(this).is(":checked")&&($(this).prop("checked",!1),r())});break;case"carbrand":$(".carbrand .brand").each(function(){if($(this).is(":checked")&&spaceToUnderScore($(this).attr("data-value"))==t){var e="."+spaceToUnderScore($(this).data("value"));$(e).find("input").prop("checked",!1),$(e).hide(),$(this).prop("checked",!1),$(".carListingKeyword").find(e).hide(),r()}});break;case"variant":var a=$(this).data("parent"),o="."+spaceToUnderScore(a)+" .variant";$(o).each(function(){$(this).is(":checked")&&$(this).attr("data-value")==t&&($(this).prop("checked",!1),r())})}}),$(".hideShowContent").click(function(){$(this).toggleClass("active"),$(".showhidetext").toggleClass("active");for(var e=$(this).attr("class").split(" "),t=0;t<e.length;t++){const a=e[t];"active"==a?$(".accordTxtMain .card-body").find(".shortdes").hide():$(".accordTxtMain .card-body").find(".shortdes").show()}}),$(".body_type").on("click","a",function(){if($(this).toggleClass("active"),bodyType($(this).attr("data-value")),re=1,$(this).hasClass("active"))$(".carListingKeyword").append('<a href="javascript:void(0);" data-class="body_type" data-value="'+$(this).attr("data-value")+'">'+toTitleCase($(this).attr("data-value"))+"</a>");else{var e=".carListingKeyword [data-value="+$(this).attr("data-value")+"]";$(e).hide()}r()}),$(".ownermain").on("click",".owner",function(){if(re=1,ownerby($(this).data("value")),$(this).is(":checked"))$(".carListingKeyword").append('<a href="javascript:void(0);" data-class="ownermain" data-value="'+$(this).attr("data-value")+'">'+$(this).next().text().split("(")[0]+"</a>");else{var e=".carListingKeyword [data-value="+$(this).attr("data-value")+"]";$(e).hide()}r()}),$(".fuelmain").on("click",".fuel",function(){if(re=1,fueltype($(this).data("value")),$(this).is(":checked"))$(".carListingKeyword").append('<a href="javascript:void(0);" data-class="fuelmain" data-value="'+$(this).attr("data-value")+'">'+toTitleCase($(this).attr("data-value"))+"</a>");else{var e=".carListingKeyword [data-value="+$(this).attr("data-value")+"]";$(e).hide()}r()}),$(".car_Budget ul li a").click(function(e){if(e.preventDefault(),$(".car_Budget ul li a").not($(this)).removeClass("active"),$(this).toggleClass("active"),re=1,budgetby({Min:$(this).data("min"),Max:$(this).data("max")}),$(this).hasClass("active")){var t=".carListingKeyword [data-class=car_Budget]";$(t).hide(),$(".carListingKeyword").append('<a href="javascript:void(0);" data-class="car_Budget" data-min="'+$(this).data("min")+'" data-max="'+$(this).data("max")+'">'+$(this).text()+"</a>")}else{var t=".carListingKeyword [data-min="+$(this).data("min")+"]";$(t).hide()}r()}),$(".car_age ul li a").click(function(e){if(e.preventDefault(),$(".car_age ul li a").not($(this)).removeClass("active"),$(this).toggleClass("active"),carageby({From:$(this).data("min"),To:$(this).data("max")}),$(this).hasClass("active")){var t=".carListingKeyword [data-class=car_age]";$(t).hide(),$(".carListingKeyword").append('<a href="javascript:void(0);" data-class="car_age" data-min="'+$(this).data("min")+'" data-max="'+$(this).data("max")+'">'+$(this).text()+"</a>")}else{var t=".carListingKeyword [data-min="+$(this).data("min")+"]";$(t).hide()}re=1,r()}),$(".car_kilometer ul li a").click(function(e){if(e.preventDefault(),$(".car_kilometer ul li a").not($(this)).removeClass("active"),$(this).toggleClass("active"),kilometerby($(this).data("value")),re=1,$(this).hasClass("active")){var t=".carListingKeyword [data-class=car_kilometer]";$(t).hide(),$(".carListingKeyword").append('<a href="javascript:void(0);" data-class="car_kilometer" data-value="'+$(this).data("value")+'">'+$(this).text()+"</a>")}else{var t=".carListingKeyword [data-value="+$(this).data("value")+"]";
$(t).hide()}r()}),$(".range ul li a").click(function(e){e.preventDefault();var t=$(this).data("value"),a=getDataFromLocal("location");if(rangeby($(this).data("value")),a){if($(".range ul li a").not($(this)).removeClass("active"),$(this).toggleClass("active"),re=1,$(this).hasClass("active")){var o=".carListingKeyword [data-class=range]";$(o).hide(),$(".carListingKeyword").append('<a href="javascript:void(0);" data-class="range" data-value="'+$(this).data("value")+'">'+$(this).text()+"</a>")}else{var o=".carListingKeyword [data-value="+$(this).data("value")+"]";$(o).hide()}r()}else $.getJSON("/TrvCustomUrls.json",function(e){var a=e,o=window.location.pathname.split("/");if(o.length){for(var i="",n=1;n<o.length;n++){const l=o[n];l&&(1==n?i=l:isNaN(l)&&(i=i+"/"+l))}var s,c=$("#langCode").val();c?(i=i.replace(c,""),s=a[i]):s=a[i],s=s?s.split("|"):[],window.location.hash.indexOf("listingCity=")>-1&&window.location.hash.indexOf("CarCityRange=")>-1||window.location.hash.indexOf("listingCity=")>-1||window.location.hash.indexOf("carBodyType=")>-1&&window.location.hash.indexOf("dealerCity=")>-1||window.location.hash.indexOf("dealerCity=")>-1?$(".range ul li a").each(function(){if($(this).data("value")==t){if($(".range ul li a").not($(this)).removeClass("active"),$(this).toggleClass("active"),re=1,$(this).hasClass("active")){var e=".carListingKeyword [data-class=range]";$(e).hide(),$(".carListingKeyword").append('<a href="javascript:void(0);" data-class="range" data-value="'+$(this).data("value")+'">'+$(this).text()+"</a>")}else{var e=".carListingKeyword [data-value="+$(this).data("value")+"]";$(e).hide()}r()}}):"buy-car"==o[1]||"hi-in"==o[1]&&"buy-car"==o[2]?$(".bd-example-modal-lg").modal("show"):s&&s[0].indexOf("dealerCity")>-1?$(".range ul li a").each(function(){if($(this).data("value")==t){if($(".range ul li a").not($(this)).removeClass("active"),$(this).toggleClass("active"),re=1,$(this).hasClass("active")){var e=".carListingKeyword [data-class=range]";$(e).hide(),$(".carListingKeyword").append('<a href="javascript:void(0);" data-class="range" data-value="'+$(this).data("value")+'">'+$(this).text()+"</a>")}else{var e=".carListingKeyword [data-value="+$(this).data("value")+"]";$(e).hide()}r()}}):$(".bd-example-modal-lg").modal("show")}}).done(function(){console.log("interior.json loaded succeeded, from range!")}).fail(function(){console.log("interior.json loaded failed, from range! ")})}),$(".CustumCheckbox").find("#trueValue1").on("click",function(){if(re=1,removeandbookcar("True value certified"),$(this).is(":checked"))$(".carListingKeyword").append('<a href="javascript:void(0);" data-class="trueValue1" data-value="trueValue1">'+$(this).next().text()+"</a>");else{var e=".carListingKeyword [data-class=trueValue1]";$(e).hide()}r()}),$(".CustumCheckbox").find("#trueValue2").on("click",function(){if(re=1,removeandbookcar("remove booked cars"),$(this).is(":checked"))$(".carListingKeyword").append('<a href="javascript:void(0);" data-class="trueValue2" data-value="trueValue2">'+$(this).next().text()+"</a>");else{var e=".carListingKeyword [data-class=trueValue2]";$(e).hide()}r()}),$(".transmissionmain").on("click",".transmission",function(){if(re=1,transmissionby($(this).data("value")),$(this).is(":checked"))$(".carListingKeyword").append('<a href="javascript:void(0);" data-class="transmissionmain" data-value="'+$(this).attr("data-value")+'">'+toTitleCase($(this).attr("data-value"))+"</a>");else{var e=".carListingKeyword [data-value="+$(this).attr("data-value")+"]";$(e).hide()}r()}),$(".colorPanelLeft").on("click",".colorPanelBox",function(){if($(this).toggleClass("active"),re=1,colorby($(this).find("span").attr("data-value")),$(this).hasClass("active"))$(".carListingKeyword").append('<a href="javascript:void(0);" data-class="colorPanelLeft" data-value="'+$(this).find("span").attr("data-value")+'">'+toTitleCase($(this).find("span").attr("data-value"))+"</a>");else{var e=".carListingKeyword [data-value="+$(this).find("span").attr("data-value")+"]";$(e).hide()}r()}),$(".carbrand").on("click",".brand",function(){if(brandby($(this).data("value")),$(this).is(":checked")){var e="."+spaceToUnderScore($(this).data("value"));$(e).find("input").prop("checked",!1),$(e).show(),re=1,$(".carListingKeyword").append('<a href="javascript:void(0);" data-class="carbrand" data-value="'+spaceToUnderScore($(this).data("value"))+'">'+toTitleCase($(this).data("value"))+"</a>"),r()}else{var e="."+spaceToUnderScore($(this).data("value"));$(e).find("input").prop("checked",!1),$(e).hide(),re=1;var t=".carListingKeyword [data-value="+spaceToUnderScore($(this).data("value"))+"]";$(t).remove(),r()}}),$(".carbrand").on("click",".variant",function(){re=1,r()}),$(".sortselectbox").find(".sorting_select").on("change",function(){sortby($(this).find("option:selected").text()),re=1,$(this).val()?(ie=$(this).val(),r()):(ie=null,r())}),$(".listingBlockMain").on("click",".wishlisticon",function(){var e={carid:$(this).data("carid"),carname:$(this).data("carname"),price:$(this).data("price"),carimage:$(this).data("image")};$(this).hasClass("active")?removeWishList(e):($(this).toggleClass("active"),addWishList(e),addTowishlistClickEvent())}),$(".listingBlockMain").on("click",".shareicon_listing",function(){$(this).next(".socialsharebox").toggleClass("active")}),$(".sliderLikeShareMain").on("click",".sliderShareButt",function(){$(this).next(".socialsharebox").toggleClass("active")}),$(".listingBlockMain").on("click",".compareCheckBox_listing",function(){var e={carid:$(this).data("carid"),carname:$(this).data("carname"),price:withoutCommaSepratedPrice($(this).data("price")),carimage:$(this).data("image"),bookStatus:$(this).data("book")};if($(this).is(":checked")){var t=getDataFromLocal("compare");ra.cfg.isMobile?t&&2==t.length?($(this).prop("checked",!1),$(".infoIconPopup .infoIconPopup_p").text("You can't compare more than 2 cars"),$(".errorModal").modal("show")):addCompare(e):t&&4==t.length?($(this).prop("checked",!1),$(".infoIconPopup .infoIconPopup_p").text("You can't compare more than 4 cars"),$(".errorModal").modal("show")):addCompare(e),checkboxEventTrack()}else removeCompare(e)}),$(".listingBlockMain").on("click",".car_facebook",function(){var e="http://www.facebook.com/sharer.php?u="+window.location.protocol+"//"+window.location.hostname+$(this).data("url")+"&title="+$(this).data("name")+"&picture="+$(this).data("path");return window.open(e,"Share on FaceBook","left=20,top=20,width=550,height=400,toolbar=0,menubar=0,scrollbars=0,location=0,resizable=1"),!1}),$(".listingBlockMain").on("click",".car_twitter",function(){var e=window.open("https://twitter.com/intent/tweet?url="+window.location.protocol+"//"+window.location.hostname+$(this).data("url")+"&text="+$(this).data("name")+"&hashtags="+$(this).data("path"),"twitter-popup","height=350,width=600");return e.focus&&e.focus(),!1}),$(".listingBlockMain").on("click",".car_whatsapp",function(){var e=window.location.protocol+"//"+window.location.hostname+$(this).data("url"),t=toTitleCase($(this).data("name")),a=encodeURIComponent(t)+" - "+encodeURIComponent(e);if(ra.cfg.isMobile){var o="whatsapp://send?text="+a;window.location.href=o}else{var o="https://web.whatsapp.com/send?text="+a;window.open(o,"_blank")}return!1}),$(".listingBlockMain").on("click",".testDriveButton a",function(){var e,t,a,o,i;e=$(this).closest(".rightSection").find("h5 a").text(),t=$(this).data("track"),o=t.split("|")[10].replace(t.split("|")[10],$(this).closest(".rightSection").find("h5 a").text()),i=t.split("|"),i[10]=o.toLowerCase(),i=i.join("|"),a=t?t.split("|"):[],bookTestDriveVirtual({event:"virtual_pageview",virtualPageURL:"/book-a-test-drive",virtualPageTitle:"Book a test drive",cd_timestamp:(new Date).getTime(),cd_userid:calcMD5((new Date).getTime()),cd_model_variant_selected:e.toLowerCase(),cd_car_location:a[2]?a[2]:"",cd_location:"",cd_car_availability:a[3]?a[3]:"",cd_car_price:a[4],cd_body_style:a[5],"cd_Preferred Price Range":a[4],cd_car_Make:a[7],cd_manf_year:a[8]}),$(this).removeAttr("data-target");var r=$(this),n={p_buy_id:""};n.p_buy_id=$(this).data("buyingid"),n.p_buy_id&&postDetails("/api/sitecore/BookATestDrive/BtdStock",JSON.stringify(n)).then(function(e){"success"==e.status&&("I"==e.ApiResponse.result.p_status?($(".infoIconPopup .infoIconPopup_p").text(e.message),$(".errorModal").modal("show")):(r.eq(0).attr("data-target",".booktestdrive"),$(".booktestdrive").modal("show")))})["catch"](function(e){console.log(e)}),$("#form-book-test-drive").find(".carIdBooktestDrive").val(i),$("#form-book-test-drive").find(".bluebutton").attr("data-carmodel",e),$("#form-book-test-drive").find(".blueButton").attr("data-carid",t)}),$(".listingBlockMain").on("click",".conDealButton a",function(){var e=$(this).closest(".rightSection").find("h5 a").text(),t=$(this).data("dealer"),a=$(this).data("track"),o=a?a.split("|"):[];contactDealerVirtual({event:"virtual_pageview",virtualPageURL:"/contact-dealer",virtualPageTitle:"Contact dealer",cd_timestamp:(new Date).getTime(),cd_userid:calcMD5((new Date).getTime()),cd_model_variant_selected:e.toLowerCase(),cd_car_location:o[2]?o[2]:"",cd_location:"",cd_car_availability:o[3]?o[3]:"",cd_car_price:o[4],cd_body_style:o[5],"cd_Preferred Price Range":o[4],cd_car_Make:o[7],cd_manf_year:o[8]}),$(this).removeAttr("data-target");var i=$(this),r={p_buy_id:""};r.p_buy_id=$(this).data("buyingid"),r.p_buy_id&&postDetails("/api/sitecore/BookATestDrive/BtdStock",JSON.stringify(r)).then(function(e){"success"==e.status&&("I"==e.ApiResponse.result.p_status?($(".infoIconPopup .infoIconPopup_p").text(e.message),$(".errorModal").modal("show")):(i.eq(0).attr("data-target",".contactdealer"),$(".contactdealer").modal("show")))})["catch"](function(e){console.log(e)}),$("#form-contact-dealer").find(".cdcarIdBooktestDrive").val(a),$("#form-contact-dealer").find(".blueButton").attr("data-carid",a),$("#form-contact-dealer").find(".blueButton").attr("data-carmodel",e),$("#form-contact-dealer").find(".blueButton").attr("data-dealername",t)}),$(window).width()<1e3&&$(".carBox").length<10}),$(document).ready(function(){function e(e){var t=e.item.count-1,a=Math.round(e.item.index-e.item.count/2-.5);a<0&&(a=t),a>t&&(a=0),o.find(".owl-item").removeClass("current").eq(a).addClass("current");var i=o.find(".owl-item.active").length-1,r=o.find(".owl-item.active").first().index(),n=o.find(".owl-item.active").last().index();a>n&&o.data("owl.carousel").to(a,100,!0),a<r&&o.data("owl.carousel").to(a-i,100,!0)}function t(e){if(r){var t=e.item.index;a.data("owl.carousel").to(t,100,!0)}}var a=$("#sync1"),o=$("#sync2"),i=4,r=!0;a.owlCarousel({items:1,slideSpeed:2e3,nav:!0,autoplay:!1,dots:!1,loop:!1,rewind:!0,responsiveRefreshRate:200,navText:['<svg width="100%" height="100%" viewBox="0 0 11 20"><path style="fill:none;stroke-width: 3px;stroke: #2b3395;" d="M9.554,1.001l-8.607,8.607l8.607,8.606"/></svg>','<svg width="100%" height="100%" viewBox="0 0 11 20" version="1.1"><path style="fill:none;stroke-width: 3px;stroke: #2b3395;" d="M1.054,18.214l8.606,-8.606l-8.606,-8.607"/></svg>']}).on("changed.owl.carousel",e),o.on("initialized.owl.carousel",function(){o.find(".owl-item").eq(0).addClass("current")}).owlCarousel({items:i,dots:!0,nav:!0,smartSpeed:200,slideSpeed:500,mouseDrag:!1,slideBy:i,responsiveRefreshRate:100}).on("changed.owl.carousel",t),o.on("click",".owl-item",function(e){e.preventDefault();var t=$(this).index();a.data("owl.carousel").to(t,300,!0)}),$(".fancybox").fancybox({loop:!1}),$(".myModal, .booktestdrive, .contactdealer").on("hidden.bs.modal",function(e){$(".owl-carousel").trigger("play.owl.autoplay")}),$(".myModal, .booktestdrive, .contactdealer").on("shown.bs.modal",function(e){$(".owl-carousel").trigger("stop.owl.autoplay")}),$(".tab_carcompare").click(function(){$(this).toggleClass("active"),$(".tab_wishlist").removeClass("active"),$(".wishlist_content").removeClass("active"),$(".comparecar_content").toggleClass("active")}),$(".tab_wishlist").click(function(){$(this).toggleClass("active"),$(".tab_carcompare").removeClass("active"),$(".wishlist_content").toggleClass("active"),$(".comparecar_content").removeClass("active")}),$(window).width()>992&&($(".tab_carcompare").on("mouseenter",function(){$(this).addClass("active"),$(".tab_wishlist").removeClass("active"),$(".comparecar_content").addClass("active"),$(".wishlist_content").removeClass("active")}),$(".tab_wishlist").on("mouseenter",function(){$(this).addClass("active"),$(".tab_carcompare").removeClass("active"),$(".wishlist_content").addClass("active"),$(".comparecar_content").removeClass("active")}),$(".compareCarInn .tab-content").on("mouseleave",function(){$(".tab_wishlist").removeClass("active"),$(".tab_carcompare").removeClass("active"),$(".wishlist_content").removeClass("active"),$(".comparecar_content").removeClass("active")}))});var homeUrl=$("header .headermiddle a:first").attr("href");localStorage.getItem("vregistration")||localStorage.getItem("vmobile")||localStorage.getItem("vcity")?($(".welcomeBackPopupMain").show(),$("#okWelcome").click(function(){$(window).width()<1e3?($(".mobileform.mod-buysellform .nav .nav-item .nav-link").removeClass("active"),$(".mobileform.mod-buysellform .nav .nav-item:nth-child(2) .nav-link").addClass("active"),$(".SearchCarouselMobile.buyformbox").css({display:"none"}),$(".SearchCarouselMobile.sellformbox").css({display:"block"}),localStorage.getItem("vregistration")&&$("#vregistrationM").val(localStorage.getItem("vregistration")),localStorage.getItem("vmobile")&&$("#vmobileM").val(localStorage.getItem("vmobile")),localStorage.getItem("vcity")&&$("#vcityM option:contains('"+localStorage.getItem("vcity")+"')").prop("selected",!0).change(),$(".welcomeBackPopupMain").hide(),localStorage.removeItem("vregistration"),localStorage.removeItem("vmobile"),localStorage.removeItem("vcity")):($(".desktopform ul li:nth-child(1) a").removeClass("active"),$($(".desktopform ul li:nth-child(1) a").attr("href")).removeClass("active"),$(".desktopform ul li:nth-child(2) a").addClass("active"),$($(".desktopform ul li:nth-child(2) a").attr("href")).addClass("active"),localStorage.getItem("vregistration")&&$("#vregistration").val(localStorage.getItem("vregistration")),localStorage.getItem("vmobile")&&$("#vmobile").val(localStorage.getItem("vmobile")),localStorage.getItem("vcity")&&$("#vcity option:contains('"+localStorage.getItem("vcity")+"')").prop("selected",!0).change(),$(".welcomeBackPopupMain").hide(),localStorage.removeItem("vregistration"),localStorage.removeItem("vmobile"),localStorage.removeItem("vcity"))})):localStorage.getItem("cust_model1")||localStorage.getItem("cust_budget")||localStorage.getItem("autocomplete_locator_home_buy")?($(".welcomeBackPopupMain").show(),$("#okWelcome").click(function(){if($(window).width()<1e3){if($(".mobileform.mod-buysellform .nav .nav-item .nav-link").removeClass("active"),$(".mobileform.mod-buysellform .nav .nav-item:nth-child(1) .nav-link").addClass("active"),$(".SearchCarouselMobile.sellformbox").css({display:"none"}),$(".SearchCarouselMobile.buyformbox").css({display:"block"}),localStorage.getItem("cust_model1")&&$("#slctmodel_m option:contains('"+localStorage.getItem("cust_model1")+"')").prop("selected",!0).change(),localStorage.getItem("cust_budget"))for(var e=0;e<$("#seclectBudgetMobile ul li a").length;e++)$("#seclectBudgetMobile ul li:nth-child("+e+")").find("a").text()==localStorage.getItem("cust_budget")&&$("#seclectBudgetMobile ul li:nth-child("+e+")").addClass("active");localStorage.getItem("autocomplete_locator_home_buy")&&$('#cust_city_m option:contains("'+toTitleCase(localStorage.getItem("autocomplete_locator_home_buy"))+'")').prop("selected",!0).change(),$(".welcomeBackPopupMain").hide(),localStorage.removeItem("cust_model1"),localStorage.removeItem("cust_budget"),localStorage.removeItem("autocomplete_locator_home_buy")}else $(".desktopform ul li:nth-child(2) a").removeClass("active"),$($(".desktopform ul li:nth-child(2) a").attr("href")).removeClass("active"),$(".desktopform ul li:nth-child(1) a").addClass("active"),$($(".desktopform ul li:nth-child(1) a").attr("href")).addClass("active"),localStorage.getItem("cust_model1")&&$('#cust_model1 option:contains("'+localStorage.getItem("cust_model1")+'")').prop("selected",!0).change(),localStorage.getItem("cust_budget")&&$('#cust_budget option:contains("'+localStorage.getItem("cust_budget")+'")').prop("selected",!0).change(),localStorage.getItem("autocomplete_locator_home_buy")&&$('#cust_city option:contains("'+toTitleCase(localStorage.getItem("autocomplete_locator_home_buy"))+'")').prop("selected",!0).change(),$(".welcomeBackPopupMain").hide(),localStorage.removeItem("cust_model1"),localStorage.removeItem("cust_budget"),localStorage.removeItem("autocomplete_locator_home_buy")})):$(".welcomeBackPopupMain").hide(),$(".booktestdrive").on("hidden.bs.modal",function(){$("#form-book-test-drive").trigger("reset"),$("#form-book-test-drive").validate().resetForm(),$("#form-book-test-drive").find("input").removeClass("is-valid"),$("#form-book-test-drive").find("input").removeClass("is-invalid")}),$(".contactdealer").on("hidden.bs.modal",function(){$("#form-contact-dealer").trigger("reset"),$("#form-contact-dealer").validate().resetForm(),$("#form-contact-dealer").find("input").removeClass("is-valid"),$("#form-contact-dealer").find("input").removeClass("is-invalid")}),$(".otp-modal").on("hidden.bs.modal",function(){$(".loginInputRow").find("#otpText").val(""),$(".otp-error").text("")});var emailInterval;$(".email2").on("input",function(){var e=$(this).val();e.length||(emailInterval=setInterval(function(){$(".form-control.email2").removeClass("is-valid"),clearInterval(emailInterval)},1e3))}),$(".email2").focusout(function(){var e=$(this).val();e.length||(emailInterval=setInterval(function(){$(".form-control.email2").removeClass("is-valid"),clearInterval(emailInterval)},1e3))}),$("#otpText").on("input",function(){$("#otpText").val()?$(".otp-error").text(" "):$(".otp-error").text("Please enter OTP")});var utmUrl=window.location.href;if(~utmUrl.indexOf("utm_")){var cookBody={utm_source:"",utm_medium:"",utm_campaign:"",utm_content:"",utm_campaignid:"",utm_adgroupId:"",utm_adtextid:"",utm_term:""},nUrl=window.location.href.split("?");if(nUrl.length>=2){var newUtmUrl=nUrl[1],splitvalUtm=newUtmUrl.split("&"),ind=0;$(splitvalUtm).each(function(){var e=splitvalUtm[ind].split("=")[0],t=splitvalUtm[ind].split("=")[1];"utm_source"==e&&(cookBody.utm_source=t),"utm_medium"==e&&(cookBody.utm_medium=t),"utm_campaign"==e&&(cookBody.utm_campaign=t),"utm_content"==e&&(cookBody.utm_content=t),"utm_campaignid"==e&&(cookBody.utm_campaignid=t),"utm_adgroupId"==e&&(cookBody.utm_adgroupId=t),"utm_adtextid"==e&&(cookBody.utm_adtextid=t),"utm_term"==e&&(cookBody.utm_term=t),ind++}),localStorage.setItem("utm_source",cookBody.utm_source),localStorage.setItem("utm_medium",cookBody.utm_medium),localStorage.setItem("utm_campaign",cookBody.utm_campaign),localStorage.setItem("utm_content",cookBody.utm_content),localStorage.setItem("utm_campaignid",cookBody.utm_campaignid),localStorage.setItem("utm_adgroupId",cookBody.utm_adgroupId),localStorage.setItem("utm_adtextid",cookBody.utm_adtextid),localStorage.setItem("utm_term",cookBody.utm_term)}else{var nUrl=window.location.href.split("#");if(nUrl.length>=2){var newUtmUrl=nUrl[1],splitvalUtm=newUtmUrl.split("&"),ind=0;$(splitvalUtm).each(function(){var e=splitvalUtm[ind].split("=")[0],t=splitvalUtm[ind].split("=")[1];"utm_source"==e&&(cookBody.utm_source=t),"utm_medium"==e&&(cookBody.utm_medium=t),"utm_campaign"==e&&(cookBody.utm_campaign=t),"utm_content"==e&&(cookBody.utm_content=t),"utm_campaignid"==e&&(cookBody.utm_campaignid=t),"utm_adgroupId"==e&&(cookBody.utm_adgroupId=t),"utm_adtextid"==e&&(cookBody.utm_adtextid=t),"utm_term"==e&&(cookBody.utm_term=t),ind++}),localStorage.setItem("utm_source",cookBody.utm_source),localStorage.setItem("utm_medium",cookBody.utm_medium),localStorage.setItem("utm_campaign",cookBody.utm_campaign),localStorage.setItem("utm_content",cookBody.utm_content),localStorage.setItem("utm_campaignid",cookBody.utm_campaignid),localStorage.setItem("utm_adgroupId",cookBody.utm_adgroupId),localStorage.setItem("utm_adtextid",cookBody.utm_adtextid),localStorage.setItem("utm_term",cookBody.utm_term)}}}$(function(){$(".datepicker").datepicker({dateFormat:"d-M-yy",minDate:new Date}).on("change",function(){$(this).valid()})}),$.validator.addMethod("email_regex",function(e,t,a){return a&&a.constructor!=RegExp?a=new RegExp(a):a.global&&(a.lastIndex=0),this.optional(t)||a.test(e)}),$.validator.addMethod("name_regex",function(e,t,a){return a&&a.constructor!=RegExp?a=new RegExp(a):a.global&&(a.lastIndex=0),this.optional(t)||a.test(e)}),$.validator.addMethod("mobile_regex",function(e,t,a){return a&&a.constructor!=RegExp?a=new RegExp(a):a.global&&(a.lastIndex=0),this.optional(t)||a.test(e)});var timeleft=0,downloadTimer;window.fbAsyncInit=function(){FB.init({appId:"402686104050066",xfbml:!0,version:"v8.0"}),FB.AppEvents.logPageView()},function(e,t,a){var o,i=e.getElementsByTagName(t)[0];e.getElementById(a)||(o=e.createElement(t),o.id=a,o.src="https://connect.facebook.net/en_US/sdk.js",i.parentNode.insertBefore(o,i))}(document,"script","facebook-jssdk"),window.smoothScroll=function(e){var t=e;do{if(t=t.parentNode,!t)return;t.scrollTop+=1}while(0==t.scrollTop);var a=0;do{if(e==t)break;a+=e.offsetTop}while(e=e.offsetParent);scroll=function(e,t,a,o){o++,o>30||(e.scrollTop=t+(a-t)/30*o,setTimeout(function(){scroll(e,t,a,o)},20))},scroll(t,t.scrollTop,a,0)};var metaKeywordContent;$(window).on("hashchange",function(){window.location.reload(!0)}),$(document).keypress(function(e){"13"==e.which&&e.preventDefault()}),setTimeout(function(){$(".compareCount").removeClass("active")},5e3),$(document).ready(function(){$(".whcontainer").addClass("pageContentContainer"),$("header").addClass("active"),"cardetailpage"!=$("#pagename").val()&&"1"!=sessionStorage.getItem("Getapp_show")&&($(".getAppMain").removeClass("active"),$(".selectLocation").addClass("getapplocation"),$("header").addClass("getappheader"),$("header").addClass("active"),$(".pageContentContainer").addClass("active")),"cardetailpage"!=$("#pagename").val()&&"home"!=$("#pagename").val()&&"buycar"!=$("#pagename").val()||($(".selectLocation").addClass("active"),$(".pageContentContainer").addClass("selectLoc")),"cardetailpage"!=$("#pagename").val()?$(".cityTooltip").css("display","block"):$(".cityTooltip").css("display","none")}),$(".getAppMain").find(".blueButton a").on("click",function(){sessionStorage.setItem("Getapp_show","1"),$(".getAppMain").hide(),$(".selectLocation").removeClass("getapplocation"),$("header").removeClass("getappheader"),$(".pageContentContainer").removeClass("active"),tdSubmit({eventCategory:"mobile_sticky_note",eventAction:"click",eventLabel:"Get App"},"event_trv")}),$(".getAppMain").find(".cross a").on("click",function(){sessionStorage.setItem("Getapp_show","1"),$(".getAppMain").hide(),$(".selectLocation").removeClass("getapplocation"),$("header").removeClass("getappheader"),$(".pageContentContainer").removeClass("active"),tdSubmit({eventCategory:"mobile_sticky_note",eventAction:"click",eventLabel:"Close"},"event_trv")}),$(".acrdClick").click(function(e){$(this).toggleClass("selected"),$(this).parents(".mainacrdSec").find(".acrdSec").slideToggle(),$(this).parents(".mainacrdSec").siblings().find(".acrdSec").slideUp(),$(this).parents(".mainacrdSec").siblings().find(".selected").removeClass("selected")}),function(){ra.compareaccordian={settings:{target:".mod-compareaccordian"},init:function(){this.bindAccordianEvent()},bindAccordianEvent:function(){$(".collapse").on("shown.bs.collapse",function(){$(this).prev().addClass("active-acc")}),$(".collapse").on("hidden.bs.collapse",function(){$(this).prev().removeClass("active-acc")})}}}(ra),$(document).ready(function(){function e(e,o,r,n){var l,s,c,d,m;l=o,d=n,$("#quick-book-test-drive").find(".blueButton").attr("data-track",d),m=r,$("#quick-book-test-drive").find(".blueButton").attr("data-buyingid",m);var p=$(".quickVIew .modal-content .selectcity_modalbox .popslider .slick-slider.slider-for-gallery"),u=$(".quickVIew .modal-content .selectcity_modalbox .popslider .slickThumb .slick-slider.slider-nav-gallery"),f=$(".quickVIew .modal-content .selectcity_modalbox .popslider .infoList"),g=$(".quickVIew .modal-content .selectcity_modalbox .popslider .location");showLoader();var v={car_id:e};v.car_id&&postDetails("/api/sitecore/CarMelaListing/CarDetailPage",JSON.stringify(v)).then(function(e){if(1==e.status){"O"==e.ResData.CarItem._source.current_stage?($("#quick-book-test-drive").find(".blueButton").css({background:"#2b3395","border-color":"#2b3395"}),$("#quick-book-test-drive").find(".blueButton").text("Contact Dealer")):($("#quick-book-test-drive").find(".blueButton").css({background:"#ec383b","border-color":"#ec383b"}),$("#quick-book-test-drive").find(".blueButton").text("Book a Test Drive")),s=e.ResData.CarItem._source.oldPrice;var o,r;0===s?(r=0,c=r):(o=e.ResData.CarItem._source.oldPrice-e.ResData.CarItem._source.price,r=o/e.ResData.CarItem._source.oldPrice*100,c=Math.round(r));var n=e.ResData.CarItem._source.images,d=n.length;if(p.empty(),u.empty(),$(".quickVIew .popslider .slick-slider").hasClass("slick-initialized")&&($(".quickVIew .popslider .slick-slider").slick("destroy"),$(".quickVIew .popslider .slickThumb .slick-slider").slick("destroy")),n){p.empty();for(var m=0;m<d;m++)p.append('<div class="slick-slide"><img src="'+n[m]+'"></div>');u.empty();for(var m=0;m<d;m++)u.append('<div class="slick-slide"><img src="'+n[m]+'"></div>')}$(".quickVIew .modal-content").css("opacity",1),$(".quickVIew").on("shown.bs.modal",function(){var e=0;$(".slider-nav-gallery, .slider-for-gallery").slick("setPosition"),$(".quickVIew .modal-content").css("opacity",1),setTimeout(function(){var e=$(".slider-nav-gallery .slick-current").width();$(".quickVIew .totalCount").css("width",e)},0),e=$(this).closest(".col-sm-6").index(),$(".myModal").on("hidden.bs.modal",function(){$("body").addClass("modal-open")})}),t(d),f.empty();var v=e.ResData.CarItem._source.mfYear;v&&f.append('<div class="item"><span class="image"><img src="/assets/car-mela/img/carYear.png"></span><span>'+v+"</span></div>");var h=e.ResData.CarItem._source.kmRun;h&&f.append('<div class="item"><span class="image"><img src="/assets/car-mela/img/carKm.png"></span><span>'+i(h)+" KM</span></div>");var _=e.ResData.CarItem._source.fuelType;_&&f.append('<div class="item"><span class="image"><img src="/assets/car-mela/img/petrol.png"></span><span>'+_.toUpperCase()+"</span></div>");var b=e.ResData.CarItem._source.numberOfOwner;if(b){var y=a(b);f.append('<div class="item"><span class="image"><img src="/assets/car-mela/img/owner.png"></span><span>'+b+"<sup>"+y+"</sup>Owner</span></div>")}g.empty();var S=toTitleCase(e.ResData.CarItem._source.dealerName),w=toTitleCase(e.ResData.CarItem._source.dealerCity);S&&w&&g.append('<img src="/assets/car-mela/img/location.png"><div class="address"><p><strong>'+S+"</strong></p><p>"+w+"</p></div>");var C=e.ResData.CarItem._source.price;$(".quickVIew .rightForm .topSec h3 a").attr("href","javascript:void(0);"),$(".quickVIew .rightForm .topSec h3 a").addClass("emicalculate"),$(".quickVIew .rightForm .topSec h3 a").attr("data-price",C),$(".quickVIew .rightForm .topSec h3 a").attr("data-toggle","modal"),$(".quickVIew .rightForm .topSec h3 a").attr("data-target",".myModal"),l&&$(".quickVIew .rightForm .topSec h3 span").text(toTitleCase(l));var k=e.ResData.CarItem._source.interiorRating,I=e.ResData.CarItem._source.overallRating,x=k-I,M=$(".quickVIew .rightForm .topSec .priceShow .rating ul");if(M.empty(),I>0){for(var m=0;m<I;m++)M.append('<li class="selected"><i class="fas fa-star"></i></li>');if(x>0)for(var m=0;m<x;m++)M.append('<li><i class="fas fa-star"></i></li>')}else for(var m=0;m<k;m++)M.append('<li><i class="fas fa-star"></i></li>');var T=e.ResData.CarItem._source.price;T&&$(".quickVIew .rightForm .topSec .priceShow .price span:first").empty().text("₹"+i(T));var D;D=s,$(".quickVIew .rightForm .topSec .priceShow .price del").empty().text("₹"+i(D));var P;P=c,$(".quickVIew .rightForm .topSec .priceShow .price span:last").empty().text(" "+P+"% off"),hideLoader()}else console.log("Response Status Not Found")})["catch"](function(e){console.log(e)})}function t(e){var t=0;$(".quickVIew").on("shown.bs.modal",function(){$(".slider-nav-gallery, .slider-for-gallery").slick("setPosition"),$(".quickVIew .modal-content").css("opacity",1),setTimeout(function(){var e=$(".slider-nav-gallery .slick-current").width();$(".quickVIew .totalCount").css("width",e)},0),t=$(this).closest(".col-sm-6").index(),$(".myModal").on("hidden.bs.modal",function(){$("body").addClass("modal-open")})}),$(".slider-nav-gallery").on("init reInit",function(t,a,o,i){$(window).width()>1023&&(a.slideCount>a.originalSettings.slidesToShow?$(this).parent().find(".totalCount").html('<i class="fas fa-plus"></i>'+e+" Photo"):$(this).parent().find(".totalCount").hide()),$(window).width()<=1023&&$(window).width()>480&&(a.slideCount>a.originalSettings.responsive[0].settings.slidesToShow?$(this).parent().find(".totalCount").html('<i class="fas fa-plus"></i>'+e+" Photo"):$(this).parent().find(".totalCount").hide()),$(window).width()<=480&&(a.slideCount>a.originalSettings.responsive[2].settings.slidesToShow?$(this).parent().find(".totalCount").html('<i class="fas fa-plus"></i>'+e+" Photo"):$(this).parent().find(".totalCount").hide())}),$(".slider-nav-gallery, .slider-for-gallery").on("afterChange",function(e,a,o,i){var r=(o?o:-1)+1;r>1?$(this).closest(".col-sm-6").eq(t).find(".totalCount").hide():$(this).closest(".col-sm-6").eq(t).find(".totalCount").show()}),$(".slider-for-gallery").slick({slidesToShow:1,slidesToScroll:1,arrows:!0,infinite:!1,asNavFor:".slider-nav-gallery",responsive:[{breakpoint:980,settings:{slidesToShow:1,slidesToScroll:1,infinite:!1,dots:!1,arrows:!0,speed:900}},{breakpoint:767,settings:{slidesToShow:1,slidesToScroll:1,infinite:!1,dots:!1,arrows:!0,speed:900}}]}),$(".slider-nav-gallery").slick({slidesToShow:5,slidesToScroll:5,asNavFor:".slider-for-gallery",dots:!1,arrows:!1,infinite:!1,vertical:!1,verticalSwiping:!1,focusOnSelect:!0,responsive:[{breakpoint:1023,settings:{slidesToShow:4,slidesToScroll:5,infinite:!1,dots:!1,speed:900}},{breakpoint:767,settings:{slidesToShow:4,slidesToScroll:1,infinite:!1,vertical:!1,dots:!1,speed:900}},{breakpoint:480,settings:{slidesToShow:3,slidesToScroll:1,infinite:!1,dots:!1,vertical:!1,arrows:!1,speed:900}}]})}function a(e){var t=e%10,a=e%100;return 1==t&&11!=a?"st":2==t&&12!=a?"nd":3==t&&13!=a?"rd":"th"}function o(e){e=e=Math.round(e);var t=e.toString(),a="";t.indexOf(".")>0&&(a=e.substring(t.indexOf("."),t.length)),t=Math.floor(t),t=t.toString();var o=t.substring(t.length-3),i=t.substring(0,t.length-3);return""!=i&&(o=","+o),t=i.replace(/\B(?=(\d{2})+(?!\d))/g,",")+o+a}function i(e){e=e=Math.round(e);var t=e.toString(),a="";t.indexOf(".")>0&&(a=e.substring(t.indexOf("."),t.length)),t=Math.floor(t),t=t.toString();var o=t.substring(t.length-3),i=t.substring(0,t.length-3);return""!=i&&(o=" "+o),t=i.replace(/\B(?=(\d{2})+(?!\d))/g," ")+o+a}function r(e){c=80*e/100,d=14,m=60,p.update({from:c,max:e}),u.update({max:72,from:60}),f.update({max:15,from:14}),n()}function n(){var e=parseFloat(d/1200);if(console.log("intr",e),0==e){if(0==m)if(0==u)var t=parseFloat(c);else var t=parseFloat(c,m)/m;else var t=parseFloat(c,m)/m;console.log("Full when 0",t)}else{var t=parseFloat(c*e/(1-Math.pow(1/(1+e),m)));console.log("Full when !0",t)}console.log(t);var a=i(t),r=o(t);tdSubmit({eventCategory:"Calculate EMI",eventAction:"Click",eventLabel:r},"event_trv"),d&&m?$(".rightcaldetails").find("#emiprice").text(a):$(".rightcaldetails").find("#emiprice").text(a)}function l(e){msildl.push({event:"emi_calc",eventCategory:"caluclate emi",eventAction:"click",eventLabel:"emi clicked-"+e,cd_timestamp:(new Date).getTime()})}$(".quickVIew").on("hidden.bs.modal",function(){$(".quickVIew .modal-content").css("opacity",0),
$(".myModal").on("hidden.bs.modal",function(){$("body").removeClass("modal-open")}),$("#quick-book-test-drive").trigger("reset"),$("#quick-book-test-drive").validate().resetForm(),$("#quick-book-test-drive").find("input").removeClass("is-valid"),$("#quick-book-test-drive").find("input").removeClass("is-invalid")});var s=$("#pagetype").val();"carmela"==s&&($(".compareCarsMain .compareWithTab ul li:nth-child(2)").hide(),$(".compareCarsMain .compareWithTab ul li:nth-child(1)").addClass("fromCarMelaCompare")),$(".addcomparecarbox").find(".closebox").click(function(){var e=$(this).data("carid");switch(s){case"carmela":var t=getDataFromLocal("compareEmela");if(t)if(t=t.filter(function(t){return t.carid!==e}),t&&t.length){for(var a=t[0].carid,o=1;o<t.length;o++)a=a+","+t[o].carid;setDataInLocal("compareEmela",JSON.stringify(t)),window.open(window.location.pathname+"?cars="+a,"_self")}else setDataInLocal("compareEmela",JSON.stringify(t)),window.open(window.location.pathname,"_self");break;default:var t=getDataFromLocal("compare");if(t)if(t=t.filter(function(t){return t.carid!==e}),t&&t.length){for(var a=t[0].carid,o=1;o<t.length;o++)a=a+","+t[o].carid;setDataInLocal("compare",JSON.stringify(t)),window.open(window.location.pathname+"?cars="+a,"_self")}else setDataInLocal("compare",JSON.stringify(t)),window.open(window.location.pathname,"_self")}}),"carmela"==s&&($(".add_carsection .container .row").find(".col-md-6.col-sm-6.col-6.col-lg-3 .addcomparecarbox .comapreimage a").attr("href","javascript:void(0);"),$(".add_carsection .container .row").find(".col-md-6.col-sm-6.col-6.col-lg-3 .addcomparecarbox .comapreimage a").attr("data-toggle","modal"),$(".add_carsection .container .row").find(".col-md-6.col-sm-6.col-6.col-lg-3 .addcomparecarbox .comapreimage a").attr("data-target",".quickVIew"),$(".add_carsection .container .row").find(".col-md-6.col-sm-6.col-6.col-lg-3 .addcomparecarbox .comparecontentbox h3").attr("data-toggle","modal"),$(".add_carsection .container .row").find(".col-md-6.col-sm-6.col-6.col-lg-3 .addcomparecarbox .comparecontentbox h3").attr("data-target",".quickVIew"),$(".CompareCarSection .quickviewcarmela").attr("href","javascript:void(0);"),$(".CompareCarSection .quickviewcarmela").attr("data-toggle","modal"),$(".CompareCarSection .quickviewcarmela").attr("data-target",".quickVIew"),$(".CompareCarSection .detailCompare h2 .quickviewcarmela").attr("href","javascript:void(0);"),$(".CompareCarSection .detailCompare h2 .quickviewcarmela").attr("data-toggle","modal"),$(".CompareCarSection .detailCompare h2 .quickviewcarmela").attr("data-target",".quickVIew"),$(".add_carsection .container .row").find(".col-md-6.col-sm-6.col-6.col-lg-3 .addcomparecarbox .comapreimage a, .col-md-6.col-sm-6.col-6.col-lg-3 .addcomparecarbox .comparecontentbox h3").click(function(){var t,a,o,i;"comapreimage"==$(this).parent().attr("class")&&(t=$(this).siblings(".closebox").attr("data-carid"),a=$(this).parent().siblings(".comparecontentbox").find("h3").text(),o=$(this).parent().siblings(".comparecontentbox").find("h3").siblings(".testDrvLinkBtn").attr("data-buyingid"),i=$(this).attr("data-track"),e(t,a,o,i)),"comparecontentbox"==$(this).parent().attr("class")&&(t=$(this).siblings(".testDrvLinkBtn").attr("data-carid"),a=$(this).text(),o=$(this).siblings(".testDrvLinkBtn").attr("data-buyingid"),i=$(this).find("a").attr("data-track"),e(t,a,o,i))}),$(".CompareCarSection a, .CompareCarSection .detailCompare h2 a").click(function(){var t,a,o,i;"CompareCarSection"==$(this).parent().attr("class")&&(t=$(this).attr("data-track").split("|")[0],a=$(this).attr("data-track").split("|")[10],o=$(this).attr("data-buyingid"),i=$(this).attr("data-track"),e(t,a,o,i)),"detailCompare"==$(this).parent().parent().attr("class")&&(t=$(this).attr("data-track").split("|")[0],a=$(this).attr("data-track").split("|")[10],o=$(this).attr("data-buyingid"),i=$(this).attr("data-track"),e(t,a,o,i))})),$("#quick-book-test-drive").find(".blueButton").hover(function(){"Contact Dealer"==$(this).text()?$(this).css({background:"#ec383b","border-color":"#ec383b"}):$(this).css({background:"#2b3395","border-color":"#2b3395"})},function(){"Contact Dealer"==$(this).text()?$(this).css({background:"#2b3395","border-color":"#2b3395"}):$(this).css({background:"#ec383b","border-color":"#ec383b"})});var c=0,d=14,m=60;$("#demo1").ionRangeSlider({skin:"flat",min:0,max:0,from:0,drag_interval:!0,step:1e3,prefix:"&#8377;",prettify:i,onChange:function(e){console.log("loan",e.from),c=e.from,calculateEMI()}});var p=$("#demo1").data("ionRangeSlider");$("#demo2").ionRangeSlider({skin:"flat",min:0,max:72,from_min:1,from:60,onChange:function(e){console.log("year",e.from),m=e.from,calculateEMI()}});var u=$("#demo2").data("ionRangeSlider");$("#demo3").ionRangeSlider({skin:"flat",min:0,max:15,from:14,step:.1,postfix:"%",onChange:function(e){console.log("interest",e.from),d=e.from,calculateEMI()}});var f=$("#demo3").data("ionRangeSlider");$(".priceSection").find(".emicalculate").click(function(e){var t,a=parseFloat($(this).data("price")),o=$(this).parent().parent().parent();t=o.find("h5 a").length?$(this).parent().parent().parent().find("h5 a").text():o.find(".carDetNameTitle").length?$(this).parent().parent().parent().find(".carDetNameTitle").text():"",console.log("price",a),emiCalculate(a),emiClickEventTrack(t)}),$(".listingBlockMain").on("click",".emicalculate",function(){var e=parseFloat($(this).data("price")),t=$(this).parent().parent().parent().find("h5 a").text();console.log("price",e),emiCalculate(e),emiClickEventTrack(t)}),$(".quickVIew").on("click",".emicalculate",function(){var e=parseFloat($(".quickVIew .rightForm .topSec h3 a").attr("data-price")),t=$(this).siblings("span").text();console.log("Price="+e+" CarName="+t),r(e),l(t);var a=80*e/100,o=$(".myModal").find(".calculatestep #demo1").data("ionRangeSlider");o.update({from:a}),o.reset()})}),$(document).ready(function(){function e(){t({event:"form_fill_actions",eventCategory:"Form Submit ",eventAction:"submit",eventLabel:"Quick view-"+o[9],cd_timestamp:(new Date).getTime(),cd_userID:calcMD5((new Date).getTime()),cd_enquiry_number:convertSHA(a.mobile),"content id":o[0],cd_model_variant_selected:o[1],cd_car_location:o[2],cd_car_availability:o[3],cd_car_price:o[4],cd_body_style:o[5],"cd_Preferred Price Range":o[4],cd_car_Make:o[7],cd_manf_year:o[8]})}function t(e){msildl.push(e)}var a,o,i,r=$("#quick-book-test-drive").validate({rules:{name:{required:!0,minlength:3,maxlength:30,name_regex:/^[A-z]*((-|\s)*[A-z])*$/g},email:{email:!0,email_regex:/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/},quickViewPolicy:{required:!0},mobile:{required:!0,number:!0,mobile_regex:/^[^0-5]\d{9}$/}},messages:{name:{required:$("#quick-book-test-drive").find(".name").attr("data-empty"),name_regex:$("#quick-book-test-drive").find(".name").attr("data-error"),minlength:$("#quick-book-test-drive").find(".name").attr("data-error")},email:$(".email2").attr("data-error"),mobile:{required:$(".mobile").attr("data-empty"),mobile_regex:$(".mobile").attr("data-error")},quickViewPolicy:$("#quick-book-test-drive").find(".quickViewPolicy").attr("data-empty")},errorElement:"em",errorPlacement:function(e,t){e.addClass("invalid-feedback"),"checkbox"===t.prop("type")?e.insertAfter(t.next("label")):e.insertAfter(t)},highlight:function(e,t,a){$(e).addClass("is-invalid").removeClass("is-valid")},unhighlight:function(e,t,a){$(e).addClass("is-valid").removeClass("is-invalid")},submitHandler:function(e){e.submit()}}),n=JSON.parse(localStorage.getItem("location"));$("#quick-book-test-drive").find(".blueButton").click(function(){var t={p_buy_id:""};t.p_buy_id=$(this).data("buyingid"),i=$(this).text(),o=$(this).data("track"),o=o?o.split("|"):[],r.form()&&t.p_buy_id&&postDetails("/api/sitecore/BookATestDrive/BtdStock",JSON.stringify(t)).then(function(t){if("success"==t.status)if("I"==t.ApiResponse.result.p_status)$(".infoIconPopup .infoIconPopup_p").text(t.message),$(".errorModal").modal("show");else if($("#quick-book-test-drive").find("#quickViewPolicy:checked").val()){var r=window.location.href;if(a={name:$("#qvName").val().trim(),mobile:$("#qvMobile").val(),email:$("#qvEmail").val(),carId:o[0],btn_name:i},~r.indexOf("utm_")){var l=window.location.href.split("?");if(l.length>=2){var s=l[1],c=s.split("&"),d=0;$(c).each(function(){var e=c[d].split("=")[0],t=c[d].split("=")[1];"utm_source"==e&&(a.utm_source=t),"utm_medium"==e&&(a.utm_medium=t),"utm_campaign"==e&&(a.utm_campaign=t),"utm_content"==e&&(a.utm_content=t),"utm_campaignid"==e&&(a.utm_campaignid=t),"utm_adgroupId"==e&&(a.utm_adgroupId=t),"utm_adtextid"==e&&(a.utm_adtextid=t),"utm_term"==e&&(a.utm_term=t),d++})}else{var l=window.location.href.split("#");if(l.length>=2){var s=l[1],c=s.split("&"),d=0;$(c).each(function(){var e=c[d].split("=")[0],t=c[d].split("=")[1];"utm_source"==e&&(a.utm_source=t),"utm_medium"==e&&(a.utm_medium=t),"utm_campaign"==e&&(a.utm_campaign=t),"utm_content"==e&&(a.utm_content=t),"utm_campaignid"==e&&(a.utm_campaignid=t),"utm_adgroupId"==e&&(a.utm_adgroupId=t),"utm_adtextid"==e&&(a.utm_adtextid=t),"utm_term"==e&&(a.utm_term=t),d++})}}}JSON.parse(localStorage.getItem("utm_source"))&&(a.utm_source=JSON.parse(localStorage.getItem("utm_source"))),JSON.parse(localStorage.getItem("utm_medium"))&&(a.utm_medium=JSON.parse(localStorage.getItem("utm_medium"))),JSON.parse(localStorage.getItem("utm_campaign"))&&(a.utm_campaign=JSON.parse(localStorage.getItem("utm_campaign"))),JSON.parse(localStorage.getItem("utm_content"))&&(a.utm_content=JSON.parse(localStorage.getItem("utm_content"))),JSON.parse(localStorage.getItem("utm_campaignid"))&&(a.utm_campaignid=JSON.parse(localStorage.getItem("utm_campaignid"))),JSON.parse(localStorage.getItem("utm_adgroupId"))&&(a.utm_adgroupId=JSON.parse(localStorage.getItem("utm_adgroupId"))),JSON.parse(localStorage.getItem("utm_adtextid"))&&(a.utm_adtextid=JSON.parse(localStorage.getItem("utm_adtextid"))),JSON.parse(localStorage.getItem("utm_term"))&&(a.utm_term=JSON.parse(localStorage.getItem("utm_term"))),n&&(a.userLatitude=n.lat,a.userLongitude=n["long"]),tdSubmit({name:convertAES($("#namee").val()),mobile:convertSHA($("#mobile").val()),email:convertSHA($("#email").val()),name_plain:$("#namee").val(),mobile_plain:$("#mobile").val(),email_plain:$("#email").val(),city:$(".quickVIew .modal-content .selectcity_modalbox .popslider .location .address p:nth-child(2)").text().toLowerCase()},"book_test_drive_trv"),e(),$("#resendOTP").hide(),$(".quickVIew").modal("hide"),postDetails("/api/sitecore/CarMela/BookATestDriveCarmela",JSON.stringify(a)).then(function(e){0==e.status?($(".otp-modal").modal("show"),$(".loginInputRow #otpsubmit").removeClass(),$(".loginInputRow #otpsubmit").addClass("QuickViewOTPSubmit1"),$(".loginInputRow #resendOTP").removeClass(),$(".loginInputRow #resendOTP").addClass("resendbtn"),$(".loginInputRow #resendOTP").addClass("QuickViewOTPSubmit1"),$("#resendOTP").hide(),timeInterval("#tcount"),otpBTDSubmit()):1==e.status?window.open(e.RedirectToURL,"_self"):($(".infoIconPopup .infoIconPopup_p").text(e.message),$(".errorModal").modal("show"))})["catch"](function(e){console.log(e)})}else $(".infoIconPopup .infoIconPopup_p").text($("#quickViewPolicy").attr("data-empty")),$(".errorModal").modal("show")})["catch"](function(e){console.log(e)});var l=$("#quick-book-test-drive").find(".email2").val();l||$(".name").length&&$(".mobile").length&&$(".form-control.email2.is-valid").removeClass("is-valid")}),$(".loginButt").on("click",".QuickViewOTPSubmit1",function(){var e=$("#otpText").val();$(".otp-error").text("");var t=$("#hiddenOTPSubmitClass").val();if(""!=e){var o={otp:e,name:a.name,mobile:a.mobile,email:a.email,carId:a.carId,otp_booktestdrive:t,btn_name:a.btn_name};postDetails("/api/sitecore/CarMela/VerifyOTPBookTestDriveCarmela",JSON.stringify(o)).then(function(e){0==e.status?($(".otp-error").text(e.message),$(".otp-error").show(),estimateOTP(e.status)):1==e.status?(estimateOTP(e.status),window.open(e.RedirectToURL,"_self")):($(".infoIconPopup .infoIconPopup_p").text(e.message),$(".errorModal").modal("show"))})["catch"](function(e){console.log(e)})}else $(".otp-error").text("Please enter OTP"),$(".otp-error").show()}),$(".otpsent").on("click",".QuickViewOTPSubmit1",function(){var e=a.mobile,t=a.name,o={MobileNumber:e,name:t,btn_name:a.btn_name};resendOTP(JSON.stringify(o)).then(function(e){1==e.status?($("#resendOTP").hide(),timeInterval("#tcount"),$(".otpsent p").show(),$(".otp-error").text("")):($(".infoIconPopup .infoIconPopup_p").text(e.message),$(".errorModal").modal("show"))})["catch"](function(e){console.log(e)})})}),$(document).ready(function(){function e(e){var t=[];$(".mostcar_comparebox .owl-item.active .item .CompareCarSection").each(function(){t.push($(this).find(".detailCompare h2").text().trim())}),compareCarHomepage(e,t)}function t(e){var t=document.createElement("template");return t.innerHTML=e,t.content.cloneNode(!0)}function a(e,a){var o,i,r=getDataFromLocal("compare");if(r&&4==r.length)$(this).prop("checked",!1),$(".infoIconPopup .infoIconPopup_p").text("You can't compare more than 4 cars"),$(".errorModal").modal("show"),l=!1;else{var n=String($($($($(a)[0])[0].innerHTML)[4])[0].innerHTML.replace("₹","").trim()).toLocaleString(),s=$($(a)[0].previousElementSibling)[0].children[0].innerHTML.trim(),c=t(s);o=$(c.lastChild).attr("src");var d=$($($(a)[0])[0].innerHTML)[0].innerHTML.trim(),m=(new DOMParser).parseFromString(d,"text/xml");i=$(m.firstChild).attr("data-book");var e={carid:e,carname:$($($(a)[0])[0].innerHTML)[0].innerHTML.trim(),price:n.replace(/([,.€])+/g,""),carimage:o,bookStatus:i};addCompare(e)}}var o,i,r,n,l=!0;$("#compare_link_carids").click(function(){if($(window).width()<1e3)if($(".compareCarBoxMain .compareCarBox").length>2||2==$(".compareCarBoxMain .compareCarBox").length)$(".infoIconPopup .infoIconPopup_p").text("You can't compare more than 2 cars"),$(".errorModal").modal("show");else if($(".ComparereviewSliderMobile .owl-stage .owl-item").hasClass("active")){o=$(".ComparereviewSliderMobile .owl-stage .owl-item.active").find(".detailCompare").parent().map(function(){return this.id}).get(),i=o[0],r=o[1],l=!0;for(var t=0;t<=$(".ComparereviewSliderMobile .owl-stage .owl-item.active").find(".detailCompare").length-1;t++)a(o[t],$(".ComparereviewSliderMobile .owl-stage .owl-item.active").find(".detailCompare")[t]);var s=getDataFromLocal("compare");mostCompareEventTrack(s);for(var c="",t=0;t<=s.length-1;t++)c+=s[t].carid+","}if($(".reviewSlider .owl-stage .owl-item").hasClass("active")){o=$(".reviewSlider .owl-stage .owl-item.active").find(".detailCompare").parent().map(function(){return this.id}).get(),i=o[0],r=o[1],l=!0;for(var t=0;t<=$(".reviewSlider .owl-stage .owl-item.active").find(".detailCompare").length-1;t++)a(o[t],$(".reviewSlider .owl-stage .owl-item.active").find(".detailCompare")[t]);var s=getDataFromLocal("compare");mostCompareEventTrack(s);for(var c="",t=0;t<=s.length-1;t++)c+=s[t].carid+","}l&&(n="/comparecars?cars="+c.substring(0,c.lastIndexOf(",")),e(n),window.location.href="/comparecars?cars="+c.substring(0,c.lastIndexOf(",")))});var s=getDataFromLocal("compare");ra.cfg.isMobile?s&&2==s.length&&$(".addmorecarbox").parent().hide():$(".addmorecarbox").parent().show();var c=getDataFromLocal("compareEmela");ra.cfg.isMobile?c&&2==c.length&&$(".addmorecarbox").parent().hide():$(".addmorecarbox").parent().show()}),$(document).ready(function(){function e(){contactDealer({event:"form_fill_actions",eventCategory:"Form Submit ",eventAction:"submit",eventLabel:"Contact dealer",cd_timestamp:(new Date).getTime(),cd_userid:calcMD5((new Date).getTime()),cd_enquiry_number:convertSHA(i.mobile),"content id":o[0],cd_model_variant_selected:o[10],cd_car_location:o[2],cd_car_availability:o[3],cd_car_price:o[4],cd_body_style:o[5],"cd_Preferred Price Range":o[4],cd_car_Make:o[7],cd_manf_year:o[8]})}function t(){contactDealer({event:"form_fill_actions",eventCategory:"Form Submit ",eventAction:"submit",eventLabel:"Contact dealer-"+o[9],cd_timestamp:(new Date).getTime(),cd_userid:calcMD5((new Date).getTime()),cd_enquiry_number:convertSHA(i.mobile),"content id":o[0],cd_model_variant_selected:o[10],cd_car_location:o[2],cd_car_availability:o[3],cd_car_price:o[4],cd_body_style:o[5],"cd_Preferred Price Range":o[4],cd_car_Make:o[7],cd_manf_year:o[8]})}var a;$(".carInformationSection .conDealButton a, .testDriveRedButton .contactDealerLinkBtn, .addcomparecarbox .comparecontentbox .contactDealerLinkBtn, #collapseOne .contactDealerLinkBtn").click(function(){var e,t,a,o;e=$(this).closest(".rightSection").find("h5 a").text(),e=e.replace(/\n|\r/g,""),a=$(this).parent().siblings(".carDetNamePriceMain.forMobile").find(".carDetNameBox .carDetNameTitle").text(),t=$(this).data("dealer"),o=$(".carDetRightFormLocation.forDesktop").find("span label").text(),a?(a=a.trim(),$("#form-contact-dealer").find(".blueButton").attr("data-carmodel",a)):$("#form-contact-dealer").find(".blueButton").attr("data-carmodel",e),o?(o=o.trim(),$("#form-contact-dealer").find(".blueButton").attr("data-dealername",o)):$("#form-contact-dealer").find(".blueButton").attr("data-dealername",t),$(this).removeAttr("data-target");var i=$(this);if($(this).data("buyingid")){var r={p_buy_id:""};r.p_buy_id=$(this).data("buyingid"),postDetails("/api/sitecore/BookATestDrive/BtdStock",JSON.stringify(r)).then(function(e){"success"==e.status&&("I"==e.ApiResponse.result.p_status?($(".infoIconPopup .infoIconPopup_p").text(e.message),$(".errorModal").modal("show")):(i.eq(0).attr("data-target",".contactdealer"),$(".contactdealer").modal("show")))})["catch"](function(e){console.log(e)})}else console.log("CarBuyingId not available")});var o,i,r,n,l=$("#form-contact-dealer").validate({rules:{cdname:{required:!0,minlength:3,maxlength:30,name_regex:/^[A-z]*((-|\s)*[A-z])*$/g},cdemail:{email:!0,email_regex:/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/},cdtestlogin:{required:!0},cdmobile:{required:!0,number:!0,mobile_regex:/^[^0-5]\d{9}$/}},messages:{cdname:{required:$("#form-contact-dealer").find(".name").attr("data-empty"),name_regex:$("#form-contact-dealer").find(".name").attr("data-error"),minlength:$("#form-contact-dealer").find(".name").attr("data-error")},cdemail:$("#form-contact-dealer").find(".email2").attr("data-error"),cdmobile:{required:$("#form-contact-dealer").find(".mobile").attr("data-empty"),mobile_regex:$("#form-contact-dealer").find(".mobile").attr("data-error")},cdtestlogin:$("#form-contact-dealer").find("#cdtestlogin").attr("data-empty")},errorElement:"em",errorPlacement:function(e,t){e.addClass("invalid-feedback"),"checkbox"===t.prop("type")?e.insertAfter(t.next("label")):e.insertAfter(t)},highlight:function(e,t,a){$(e).addClass("is-invalid").removeClass("is-valid")},unhighlight:function(e,t,a){$(e).addClass("is-valid").removeClass("is-invalid")},submitHandler:function(e){e.submit()}}),s=getDataFromLocal("location"),c=window.location.pathname;$("#form-contact-dealer").find(".blueButton").click(function(d){if(a=$(this).attr("data-carmodel"),o=$("#form-contact-dealer .cdcarIdBooktestDrive").val())o=o?o.split("|"):["0"];else{var m=$(this).data("carid");o=m?m.split("|"):["0"]}if(r=$(this).data("carmodel"),n=$(this).data("dealername"),l.form())if($("#form-contact-dealer").find("#cdtestlogin:checked").val()){var p=window.location.href;if(i={name:$("#cdname").val().trim(),mobile:$("#cdmobile").val(),email:$("#cdemail").val(),carId:o[0]},~p.indexOf("utm_")){var u=window.location.href.split("?");if(u.length>=2){var f=u[1],g=f.split("&"),v=0;$(g).each(function(){var e=g[v].split("=")[0],t=g[v].split("=")[1];"utm_source"==e&&(i.utm_source=t),"utm_medium"==e&&(i.utm_medium=t),"utm_campaign"==e&&(i.utm_campaign=t),"utm_content"==e&&(i.utm_content=t),"utm_campaignid"==e&&(i.utm_campaignid=t),"utm_adgroupId"==e&&(i.utm_adgroupId=t),"utm_adtextid"==e&&(i.utm_adtextid=t),"utm_term"==e&&(i.utm_term=t),v++})}else{var u=window.location.href.split("#");if(u.length>=2){var f=u[1],g=f.split("&"),v=0;$(g).each(function(){var e=g[v].split("=")[0],t=g[v].split("=")[1];"utm_source"==e&&(i.utm_source=t),"utm_medium"==e&&(i.utm_medium=t),"utm_campaign"==e&&(i.utm_campaign=t),"utm_content"==e&&(i.utm_content=t),"utm_campaignid"==e&&(i.utm_campaignid=t),"utm_adgroupId"==e&&(i.utm_adgroupId=t),"utm_adtextid"==e&&(i.utm_adtextid=t),"utm_term"==e&&(i.utm_term=t),v++})}}s?(i.userLatitude=s.lat,i.userLongitude=s["long"]):(i.userLatitude="",i.userLongitude="")}localStorage.getItem("utm_source")&&(i.utm_source=localStorage.getItem("utm_source")),localStorage.getItem("utm_medium")&&(i.utm_medium=localStorage.getItem("utm_medium")),localStorage.getItem("utm_campaign")&&(i.utm_campaign=localStorage.getItem("utm_campaign")),localStorage.getItem("utm_content")&&(i.utm_content=localStorage.getItem("utm_content")),localStorage.getItem("utm_campaignid")&&(i.utm_campaignid=localStorage.getItem("utm_campaignid")),localStorage.getItem("utm_adgroupId")&&(i.utm_adgroupId=localStorage.getItem("utm_adgroupId")),localStorage.getItem("utm_adtextid")&&(i.utm_adtextid=localStorage.getItem("utm_adtextid")),localStorage.getItem("utm_term")&&(i.utm_term=localStorage.getItem("utm_term")),tdSubmit({name:convertAES(i.name),mobile:convertSHA(i.mobile),email:convertSHA(i.email),name_plain:i.name,mobile_plain:i.mobile,email_plain:i.email,dealer:n,model:r,formid:"contact_dealer_trv"},"contact_dealer_trv"),$("#resendOTP").hide(),$(".contactdealer").modal("hide"),postDetails("/api/sitecore/ContactDealer/ContactDealerForm",JSON.stringify(i)).then(function(a){0==a.status?($(".otp-modal").modal("show"),$(".loginInputRow #otpsubmit").removeClass(),$(".loginInputRow #otpsubmit").addClass("ContactDealerOTPSubmit"),$(".loginInputRow #resendOTP").removeClass(),$(".loginInputRow #resendOTP").addClass("resendbtn"),$(".loginInputRow #resendOTP").addClass("ContactDealerOTPSubmit"),$("#resendOTP").hide(),timeInterval("#tcount")):1==a.status?("/buy-car"==c?t():~c.indexOf("buy-car")?t():~c.indexOf("used")?t():~c.indexOf("comparecars")?console.log("Compare"):e(),postDetails("/api/sitecore/ContactDealer/GetDealerDetails",JSON.stringify({carid:o[0]})).then(function(e){if(1==e.status){var t={firstName:i.name,mobile:i.mobile,email:i.email,parentGroup:e.dealerDetailsResponse.data[0].PARENT_GROUP,dealerMapCode:e.dealerDetailsResponse.data[0].MDS_DEALER_MAP_CD,locCode:e.dealerDetailsResponse.data[0].MDS_LOC_CD};localStorage.setItem("ContactDealerForData",JSON.stringify(t)),window.open(e.RedirectToURL,"_self")}else window.open(a.RedirectToURL,"_self")})):($(".infoIconPopup .infoIconPopup_p").text(a.message),$(".errorModal").modal("show"))})["catch"](function(e){console.log(e)})}else $(".infoIconPopup .infoIconPopup_p").text($("#cdtestlogin").attr("data-empty")),$(".errorModal").modal("show");var h=$("#form-contact-dealer").find(".email2").val();h||$("#form-contact-dealer").find(".name").length&&$("#form-contact-dealer").find(".mobile").length&&$(".form-control.email2.is-valid").removeClass("is-valid")}),$(".loginButt").on("click",".ContactDealerOTPSubmit",function(){var a=$("#otpText").val();$(".otp-error").text("");var r=$("#cdhiddenOTPSubmitClass").val();if(""!=a){var n={otp:a,name:i.name,mobile:i.mobile,email:i.email,carId:i.carId,otp_booktestdrive:r};i.utm_source&&(n.utm_source=i.utm_source),i.utm_medium&&(n.utm_medium=i.utm_medium),i.utm_campaign&&(n.utm_campaign=i.utm_campaign),i.utm_content&&(n.utm_content=i.utm_content),i.utm_campaignid&&(n.utm_campaignid=i.utm_campaignid),i.utm_adgroupId&&(n.utm_adgroupId=i.utm_adgroupId),i.utm_adtextid&&(n.utm_adtextid=i.utm_adtextid),i.utm_term&&(n.utm_term=i.utm_term),postDetails("/api/sitecore/ContactDealer/VerifyOTPContactDealerForm",JSON.stringify(n)).then(function(a){0==a.status?($(".otp-error").text(a.message),estimateOTP(a.status)):1==a.status?("/buy-car"==c?t():~c.indexOf("buy-car")?t():~c.indexOf("used")?t():~c.indexOf("comparecars")?console.log("Compare"):e(),estimateOTP(a.status),postDetails("/api/sitecore/ContactDealer/GetDealerDetails",JSON.stringify({carid:o[0]})).then(function(e){if(1==e.status){var t={firstName:i.name,mobile:i.mobile,email:i.email,parentGroup:e.dealerDetailsResponse.data[0].PARENT_GROUP,dealerMapCode:e.dealerDetailsResponse.data[0].MDS_DEALER_MAP_CD,locCode:e.dealerDetailsResponse.data[0].MDS_LOC_CD};localStorage.setItem("ContactDealerForData",JSON.stringify(t)),window.open(e.RedirectToURL,"_self")}else window.open(a.RedirectToURL,"_self")})):($(".infoIconPopup .infoIconPopup_p").text(a.message),$(".errorModal").modal("show"))})["catch"](function(e){console.log(e)})}else $(".otp-error").text("Please enter OTP")}),$(".otpsent").on("click",".ContactDealerOTPSubmit",function(){var e=i.mobile,t=i.name,a={MobileNumber:e,name:t};resendOTP(JSON.stringify(a)).then(function(e){1==e.status?($("#resendOTP").hide(),timeInterval("#tcount"),$(".otpsent p").show(),$(".otp-error").text("")):($(".infoIconPopup .infoIconPopup_p").text(e.message),$(".errorModal").modal("show"))})["catch"](function(e){console.log(e)})}),$(".ctaSubBtn").on("click",function(e){TrackEventEbooking("MSDS Submit","Submit","Submit");var t=localStorage.getItem("ContactDealerForData"),a=$('input[type="radio"][name="mdsoption"]:Checked').parent().data("option");$('input[type="radio"][name="mdsoption"]:Checked').parent().text().trim();"Yes"==a?postDetails("/api/sitecore/ContactDealer/CrateEnquiryThankYouPage",t).then(function(e){if(1==e.status)showLoader(),$(".MSDSinfoIconPopup .MSDSinfoIconPopup_p").text(e.message1),$(".MSDSErrorModal").modal("show"),$(".btndisabled").css("pointer-events","none"),$(".btndisabled").css("opacity","0.3"),localStorage.removeItem("ContactDealerForData");else{var t=$(".MSDSinfoIconPopup").find("h2 img").attr("src").replace("success.png","error.png");$(".MSDSinfoIconPopup").find("h2 img").attr("src",t),$(".MSDSinfoIconPopup .MSDSinfoIconPopup_p").text("Enquiry API Response Error"),$(".MSDSErrorModal").modal("show")}}):($(".MSDSinfoIconPopup .MSDSinfoIconPopup_p").text($("#MsdsNoResponse").val()),$(".MSDSErrorModal").modal("show"))}),$('input[type="radio"][name="mdsoption"]').on("click",function(e){var t=$('input[type="radio"][name="mdsoption"]:Checked').parent().data("option");TrackEventEbooking("MSDS Test - Is there a requirement of driving training for yourself or anyone in family? Would you like to be contacted by Maruti Suzuki Driving School","Click",t),"Yes"==t&&(null!=localStorage.getItem("ContactDealerForData")?($(".btndisabled").css("pointer-events","initial"),$(".btndisabled").css("opacity","1")):($(".btndisabled").css("pointer-events","none"),$(".btndisabled").css("opacity","0.3"))),"No"==t&&($(".btndisabled").css("pointer-events","initial"),$(".btndisabled").css("opacity","1"))}),$(".MSDSokBTN").on("click",function(e){TrackEventEbooking("MSDS Thank you for your response","Click","OK"),showLoader(),window.location.replace("/")}),$(".MSDSclosemodal").on("click",function(e){showLoader(),window.location.replace("/")})}),$(document).ready(function(){var e=$("#form-contact-us").validate({rules:{name:{required:!0,minlength:3,maxlength:30,name_regex:/^[A-z]*((-|\s)*[A-z])*$/g},email:{email:!0,email_regex:/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/},mobile:{required:!0,number:!0,mobile_regex:/^[^0-5]\d{9}$/},policy:{required:!0},message:{required:!0}},messages:{name:{required:$(".name").attr("data-empty"),name_regex:$(".name").attr("data-error"),minlength:$(".name").attr("data-error")},email:$(".email2").attr("data-error"),mobile:{required:$(".mobile").attr("data-empty"),mobile_regex:$(".mobile").attr("data-error")},message:$(".message").attr("data-empty"),policy:$(".policy").attr("data-empty")},errorElement:"em",errorPlacement:function(e,t){e.addClass("invalid-feedback"),"checkbox"===t.prop("type")?e.insertAfter(t.next("label")):e.insertAfter(t)},highlight:function(e,t,a){$(e).addClass("is-invalid").removeClass("is-valid")},unhighlight:function(e,t,a){$(e).addClass("is-valid").removeClass("is-invalid")},submitHandler:function(e){e.submit()}});$("#form-contact-us").find(".submitBtn").click(function(t){if(e.form()&&$("#form-contact-us").find("#policy:checked").val()){var a={name:$("#name").val().trim(),mobile:$("#mobile").val(),email:$("#email").val(),message:$("#message").val()};$("#resendOTP").hide(),postDetails("/api/sitecore/Forms/ContactUsForms",JSON.stringify(a)).then(function(e){0==e.status?($(".otp-modal").modal("show"),$("#resendOTP").hide(),timeInterval("#tcount"),$(".loginInputRow #otpsubmit").removeClass(),$(".loginInputRow #otpsubmit").addClass("ContactUsOTPSubmit"),$(".loginInputRow #resendOTP").removeClass(),$(".loginInputRow #resendOTP").addClass("resendbtn"),$(".loginInputRow #resendOTP").addClass("ContactUsOTPSubmit"),otpBTDSubmit()):1==e.status?(tdSubmit({name:convertAES($("#name").val()),mobile:convertSHA($("#mobile").val()),email:convertSHA($("#email").val()),name_plain:$("#name").val(),mobile_plain:$("#mobile").val(),email_plain:$("#email").val(),message:$("#message").val()},"contact_us_trv"),window.open(e.RedirectToURL,"_self")):($(".infoIconPopup .infoIconPopup_p").text(e.message),$(".errorModal").modal("show"))})["catch"](function(e){console.log(e)})}var o=$("#form-contact-us").find(".email2").val();""===o&&$(".name").length&&$(".mobile").length&&$(".message").length&&$(".form-control.email2.is-valid").removeClass("is-valid")}),$(".loginButt").on("click",".ContactUsOTPSubmit",function(){var e=$("#otpText").val();if(""!=e){var t={otp:e,name:$("#name").val().trim(),mobile:$("#mobile").val(),email:$("#email").val(),message:$("#message").val()};postDetails("/api/sitecore/Forms/ContactUsVerifyOTP",JSON.stringify(t)).then(function(e){1==e.status?($("#otpText").val(""),$(".otp-modal").modal("hide"),tdSubmit({name:convertAES($("#name").val()),mobile:convertSHA($("#mobile").val()),email:convertSHA($("#email").val()),name_plain:$("#name").val(),mobile_plain:$("#mobile").val(),email_plain:$("#email").val(),message:$("#message").val()},"contact_us_trv"),window.open(e.RedirectToURL,"_self"),clearInterval(downloadTimer),estimateOTP(e.status)):(estimateOTP(e.status),$(".otp-error").text(e.message))})["catch"](function(e){console.log(e)})}else $(".otp-error").text("Please enter OTP")}),$(".otpsent").on("click",".ContactUsOTPSubmit ",function(){var e=$("#mobile").val(),t=$("#name").val().trim(),a={MobileNumber:e,name:t};resendOTP(JSON.stringify(a)).then(function(e){1==e.status?($("#resendOTP").hide(),timeInterval("#tcount"),$(".otpsent p").show()):($(".infoIconPopup .infoIconPopup_p").text(e.message),$(".errorModal").modal("show"))})["catch"](function(e){console.log(e)})})}),$(document).ready(function(){var e=$("#form-feedback").validate({rules:{name:{required:!0,minlength:3,maxlength:30,name_regex:/^[A-z]*((-|\s)*[A-z])*$/g},email:{email:!0,email_regex:/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/},mobile:{required:!0,number:!0,mobile_regex:/^[^0-5]\d{9}$/},city:{required:!0},message:{required:!0}},messages:{name:{required:$(".name").attr("data-empty"),name_regex:$(".name").attr("data-error"),minlength:$(".name").attr("data-error")},email:$(".email2").attr("data-error"),mobile:{required:$(".mobile").attr("data-empty"),mobile_regex:$(".mobile").attr("data-error")},city:$(".city").attr("data-empty"),message:$(".message").attr("data-empty")},errorElement:"em",errorPlacement:function(e,t){e.addClass("invalid-feedback"),"checkbox"===t.prop("type")?e.insertAfter(t.next("label")):"select-one"===t.prop("type")?e.insertAfter(t.parents(".form__item")):e.insertAfter(t)},highlight:function(e,t,a){$(e).addClass("is-invalid").removeClass("is-valid")},unhighlight:function(e,t,a){$(e).addClass("is-valid").removeClass("is-invalid")},submitHandler:function(e){e.submit()}});$(".city").change(function(){""==$(".city").val()?$("#city-error").show():$("#city-error").hide()}),$("#form-feedback").find(".submitBtn").click(function(t){if(e.form())if($(".tellUsGrayBg ul li a span.active").next("p").text()){var a={name:$(".name").val().trim(),mobile:$(".mobile").val(),email:$("#form-feedback").find("#email").val(),city:$("#form-feedback").find(".city").val(),
message:$(".message").val(),emoji:$(".tellUsGrayBg ul li a span.active").next("p").text()};$("#resendOTP").hide(),postDetails("/api/sitecore/Forms/FeedbackForms",JSON.stringify(a)).then(function(e){0==e.status?($(".otp-modal").modal("show"),$("#resendOTP").hide(),timeInterval("#tcount"),$(".loginInputRow #otpsubmit").removeClass(),$(".loginInputRow #otpsubmit").addClass("FeedbackOTPSubmit"),$(".loginInputRow #resendOTP").removeClass(),$(".loginInputRow #resendOTP").addClass("resendbtn"),$(".loginInputRow #resendOTP").addClass("FeedbackOTPSubmit"),otpBTDSubmit()):1==e.status?(tdSubmit({name:convertAES($(".name").val()),mobile:convertSHA($(".mobile").val()),email:convertSHA($("#form-feedback").find("#email").val()),city:$("#form-feedback").find(".city option:selected").text(),message:$(".message").val()},"feedback_trv"),window.open(e.RedirectToURL,"_self")):($(".infoIconPopup .infoIconPopup_p").text(e.message),$(".errorModal").modal("show"))})["catch"](function(e){console.log(e)})}else $(".infoIconPopup .infoIconPopup_p").text($(".tellUsGrayBg").attr("data-error").trim()),$(".errorModal").modal("show");var o=$("#form-feedback").find(".email2").val();""===o&&$(".name").length&&$(".mobile").length&&$(".message").length&&$(".form-control.email2.is-valid").removeClass("is-valid")}),$(".loginButt").on("click",".FeedbackOTPSubmit",function(){var e=$("#otpText").val();if(""!=e){var t={otp:e,name:$(".name").val().trim(),mobile:$(".mobile").val(),email:$(".email").val(),city:$("#form-feedback").find(".city").val(),message:$(".message").val(),emoji:$(".tellUsGrayBg ul li a span.active").next("p").text()};postDetails("/api/sitecore/Forms/FeedbackVerifyOTP",JSON.stringify(t)).then(function(e){1==e.status?($("#otpText").val(""),$(".otp-modal").modal("hide"),tdSubmit({name:convertAES($(".name").val()),mobile:convertSHA($(".mobile").val()),email:convertSHA($("#form-feedback").find("#email").val()),city:$("#form-feedback").find(".city option:selected").text(),message:$(".message").val()},"feedback_trv"),window.open(e.RedirectToURL,"_self"),clearInterval(downloadTimer),$(".loginInputRow button").removeClass(),$(".loginInputRow button").addClass("FeedbackOTPSubmit"),$(".loginInputRow #resendOTP").removeClass(),$(".loginInputRow #resendOTP").addClass("resendbtn"),$(".loginInputRow #resendOTP").addClass("FeedbackOTPSubmit"),estimateOTP(e.status)):(estimateOTP(e.status),$(".otp-error").text(e.message))})["catch"](function(e){console.log(e)})}else $(".otp-error").text("Please enter OTP")}),$(".otpsent").on("click",".FeedbackOTPSubmit",function(){var e=$("#mobile").val(),t=$("#name").val().trim(),a={MobileNumber:e,name:t};resendOTP(JSON.stringify(a)).then(function(e){1==e.status?($("#resendOTP").hide(),timeInterval("#tcount"),$(".otpsent p").show(),$(".otp-error").text("")):($(".infoIconPopup .infoIconPopup_p").text(e.message),$(".errorModal").modal("show"))})["catch"](function(e){console.log(e)})})}),$(document).ready(function(){function e(e){if(e){var t=e.split("|");$(".financeform2 #form-financePopupStep2").find(".dealer").empty().append('<option selected="selected" value="">Dealer*</option>'),postDetails("api/sitecore/Forms/GetCarDealers",JSON.stringify({CITY_CD:t[0],CHANNEL:t[1],CITY_DESC:$(this).find("option:selected").text()})).then(function(e){if(e.result)for(var t=0;t<e.result.length;t++){var a=$("<option></option>");a.attr("value",e.result[t].DEALERCD+"|"+e.result[t].FOR_CD),a.attr("data-address",e.result[t].DEALER_ADDRESS1+"|"+e.result[t].DEALER_ADDRESS2),a.attr("data-number",e.result[t].DEALER_PHONE_NUMBER1),a.text(e.result[t].DEALER_NAME),$(".financeform2 #form-financePopupStep2").find(".dealer").append(a)}})}}function t(e){if(e){var t=e.split("|");$("#form-financePopupStep2").find(".variant").empty().append('<option selected="selected" value="">Vehicle Variant*</option>'),postDetails("api/sitecore/Forms/GetCarVarients",JSON.stringify({makecode:t[0],modelcode:t[1],cardesc:$(this).find("option:selected").text()})).then(function(e){if(e.result)for(var t=0;t<e.result.length;t++){var a=$("<option></option>");a.attr("value",e.result[t].makeCd+"|"+e.result[t].modelCd+"|"+e.result[t].subModelNo),a.text(e.result[t].subModelName),$(".financeform2 #form-financePopupStep2").find(".variant_cf").append(a)}})}}var a=$(".financeform1 #form-financePopupStep1").validate({rules:{name:{required:!0,maxlength:30,name_regex:/^[A-z]*((-|\s)*[A-z])*$/g},email:{email:!0,email_regex:/^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i},mobile:{required:!0,number:!0,mobile_regex:/^[^0-5]\d{9}$/},finance:{required:!0},checkb:{required:!0}},messages:{name:{required:$(".financeform1 #form-financePopupStep1").find(".name").attr("data-empty"),name_regex:$(".financeform1 #form-financePopupStep1").find(".name").attr("data-error")},email:$(".financeform1 #form-financePopupStep1").find(".email").attr("data-error"),mobile:{required:$(".financeform1 #form-financePopupStep1").find(".mobile").attr("data-empty"),mobile_regex:$(".financeform1 #form-financePopupStep1").find(".mobile").attr("data-error")},checkb:{required:$(".financeform1 #form-financePopupStep1").find("#finance").attr("data-empty")},finance:$(".finance").attr("data-empty")},errorElement:"em",errorPlacement:function(e,t){e.addClass("invalid-feedback"),"checkbox"===t.prop("type")?e.insertAfter(t.next("label")):e.insertAfter(t)},highlight:function(e,t,a){$(e).addClass("is-invalid").removeClass("is-valid")},unhighlight:function(e,t,a){$(e).addClass("is-valid").removeClass("is-invalid")},submitHandler:function(e){e.submit()}});$("#form-financePopupStep1").find(".blueButton").click(function(e){if(a.form())if($("#form-financePopupStep1").find("#finance:checked").val()){var t={name:$("#form-financePopupStep1").find("#name").val(),mobile:$("#form-financePopupStep1").find("#mobile").val(),email:$("#form-financePopupStep1").find("#email").val()};$("#resendOTP").hide(),postDetails("/api/sitecore/Forms/FinanceFormPost",JSON.stringify(t)).then(function(e){0==e.status?($(".otp-modal").modal("show"),$("#resendOTP").hide(),timeInterval("#tcount"),$(".myfinanceModal").modal("hide"),$(".loginInputRow button").removeClass(),$(".loginInputRow button").addClass("FinanceFormOTPSubmit"),$(".loginInputRow #resendOTP").removeClass(),$(".loginInputRow #resendOTP").addClass("resendbtn"),$(".loginInputRow #resendOTP").addClass("FinanceFormOTPSubmit")):1==e.status?($(".myfinanceModal").modal("show"),$(".financeform1").hide(),$(".financeform2").show()):($(".infoIconPopup .infoIconPopup_p").text(e.message),$(".errorModal").modal("show"))})["catch"](function(e){console.log(e)})}else $(".infoIconPopup .infoIconPopup_p").text($("#finance").attr("data-empty")),$(".errorModal").modal("show")}),$(".loginButt").on("click",".FinanceFormOTPSubmit",function(){var e=$("#otpText").val();if(""!=e){var t={otp:e,name:$("#form-financePopupStep1").find("#name").val(),mobile:$("#form-financePopupStep1").find("#mobile").val(),email:$("#form-financePopupStep1").find("#email").val()};postDetails("/api/sitecore/Forms/FinanceFormVerifyOTP",JSON.stringify(t)).then(function(e){1==e.status?($("#otpText").val(""),$(".otp-modal").modal("hide"),clearInterval(downloadTimer),$(".myfinanceModal").modal("show"),$(".financeform1").hide(),$(".financeform2").show()):$(".otp-error").text(e.message)})["catch"](function(e){console.log(e)})}else $(".otp-error").text("Please enter OTP")}),$(".otpsent").on("click",".FinanceFormOTPSubmit",function(){var e=$("#form-financePopupStep1").find("#mobile").val(),t=$("#form-financePopupStep1").find("#name").val(),a=$("#form-financePopupStep1").find("#email").val(),o={MobileNumber:e,name:t,email:a};resendOTP(JSON.stringify(o)).then(function(e){1==e.status?($("#resendOTP").hide(),timeInterval("#tcount"),$(".otpsent p").show()):($(".infoIconPopup .infoIconPopup_p").text(e.message),$(".errorModal").modal("show"))})["catch"](function(e){console.log(e)})});var o=$(".financeform2 #form-financePopupStep2").validate({rules:{variant:{required:!0},model:{required:!0},dealer:{required:!0},city:{required:!0}},messages:{variant:$(".financeform2 #form-financePopupStep2").find(".variant_cf").attr("data-empty"),model:$(".financeform2 #form-financePopupStep2").find(".model").attr("data-empty"),dealer:$(".financeform2 #form-financePopupStep2").find(".dealer").attr("data-empty"),city:$(".financeform2 #form-financePopupStep2").find(".city").attr("data-empty")},errorElement:"em",errorPlacement:function(e,t){e.addClass("invalid-feedback"),"checkbox"===t.prop("type")?e.insertAfter(t.next("label")):"select-one"===t.prop("type")?e.insertAfter(t.parents(".form__item")):e.insertAfter(t)},highlight:function(e,t,a){$(e).addClass("is-invalid").removeClass("is-valid")},unhighlight:function(e,t,a){$(e).addClass("is-valid").removeClass("is-invalid")},submitHandler:function(e){e.submit()}});$(".financeform2 #form-financePopupStep2").find(".city").change(function(){""==$(this).val()?$("#city-error").show():$("#city-error").hide(),e(this.value)}),$(".financeform2 #form-financePopupStep2").find(".dealer").on("change",function(){""==$(this).val()?$("#dealer-error").show():$("#dealer-error").hide()}),$(".financeform2 #form-financePopupStep2").find(".model").on("change",function(){""==$(this).val()?$("#model-error").show():$("#model-error").hide(),t(this.value)}),$(".financeform2 #form-financePopupStep2").find(".variant_cf").on("change",function(){""==$(this).val()?$("#variant-error").show():$("#variant-error").hide()}),$(".financeform2 #form-financePopupStep2").find(".blueButton").click(function(e){if(o.form()){var t={name:$(".financeform1 #form-financePopupStep1").find("#name").val(),mobile:$(".financeform1 #form-financePopupStep1").find("#mobile").val(),email:$(".financeform1 #form-financePopupStep1").find("#email").val(),city:$(".financeform2 #form-financePopupStep2").find(".city").find("option:selected").text(),Dealer:$(".financeform2 #form-financePopupStep2").find(".dealer").val().split("|")[0],Model:$(".financeform2 #form-financePopupStep2").find(".model").find("option:selected").text(),Variant:$(".financeform2 #form-financePopupStep2").find(".variant_cf").find("option:selected").text(),firstFormStatus:1};postDetails("/api/sitecore/Forms/FinanceFormPost",JSON.stringify(t)).then(function(e){1==e.status?($(".myfinanceModal").modal("hide"),$(".otp-modal").modal("hide"),window.open(e.RedirectToURL,"_self")):($(".infoIconPopup .infoIconPopup_p").text(e.message),$(".errorModal").modal("show"))})["catch"](function(e){$(".otp-modal").modal("hide"),clearInterval(downloadTimer),$(".myfinanceModal").modal("hide")})}})}),$(document).ready(function(){$(".bannerSection #demo").find(".carousel-item a img").click(function(){var e=$(this).attr("alt");homepageBanner(e)}),$(".bannerSection #demo").find("a span").click(function(){tdSubmit({eventCategory:"TRV Top Banner",eventAction:"Click",eventLabel:$(this).attr("alt")},"event_trv")}),$(".headertop").find("li:not(:first-child)").click(function(){menuHeader($(this).find("a").text())}),$(".headerbottom").find("li:not(.has-submenu)").click(function(){"buy"!=$(this).find("a").text().toLowerCase()&&"sell"!=$(this).find("a").text().toLowerCase()||menuHeaderBottomLink($(this).find("a").text())}),$(".callbtn").click(function(){callCDPClickHeaderFooter()}),$(".menubox ul li a").click(function(){"buy"==$(this).text().toLowerCase()&&buyMenuTopNavigation(),"sell"==$(this).text().toLowerCase()&&sellMenuTopNavigation()}),$(".has-submenu a").click(function(e){"showroom locator"==$(this).text().toLowerCase()&&(menuHeaderBottomLink($(this).text()),outletLocatorCDPClickHeader())}),$(".headerbottom").find(".has-submenu ul li a").click(function(){var e=$(this).text(),t=toTitleCase($(this).parent().parent().parent().parent().find("a:first-child")[0].innerText.toLowerCase());switch(t){case"By City":menuHeaderBottom(e,"by city");break;case"By Model":menuHeaderBottom(e,"by model");break;case"By Price":menuHeaderBottom(e,"by price");break;case"By Fuel Type":menuHeaderBottom(e,"by fuel type");break;case"By Body Type":menuHeaderBottom(e,"by body type");break;case"Showroom Locator":menuHeaderBottom(e,"showroom locator")}}),$(".footermiddle").find("ul li a").click(function(){menuFooter($(this).text())}),$("#by-model").find(".modelBox").click(function(){quickSearchModel($(this).find(".modelText span").text())}),$("#by-budget").find(".modelBox").click(function(){quickSearchBudget($(this).find(".modelText span").text())}),$("#by-body-type").find(".modelBox").click(function(){quickSearchBodytype($(this).find(".modelText span").text())}),$(".innersitemapbox ul li a").click(function(){var e=$(this).parent().parent().parent().find("h2").text().trim();switch(e){case"By City":siteMap(e,$(this).text());break;case"By Model":siteMap(e,$(this).text());break;case"By City and Model":siteMap(e,$(this).text());break;case"By Price":siteMap(e,$(this).text());break;case"By Fuel Type":siteMap(e,$(this).text());break;case"By Fuel Type and City":siteMap(e,$(this).text());break;case"By Car Type":siteMap(e,$(this).text());break;case"By Price and City":siteMap(e,$(this).text());break;case"By CarType and City":siteMap(e,$(this).text())}}),$(".locationselectbox ul li a").click(function(){"Other"===$(this).attr("data-value")?viewAllBtn():(tdSubmit({eventCategory:"please select your city",eventAction:"Click",eventLabel:$(this).attr("data-value")},"event_trv"),selectCityclick($(this).attr("data-value")))}),$(".infoButton ul li").click(function(){var e=$(this).find("a").attr("data-value");if("recentViewed"===e){var t="Recently added";homeTabFunction(t)}else if("topRated"===e){var t="top rated";homeTabFunction(t)}}),$(".recentlyAddedview a").click(function(){homeTabViewAllFunction($(this).text())}),$(".footertop").find("a:nth-child(3)").click(function(){appClicksHome("play store")}),$(".footertop").find("a:nth-child(2)").click(function(){appClicksHome("app store")}),$(".loginSocialIcon").find(".fa-facebook-f").click(function(){facebookSignup()}),$("#twitter-button").find(".fa-twitter").click(function(){twitterSignup()}),$("#googleSignIn").find(".fa-google").click(function(){googleSignup()}),$(".recommendedBoxMain .recommendedTxtBox a").click(function(){var e=$(this).siblings("h3").text();recommendedPicks(e)}),$(".locationdetail ul li:nth-child(3) a").click(function(){cityName=$(this).parent().parent().parent().find("p").attr("data-value"),dealerName=$(this).parent().parent().parent().find("h4").text(),dealerLocator(cityName,dealerName)}),$(".locationdetail ul li:nth-child(2) a").click(function(){cityName=$(this).parent().parent().parent().find("p").attr("data-value"),dealerName=$(this).parent().parent().parent().find("h4").text(),dealerLocatorviewInventory(cityName,dealerName)}),$(".headertop").find(".currentCity").click(function(){var e=$(document).attr("title"),t="/select-your-city";virtualSelectAnyPage(e,t),tdSubmit({eventCategory:"Navigation Menu Top",eventAction:"Click",eventLabel:$(".headertop").find(".currentCity").children("span").text()},"event_trv")}),$(".selectLocation").find(".currentCity").click(function(){var e=$(document).attr("title"),t="/select-your-city";virtualSelectAnyPage(e,t),tdSubmit({eventCategory:"Navigation Menu Top",eventAction:"Click",eventLabel:$(".selectLocation").find("#mobilecity").text()},"event_trv")}),$(".footermiddle").find(".emicalculate").click(function(){var e=$(document).attr("title"),t="/calculate-EMI";virtualSelectAnyPage(e,t)}),$(".loginbutton a:first").click(function(){tdSubmit({eventCategory:"Login Popup",eventAction:"Click",eventLabel:"/login"},"event_trv");var e=$(document).attr("title"),t="/login";virtualSelectAnyPage(e,t)}),$(".maincarRatedSection, .carDetEmiCalc").find(".emicalculate").click(function(){var e=$(document).attr("title"),t="/calculate-EMI";virtualSelectAnyPage(e,t)}),$(".listingBlockMain").on("click",".emicalculate",function(){var e=$(document).attr("title"),t="/calculate-EMI";virtualSelectAnyPage(e,t)}),$(".maincarRatedSection").find(".testDrvLinkBtn").click(function(){tdSubmit({eventCategory:"Book a test drive",eventAction:"Click",eventLabel:"/book-a-test-drive"},"event_trv");var e=$(document).attr("title"),t="/book-a-test-drive";virtualSelectAnyPage(e,t)}),$(".compareNowButt a:last").click(function(){var e=$(document).attr("title"),t="/compare-now-popup";virtualSelectAnyPage(e,t)}),$(".testDriveRedButton.forMobile").find(".testDrvLinkBtn").click(function(){tdSubmit({eventCategory:"Book a test drive",eventAction:"Click",eventLabel:"/book-a-test-drive"},"event_trv");var e=$(document).attr("title"),t="/book-a-test-drive";virtualSelectAnyPage(e,t)}),$(".mobileNavigation .leftSection ul li a:first").click(function(){var e=$(this).attr("href").split("tel:")[1];e=e.replace(/ /g,""),e=Number(e),tdSubmit({eventCategory:"Click to Call",eventAction:"Click",eventLabel:e},"event_trv")}),$(".contactDealerBookButt .conDealButton a").click(function(){tdSubmit({eventCategory:"Contact Dealer",eventAction:"Click",eventLabel:"Contact Dealer"},"event_trv")}),$(".onlineMela").find(".onlineMelaClickCross .clickHere").click(function(){tdSubmit({eventCategory:"Emela",eventAction:"Click",eventLabel:"Emela"},"event_trv"),msildl.push({event:"user_action",eventCategory:"True Value - Preowned Car Mela",eventAction:"Click",eventLabel:"Banner - Click Here",userID:"",cd_timestamp:(new Date).getTime()})}),$(".onlineMela").find(".onlineMelaInn .clickButt a").click(function(){tdSubmit({eventCategory:"Emela",eventAction:"Click",eventLabel:"Emela"},"event_trv"),msildl.push({event:"user_action",eventCategory:"True Value - Preowned Car Mela",eventAction:"Click",eventLabel:"Banner - Click Here",userID:"",cd_timestamp:(new Date).getTime()})}),$(".onlineMela").find(".onlineMelaClickCross .cross").click(function(){msildl.push({event:"user_action",eventCategory:"True Value - Preowned Car Mela",eventAction:"Click",eventLabel:"Banner - X ",userID:"",cd_timestamp:(new Date).getTime()})})}),function(){ra.searchfeature={settings:{target:".mod-searchfeature"},init:function(){this.bindsearchfeature()},bindsearchfeature:function(){window.DeviceOrientationEvent&&window.addEventListener("orientationchange",function(){location.reload()},!1),$(window).width()>=992&&($(".desktop_search").click(function(){tdSubmit({eventCategory:"Search",eventAction:"Click",eventLabel:"Search"},"event_trv"),$(".ds_block").addClass("active")}),$(".close_search").click(function(){$(".ds_block").removeClass("active")})),$(window).width()<=991&&$(".has-submenu").click(function(){$(this).toggleClass("active"),$(this).children(".dropdown-submenu").toggleClass("active"),$(this).siblings().find(".active").removeClass("active"),$(this).siblings().removeClass("active")})}}}(ra),$(document).ready(function(){if($(".close_search").click(function(){$(".dSearch").val(""),$("#searchList ul li").css("display","none")}),$(window).width()<=992){var e=getDataFromLocal("location");e?$(".locationselectbox .currentCity small").addClass("active"):$(".locationselectbox .currentCity small").removeClass("active")}$("#autocomplete").on("change",function(){$(this).val().length>2&&headerCityPopup($(this).val())}),$(".locationselectbox ul li").click(function(){"Other"==$(this).find("a").data("value")?tdSubmit({eventCategory:"select city",eventAction:"click",eventLabel:"view more cities"},"event_trv"):headerCityPopupClick($(this).find("a").data("value"))}),$(".location_header_city").on("change",function(){var e="/used-cars-in-";if($(this).find("option:selected").val()){var t,a;switch(t=$(this).find("option:selected").val().toLowerCase(),tdSubmit({eventCategory:"Select City-Dropdown",eventAction:"Select",eventLabel:"Dropdown-"+toTitleCase(t)},"event_trv"),t){case"new delhi":t="delhi";break;case"navi mumbai, panvel":t="panvel";break;case"navi mumbai":t="navi-mumbai";break;case"ulhas nagar":t="ulhas-nagar";break;case"port blair":t="port-blair";break;case"north lakhimpur":t="north-lakhimpur";break;case"greater noida":t="greater-noida"}a=window.location.href.indexOf("hi-in")>-1?window.location.origin+"/hi-in"+e+t:window.location.origin+e+t,window.open(a,"_self")}})}),$(document).ready(function(){function e(e,t){if(e){var a=e.split("|");postDetails("/api/sitecore/Forms/GetCarDealers",JSON.stringify({CITY_NAME:t,CITY_CD:a[0],CHANNEL:a[1],CITY_DESC:$(this).find("option:selected").text()})).then(function(e){if($("#form-home").find("#homeDealer").empty().append('<option selected="selected" value="">'+e.DealerLabel+"</option>"),e.result)for(var t=0;t<e.result.length;t++){var a=$("<option></option>");a.attr("value",e.result[t].DEALERCD),a.attr("data-address",e.result[t].DEALER_ADDRESS1+"|"+e.result[t].DEALER_ADDRESS2),a.attr("data-number",e.result[t].DEALER_PHONE_NUMBER1),a.attr("data-parent",e.result[t].PARENT_GROUP),a.attr("data-name",e.result[t].DEALER_NAME),a.attr("data-region",e.result[t].REGION_CD),a.attr("data-city",e.result[t].CITY_DESC),a.attr("data-map",e.result[t].DEALER_MAP_CD),a.attr("data-loc",e.result[t].LOC_CD),a.attr("data-lat",e.result[t].Lat),a.attr("data-long",e.result[t].Long),a.text(e.result[t].DEALER_NAME.trim()+" - "+e.result[t].DEALER_ADDRESS1),$("#form-home").find("#homeDealer").append(a)}})}}var t,a={name:""};$(".certified a").mouseover(function(){var e=!!document.documentMode;e?console.log("IE Browser = ",e):$(this).tooltip()}),$(".certified a").click(function(){var e=!!document.documentMode;e?console.log("IE Browser = ",e):$(this).tooltip("hide")}),$(".info a").mouseover(function(){var e=!!document.documentMode;e?console.log("IE Browser = ",e):$(this).tooltip()}),$("#form-home").find(".homeRegistration").css("background-image","none"),$("#form-home").find(".registration").on("keyup",function(){this.value=this.value.toUpperCase()}),$(".aboutUsSection .videoContainer img").click(function(){$(this).hide(),$(".aboutUsSection .videoContainer").find("object").css("display","block").attr("data","https://www.youtube.com/embed/XyAFftrecMs?autoplay=1")}),$(".aboutUsMobile .videoContainer img").click(function(){$(this).attr("src"," "),$(this).hide(),$(".aboutUsMobile .videoContainer").find("object").css("display","block").attr("data","https://www.youtube.com/embed/XyAFftrecMs?autoplay=1"),$(".aboutUsMobile .owl-carousel").trigger("stop.owl.autoplay")}),jQuery.validator.addMethod("regex_registrationStep",function(e,t){return this.optional(t)||/^(?=.*[0-9])(?=.*[A-Z])([A-Z0-9]+)$/.test(e)});var o=$("#form-home").validate({rules:{name:{required:!0,minlength:3,maxlength:30,name_regex:/^[A-z]*((-|\s)*[A-z])*$/g},mobile:{required:!0,number:!0,mobile_regex:/^[^0-5]\d{9}$/},email2:{email:!0,email_regex:/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/},city2:{required:!0},dealer2:{required:!0},homeRegistration:{required:!0,minlength:7,maxlength:13,regex_registrationStep:!0},policy:{required:!0}},messages:{name:{required:$(".name").attr("data-empty"),name_regex:$(".name").attr("data-error"),minlength:$(".name").attr("data-error")},mobile:{required:$(".mobile").attr("data-empty"),mobile_regex:$(".mobile").attr("data-error")},email2:$("#homeEmail").attr("data-error"),city2:$("#homeCity").attr("data-empty"),dealer2:$("#homeDealer").attr("data-empty"),homeRegistration:{required:$("#homeRegistration").attr("data-empty"),minlength:$("#homeRegistration").attr("data-error"),regex_registrationStep:$("#homeRegistration").attr("data-error")},policy:$(".policy").attr("data-empty")},errorElement:"div",errorPlacement:function(e,t){e.addClass("errorMsg"),"checkbox"===t.prop("type")?e.insertAfter(t.next("label")):(e.insertAfter(t),e.parent().addClass("errorField"))},success:function(e){e.parent().removeClass("errorField")},highlight:function(e,t,a){$(e).parent().addClass("errorField")},unhighlight:function(e,t,a){$(e).parent().removeClass("errorField")},submitHandler:function(e){e.submit()}});$(".infoButton").find(".nav-carinformation a").click(function(e){var t,a=$(this).data("value");t=a&&"topRated"==a?"/buy-car#category="+a+"&certifiedCars=true":"/buy-car#category="+a,$(".carRatedSection").find(".recentlyAddedview a").attr("href",t),$(".carInformationSection").find(".QuickViewTabSetcionForMobileBtn a").attr("href",t)});var i=$(".infoButton ul li:first-child").find("a").attr("data-value");"recentlyViewed"==i?($(".QuickViewTabSetcionBtn").css("display","none"),$(".QuickViewTabSetcionForMobileBtn").css("display","none")):($(".QuickViewTabSetcionNameBtn").css("display","block"),$(".QuickViewTabSetcionForMobileBtn").css("display","none"),$(window).width()<=480&&$(".QuickViewTabSetcionForMobileBtn").css("display","block")),$(".infoButton ul li").click(function(){var e=$(this).find("a").attr("data-value");"recentlyViewed"==e?($(".QuickViewTabSetcionBtn").css("display","none"),$(".QuickViewTabSetcionForMobileBtn").css("display","none")):($(".QuickViewTabSetcionForMobileBtn").css("display","block"),$(window).width()>480&&($(".QuickViewTabSetcionForMobileBtn").css("display","none"),$(".QuickViewTabSetcionBtn").css("display","block")))}),$("#form-home").find(".city2").on("change",function(){if(""==$("#homeCity").val()?$("#homeCity-error").show():$("#homeCity-error").hide(),$("#form-home .city2").find("option:selected").val())localStorage.setItem("homeCityPers",$(this).find("option:selected").text()),e(this.value,$("#form-home .city2").find("option:selected").text());else{localStorage.getItem("homeCityPers")&&localStorage.removeItem("homeCityPers"),localStorage.getItem("homeDealerPers")&&localStorage.removeItem("homeDealerPers");var t=$("#homeDealerLabel").val();$("#form-home").find("#homeDealer").empty().append('<option selected="selected" value="">'+t+"</option>")}}),$("#form-home").find(".dealer2").on("change",function(){if(""==$("#homeDealer").val()?$("#homeDealer-error").show():$("#homeDealer-error").hide(),this.value){localStorage.setItem("homeDealerPers",$(this).find("option:selected").text()),$(".formSectionStep3").find(".dealer_name").text($(this).find("option:selected").text()),a={p_DealerParent:$(this).find("option:selected").data("parent"),p_DealerName:$(this).find("option:selected").data("name"),p_DealerZone:$(this).find("option:selected").data("region"),p_DealerCity:$(this).find("option:selected").data("city"),p_DealerMapCD:$(this).find("option:selected").data("map"),p_DealerLocCD:$(this).find("option:selected").data("loc"),p_DealerLatitude:$(this).find("option:selected").data("lat"),p_DealerLongitude:$(this).find("option:selected").data("long")};var e=$(this).find("option:selected").data("address").split("|");$(".formSectionStep3").find(".dealer_address").text(e[0]+" "+e[1]),t=e[0]+" "+e[1]}else localStorage.getItem("homeDealerPers")&&localStorage.removeItem("homeDealerPers")}),$("#form-home").find(".name").on("keyup",function(){localStorage.setItem("homeNamePers",this.value)}),$("#form-home").find(".mobile").on("keyup",function(){localStorage.setItem("homeMobilePers",this.value)}),$("#form-home").find("#homeEmail").on("keyup",function(){localStorage.setItem("homeEmailPers",this.value)}),$("#form-home").find(".homeRegistration").on("keyup",function(){this.value=this.value.toUpperCase(),localStorage.setItem("homeRegistrationPers",this.value)});var r=getDataFromLocal("location"),n={};$("#form-home").find(".blueButton").click(function(e){if(o.form()&&$("#form-home").find("#policy:checked").val()){var t=window.location.href;if(n.name=$(".name").val().trim(),n.mobile=$("#form-home").find(".mobile").val(),n.email=$("#homeEmail").val(),n.registration_no=$("#homeRegistration").val(),~t.indexOf("utm_")){var i=window.location.href.split("?")[1],l=i.split("&"),s=0;$(l).each(function(){var e=l[s].split("=")[0],t=l[s].split("=")[1];"utm_source"==e&&(a.utm_source=t),"utm_medium"==e&&(a.utm_medium=t),"utm_campaign"==e&&(a.utm_campaign=t),"utm_content"==e&&(a.utm_content=t),"utm_campaignid"==e&&(a.utm_campaignid=t),"utm_adgroupId"==e&&(a.utm_adgroupId=t),"utm_adtextid"==e&&(a.utm_adtextid=t),"utm_term"==e&&(a.utm_term=t),s++})}localStorage.getItem("utm_source")?a.utm_source=localStorage.getItem("utm_source"):a.utm_source="",localStorage.getItem("utm_medium")?a.utm_medium=localStorage.getItem("utm_medium"):a.utm_medium="",localStorage.getItem("utm_campaign")?a.utm_campaign=localStorage.getItem("utm_campaign"):a.utm_campaign="",localStorage.getItem("utm_content")?a.utm_content=localStorage.getItem("utm_content"):a.utm_content="",localStorage.getItem("utm_campaignid")?a.utm_campaignid=localStorage.getItem("utm_campaignid"):a.utm_campaignid="",localStorage.getItem("utm_adgroupId")?a.utm_adgroupId=localStorage.getItem("utm_adgroupId"):a.utm_adgroupId="",localStorage.getItem("utm_adtextid")?a.utm_adtextid=localStorage.getItem("utm_adtextid"):a.utm_adtextid="",localStorage.getItem("utm_term")?a.utm_term=localStorage.getItem("utm_term"):a.utm_term="",a.userCity=$("#form-home #homeDealer").find("option:selected").attr("data-city"),a.EnquiryUserCity=$("#form-home #homeDealer").find("option:selected").attr("data-city"),r?(a.userLatitude=r.lat,a.userLongitude=r["long"]):(a.userLatitude="",a.userLongitude=""),sellStepOne(n.name,n.mobile,n.registration,n.email),a.registration=$("#homeRegistration").val(),a.registration&&postDetails("/api/sitecore/Forms/SendOTPSellPage",JSON.stringify(n)).then(function(e){if(0==e.status)$(".otp-modal").modal("show"),$("#resendOTP").hide(),timeInterval("#tcount"),$(".loginInputRow button").removeClass(),$(".loginInputRow button").addClass("SellOTPSubmit"),$(".loginInputRow #resendOTP").removeClass(),$(".loginInputRow #resendOTP").addClass("resendbtn"),$(".loginInputRow #resendOTP").addClass("SellOTPSubmit"),otpBTDSubmit();else if(1==e.status){$(".otp-modal").modal("hide"),tdSubmit({name:convertAES(n.name),mobile:convertSHA(n.mobile),email:convertSHA(n.email),name_plain:n.name,mobile_plain:n.mobile,email_plain:n.email,reg_num:convertAES(n.registration_no)},"trv_sell_car_step_1"),a.web_Ref_ID=e.Web_ref_id,a.enquiry_id=e.enquiry_id,localStorage.setItem("name",$(".name").val()),localStorage.setItem("mobile",$("#form-home").find(".mobile").val()),localStorage.setItem("email",$("#homeEmail").val()),localStorage.setItem("registration",$("#homeRegistration").val()),localStorage.setItem("web_Ref_ID",a.web_Ref_ID),localStorage.setItem("enquiry_id",a.enquiry_id),localStorage.setItem("utm_source",a.utm_source),localStorage.setItem("utm_medium",a.utm_medium),localStorage.setItem("utm_campaign",a.utm_campaign),localStorage.setItem("utm_content",a.utm_content),localStorage.setItem("userLatitude",a.userLatitude),localStorage.setItem("userLongitude",a.userLongitude),localStorage.setItem("utm_campaignid",a.utm_campaignid),localStorage.setItem("utm_adgroupId",a.utm_adgroupId),localStorage.setItem("utm_adtextid",a.utm_adtextid),localStorage.setItem("utm_term",a.utm_term),localStorage.setItem("selltype",e.selltype),localStorage.setItem("YOM",e.YOM);var t="homepage=1";~window.location.href.indexOf("hi-IN")||~window.location.href.indexOf("hi-in")?window.open("/hi-in/sell-cars?"+t,"_self"):window.open("/sell-cars?"+t,"_self")}else $(".infoIconPopup .infoIconPopup_p").text(e.message),$(".errorModal").modal("show")})["catch"](function(e){})}var c=$("#form-home").find(".email2").val();""===c&&$(".form-control.email2.is-valid").removeClass("is-valid")}),$(".loginButt").on("click",".SellOTPSubmit",function(){var e=$("#otpText").val();if(""!=e){var t={otp:e,name:$(".name").val().trim(),mobile:$("#form-home").find(".mobile").val(),email:$("#homeEmail").val(),registration_no:$("#homeRegistration").val()};n.utm_source&&(t.utm_source=n.utm_source),n.utm_medium&&(t.utm_medium=n.utm_medium),n.utm_campaign&&(t.utm_campaign=n.utm_campaign),n.utm_content&&(t.utm_content=n.utm_content),n.utm_campaignid&&(t.utm_campaignid=n.utm_campaignid),n.utm_adgroupId&&(t.utm_adgroupId=n.utm_adgroupId),n.utm_adtextid&&(t.utm_adtextid=n.utm_adtextid),n.utm_term&&(t.utm_term=n.utm_term),postDetails("/api/sitecore/Forms/OTPVerificationSellPage",JSON.stringify(t)).then(function(e){if(1==e.status){$("#otpText").val(""),$(".otp-modal").modal("hide"),tdSubmit({name:convertAES(n.name),mobile:convertSHA(n.mobile),
email:convertSHA(n.email),name_plain:n.name,mobile_plain:n.mobile,email_plain:n.email,reg_num:convertAES(n.registration_no)},"trv_sell_car_step_1"),a.web_Ref_ID=e.Web_ref_id,a.enquiry_id=e.enquiry_id,localStorage.setItem("name",$(".name").val()),localStorage.setItem("mobile",$("#form-home").find(".mobile").val()),localStorage.setItem("email",$("#homeEmail").val()),localStorage.setItem("registration",$("#homeRegistration").val()),localStorage.setItem("web_Ref_ID",a.web_Ref_ID),localStorage.setItem("enquiry_id",a.enquiry_id),localStorage.setItem("utm_source",a.utm_source),localStorage.setItem("utm_medium",a.utm_medium),localStorage.setItem("utm_campaign",a.utm_campaign),localStorage.setItem("utm_content",a.utm_content),localStorage.setItem("userLatitude",a.userLatitude),localStorage.setItem("userLongitude",a.userLongitude),localStorage.setItem("utm_campaignid",a.utm_campaignid),localStorage.setItem("utm_adgroupId",a.utm_adgroupId),localStorage.setItem("utm_adtextid",a.utm_adtextid),localStorage.setItem("utm_term",a.utm_term),localStorage.setItem("selltype",e.selltype),localStorage.setItem("YOM",e.YOM);~window.location.href.indexOf("hi-IN")||~window.location.href.indexOf("hi-in")?window.open("/hi-in/sell-cars","_self"):window.open("/sell-cars","_self"),estimateOTP(e.status),clearInterval(downloadTimer)}else estimateOTP(e.status),$(".otp-error").text(e.message)})["catch"](function(e){console.log(e)})}else $(".otp-error").text("Please enter OTP")}),$(".otpsent").on("click",".SellOTPSubmit",function(){var e=$(".mobile").val(),t=$(".name").val(),a=$("#homeEmail").val(),o=$("#homeRegistration").val(),i={MobileNumber:e,name:t,email:a,registration_no:o};resendOTP(JSON.stringify(i)).then(function(e){1==e.status?($("#resendOTP").hide(),timeInterval("#tcount"),$(".otpsent p").show(),estimateOTP(e.status)):(estimateOTP(e.status),$(".infoIconPopup .infoIconPopup_p").text(e.message),$(".errorModal").modal("show"))})["catch"](function(e){console.log(e)})}),$(".foot1").find("ul li a").click(function(){"/contact"==$(this).attr("href")&&tdSubmit({eventCategory:"Contactus",eventAction:"Click",eventLabel:"Contactus"},"event_trv")}),$(".testDriveButton, .add_carsection").find(".testDrvLinkBtn").click(function(){var e;tdSubmit({eventCategory:"Book a test drive",eventAction:"Click",eventLabel:"/book-a-test-drive"},"event_trv"),e=$(this).parent().find("h3").text(),e&&(e=e.trim(),e=e.toLowerCase());var t=$(this).data("carid")+"|"+e;$("#form-book-test-drive").find(".carIdBooktestDrive").val(t),$("#form-book-test-drive").find(".blueButton").attr("data-carid",t)}),$(".testDriveButton, .add_carsection").find(".contactDealerLinkBtn").click(function(){var e;tdSubmit({eventCategory:"Contact Dealer",eventAction:"Click",eventLabel:"Contact Dealer"},"event_trv"),e=$(this).parent().find("h3").text(),e&&(e=e.trim(),e=e.toLowerCase());var t=$(this).data("carid")+"|"+e;$("#form-contact-dealer").find(".cdcarIdBooktestDrive").val(t),$("#form-contact-dealer").find(".blueButton").attr("data-carid",t)}),$("#collapseOne, #collapseTwo, #collapseThree").find(".testDrvLinkBtn").click(function(){var e,t;tdSubmit({eventCategory:"Book a test drive",eventAction:"Click",eventLabel:"/book-a-test-drive"},"event_trv"),e=$(this).data("carname"),e&&(e=e.trim(),e=e.toLowerCase()),t=$(this).data("carid")+"|"+e,$("#form-book-test-drive").find(".carIdBooktestDrive").val(t),$("#form-book-test-drive").find(".blueButton").attr("data-carid",t)}),$("#collapseOne, #collapseTwo, #collapseThree").find(".contactDealerLinkBtn").click(function(){var e,t;tdSubmit({eventCategory:"Contact Dealer",eventAction:"Click",eventLabel:"Contact Dealer"},"event_trv"),e=$(this).data("carname"),e&&(e=e.trim(),e=e.toLowerCase()),t=$(this).data("carid")+"|"+e,$("#form-contact-dealer").find(".cdcarIdBooktestDrive").val(t),$("#form-contact-dealer").find(".blueButton").attr("data-carid",t)}),$(".testDriveButton a").click(function(){var e,t;tdSubmit({eventCategory:"Book a test drive",eventAction:"Click",eventLabel:"/book-a-test-drive"},"event_trv"),e=$(this).parent().parent().parent().parent().find("h5").text(),t=$(this).parent().parent().parent().parent().find("h5").text(),e&&(e=e.trim(),e=e.toLowerCase());var a=$(this).data("track")+"|"+e;$("#form-book-test-drive").find(".carIdBooktestDrive").val(a),$("#form-book-test-drive").find(".blueButton").attr("data-carid",a),t&&(t=t.trim(),$("#form-book-test-drive").find(".blueButton").attr("data-carmodel",t))}),$(".contactDealerBookButt .conDealButton a").click(function(){var e,t=$(this).data("track");e=$(this).parent().parent().parent().parent().find("h5").text(),$("#form-contact-dealer").find(".cdcarIdBooktestDrive").val(t),$("#form-contact-dealer").find(".blueButton").attr("data-carid",t),e&&(e=e.trim(),$("#form-contact-dealer").find(".blueButton").attr("data-carmodel",e))})}),$(".buySliderSection .modelBox").click(function(){$(this).toggleClass("active"),$(this).parents(".owl-item").siblings().find(".active").removeClass("active")}),$(".welPop-close").click(function(){$(".welcomeBackPopupMain").css("display","none")}),$("#mySelect2").select2({dropdownParent:$("#cityModal")}),"home"==$("#pagename").val()?$(".cityTooltip").css("display","block"):$(".cityTooltip").css("display","none"),function(){ra.loginfeature={settings:{target:".mod-loginfeature"},init:function(){this.bindloginfeature()},bindloginfeature:function(){$(".forgetbtn").click(function(){$(".forgetpasswordbox").show(),$(".logindetailbox").hide()}),$(".signupbtn").click(function(){$(".signupdetailbox").show(),$(".logindetailbox").hide()}),$(".signinbtn").click(function(){$(".signupdetailbox").hide(),$(".logindetailbox").show()})}}}(ra),$(document).ready(function(){var e=$("#form-login").validate({rules:{loginMobileFirst:{required:!0,number:!0,mobile_regex:/^[^0-5]\d{9}$/},otp:{required:!0,minlength:4,maxlength:4,number:!0}},messages:{loginMobileFirst:{required:$("#loginMobileFirst").attr("data-empty"),mobile_regex:$("#loginMobileFirst").attr("data-error")},otp:$("#otp").attr("data-empty")},errorElement:"em",errorPlacement:function(e,t){e.addClass("invalid-feedback"),"checkbox"===t.prop("type")?e.insertAfter(t.next("label")):e.insertAfter(t)},highlight:function(e,t,a){$(e).addClass("is-invalid").removeClass("is-valid")},unhighlight:function(e,t,a){$(e).addClass("is-valid").removeClass("is-invalid")},submitHandler:function(e){e.submit()}}),t=getDataFromLocal("userData");t&&t.mobile&&($(".otpfirstform").find("#loginMobileFirst").val(t.mobile),$("#form-login").find("#login1").prop("checked",!0)),$("#form-login").find(".sendotpbtn").click(function(t){if(e.form()){var a={mobile:$(".otpfirstform").find("#loginMobileFirst").val()};postDetails("/api/sitecore/UserAccount/SendOTPForLogin",JSON.stringify(a)).then(function(e){if(0==e.status)$(".otpsecondform").find("#loginMobileSecond").val($(".otpfirstform").find("#loginMobileFirst").val()),$("#form-login").find("#login1:checked").val()?localStorage.setItem("userData",JSON.stringify({mobile:$(".otpfirstform").find("#loginMobileFirst").val()})):localStorage.setItem("userData",JSON.stringify({mobile:""})),$(".otpfirstform").hide(),$(".otpsecondform").show(),$("#resendOTP_login").hide(),timeInterval_login("#tcount_login"),loginMyAccount(e.status),otpBTDSubmit();else if(1==e.status){loginMyAccount(e.status),loginUserId(convertSHA(e.UserUniqueId));var t=getDataFromLocal("wishlist");if(t&&t.length){for(var a=t[0].carid,o=1;o<t.length;o++)a=a+","+t[o].carid;postDetails("/api/sitecore/CarListing/SyncWishList",JSON.stringify({carid:a})).then(function(e){console.log("+++SyncWishList",e)})["catch"](function(e){console.log(e)})}window.open(e.RedirectToURL,"_self")}else loginMyAccount(e.status),$(".infoIconPopup .infoIconPopup_p").text(e.message),$(".errorModal").modal("show")})["catch"](function(e){console.log(e)})}}),$("#form-login #resendOTP_login").on("click",function(){var e=$("#loginMobileSecond").val(),t="",a={MobileNumber:e,name:t};resendOTP(JSON.stringify(a)).then(function(e){1==e.status?($("#resendOTP_login").hide(),timeInterval_login("#tcount_login"),$("#form-login .otpsent p").show(),$("#form-login .otp-error").text(" "),$("#otp-error").text(" ")):(alert(e.message),$("#otp-error").text(" "))})["catch"](function(e){console.log(e),$("#otp-error").text(" ")})}),$("#form-login").find(".login").click(function(t){if(e.form()){var a={mobile:$(".otpsecondform").find("#loginMobileSecond").val(),otp:$(".otpsecondform").find("#otp").val()};postDetails("/api/sitecore/UserAccount/OTPLogin",JSON.stringify(a)).then(function(e){if(1==e.status){var t=getDataFromLocal("wishlist");if(t&&t.length){for(var a=t[0].carid,o=1;o<t.length;o++)a=a+","+t[o].carid;postDetails("/api/sitecore/CarListing/SyncWishList",JSON.stringify({carid:a})).then(function(e){console.log("+++SyncWishList",e)})["catch"](function(e){console.log(e)})}loginMyAccount(e.status),loginUserId(convertSHA(e.UserUniqueId)),window.open(e.RedirectToURL,"_self")}else loginMyAccount(e.status),$(".infoIconPopup .infoIconPopup_p").text(e.message),$(".errorModal").modal("show")})["catch"](function(e){console.log(e)})}}),$("#twitter-button").on("click",function(){var e={apiKey:"AIzaSyCnJspUxA1rL67ua0xa2HGisvqVCuHA6Fs",authDomain:"dulcet-basis-242809.firebaseapp.com",databaseURL:"https://dulcet-basis-242809.firebaseio.com",projectId:"dulcet-basis-242809",storageBucket:"",messagingSenderId:"437747321293",appId:"1:437747321293:web:63dd39505429c36d"};firebase.initializeApp(e);var t=new firebase.auth.TwitterAuthProvider;firebase.auth().signInWithPopup(t).then(function(e){var t=(e.credential.accessToken,e.user);postDetails("/api/sitecore/UserAccount/SocialLogin",JSON.stringify({SocialId:t.uid,Name:t.displayName,EmailAddress:t.email,SocialType:"T",MobileNumber:"",ImageUrl:t.photoURL.replace("_normal","")})).then(function(e){1==e.status?(loginMyAccount(e.status),loginUserId(convertSHA(e.UserUniqueId)),window.open(e.RedirectToURL,"_self")):(loginMyAccount(e.status),$(".infoIconPopup .infoIconPopup_p").text(e.message),$(".errorModal").modal("show"))})["catch"](function(e){console.log(e)})})["catch"](function(e){console.log(e.code),console.log(e.message)})}),$(".loginPopupMain").on("hidden.bs.modal",function(){clearInterval(downloadTimer),$(".otpfirstform").show(),$(".otpsecondform").hide(),$("#form-login").trigger("reset"),$("#form-login").validate().resetForm(),$("#form-login").find("input").removeClass("is-valid"),$("#form-login").find("input").removeClass("is-invalid")})});var hex_chr="0123456789abcdef";!function(){ra.comparecarSlider={settings:{target:".mod-comparecarSlider"},init:function(){this.bindCarouselEvent()},bindCarouselEvent:function(){$(".mostcomapreSlider").owlCarousel({margin:50,responsiveClass:!0,autoplay:!0,autoplayTimeout:6e3,nav:!1,loop:!1,rewind:!0,lazyLoad:!0,items:1,autoplayHoverPause:!1,dots:!0,responsive:{0:{items:1,margin:0},480:{items:1,margin:0},767:{items:1,margin:0},992:{items:2,margin:30},1100:{items:2,margin:50}}})}}}(ra),$(document).ready(function(){}),$(document).ready(function(){if(""!=$("#hdnCity").val()){var e=$("<option></option>");e.attr("value",$("#hdnCity").val()),e.text($("#hdnCity").val()),$("#my-account-profile").find(".editProfileCity").empty().append(e)}else{var e=$("<option></option>");e.attr("value",""),e.text("Select City"),$("#my-account-profile").find(".editProfileCity").empty().append(e)}if(""!=$("#hdnState").val()){var t=$("<option></option>");t.attr("value",$("#hdnState").val()),t.text($("#hdnState").val()),$("#my-account-profile").find(".editProfileState").empty().append(t)}else{var t=$("<option></option>");t.attr("value",""),t.text("Select State"),$("#my-account-profile").find(".editProfileState").empty().append(t)}var a=$("#my-account-profile").validate({rules:{prDisplayName:{required:!0,minlength:3,maxlength:30,name_regex:/^[A-z]*((-|\s)*[A-z])*$/g},prName:{minlength:3,maxlength:30,name_regex:/^[A-z]*((-|\s)*[A-z])*$/g},prEmail:{email:!0,email_regex:/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/},prMobile:{required:!0,number:!0,mobile_regex:/^[^0-5]\d{9}$/},prAddress:{},editProfilePin:{number:!0},prCity:{},prState:{}},messages:{prDisplayName:{required:$("#prDisplayName").attr("data-empty"),name_regex:$("#prDisplayName").attr("data-error"),minlength:$("#prDisplayName").attr("data-error")},prName:{required:$("#prName").attr("data-empty"),name_regex:$("#prName").attr("data-error"),minlength:$("#prName").attr("data-error")},prEmail:$("#prEmail").attr("data-error"),prMobile:{required:$("#prMobile").attr("data-empty"),mobile_regex:$("#prMobile").attr("data-error")},prAddress:$("#prAddress").attr("data-empty"),editProfilePin:{required:$("#editProfilePin").attr("data-empty"),mobile_regex:$("#editProfilePin").attr("data-error")},prCity:$(".editProfileCity").attr("data-empty"),prState:$(".editProfileState").attr("data-empty")},errorElement:"em",errorPlacement:function(e,t){e.addClass("invalid-feedback"),"checkbox"===t.prop("type")?e.insertAfter(t.next("label")):"select-one"===t.prop("type")?e.insertAfter(t.parents(".form__item")):e.insertAfter(t)},highlight:function(e,t,a){$(e).addClass("is-invalid").removeClass("is-valid")},unhighlight:function(e,t,a){$(e).addClass("is-valid").removeClass("is-invalid")},submitHandler:function(e){e.submit()}});if($("#editProfilePin").keyup(function(){var e=$("#editProfilePin").val(),t={pincode:e},a=$("<option></option>");a.attr("value",""),a.text("Select City"),$("#my-account-profile").find(".editProfileCity").empty().append(a);var o=$("<option></option>");o.attr("value",""),o.text("Select State"),$("#my-account-profile").find(".editProfileState").empty().append(o),6==e.length&&postDetails("/api/sitecore/UserAccount/GetCityState",JSON.stringify(t)).then(function(e){if(e[0].Status){var t=$("<option></option>");t.attr("value",e[0].PostOffice[0].State),t.text(e[0].PostOffice[0].State),$("#my-account-profile").find(".editProfileState").empty().append(t);var a=$("<option></option>");a.attr("value",e[0].PostOffice[0].District),a.text(e[0].PostOffice[0].District),$("#my-account-profile").find(".editProfileCity").empty().append(a)}else console.log("Error in sending")})["catch"](function(e){})}),$("#my-account-profile").find(".editProfileCity").on("change",function(){""==$(".editProfileCity").val()?$("#prCity-error").show():$("#prCity-error").hide()}),$("#my-account-profile").find(".editProfileState").on("change",function(){""==$(".editProfileState").val()?$("#prState-error").show():$("#prState-error").hide()}),$("#my-account-profile").find("#prUpdateProfile").click(function(e){var t=$("#editProfilePin").val();if(a.form()){var o={DisplayName:$("#prDisplayName").val(),Name:$("#prName").val().trim(),EmailAddress:$("#prEmail").val(),MobileNumber:$("#prMobile").val(),Address:$("#prAddress").val(),City:$("#my-account-profile").find(".editProfileCity").val(),State:$("#my-account-profile").find(".editProfileState").val(),PinCode:t};$("#resendOTP").hide(),postDetails("/api/sitecore/UserAccount/UpdateUserProfile",JSON.stringify(o)).then(function(e){0==e.status?($(".otp-modal").modal("show"),$("#resendOTP").hide(),timeInterval("#tcount"),$(".loginInputRow #otpsubmit").removeClass(),$(".loginInputRow #otpsubmit").addClass("MyAccountOTPSubmit"),$(".loginInputRow #resendOTP").removeClass(),$(".loginInputRow #resendOTP").addClass("resendbtn"),$(".loginInputRow #resendOTP").addClass("MyAccountOTPSubmit"),otpBTDSubmit()):1==e.status?($(".infoIconPopup .infoIconPopup_p").text("Profile has been updated successfully"),$(".successModal").modal("show"),$(".loginInputRow #otpsubmit").removeClass(),$(".loginInputRow #otpsubmit").addClass("MyAccountOTPSubmit"),$(".loginInputRow #resendOTP").removeClass(),$(".loginInputRow #resendOTP").addClass("resendbtn"),$(".loginInputRow #resendOTP").addClass("MyAccountOTPSubmit")):($(".infoIconPopup .infoIconPopup_p").text(e.message),$(".errorModal").modal("show"))})["catch"](function(e){console.log(e)})}}),$(".loginButt").on("click",".MyAccountOTPSubmit",function(){var e=$("#otpText").val(),t=$("#editProfilePin").val();if(""!=e){var a={otp:e,DisplayName:$("#prDisplayName").val(),Name:$("#prName").val().trim(),EmailAddress:$("#prEmail").val(),MobileNumber:$("#prMobile").val(),Address:$("#prAddress").val(),City:$("#my-account-profile").find(".editProfileCity").val(),State:$("#my-account-profile").find(".editProfileState").val(),PinCode:t};postDetails("/api/sitecore/UserAccount/MyAccountVerifyOTP",JSON.stringify(a)).then(function(e){1==e.status?($("#otpText").val(""),$(".otp-modal").modal("hide"),$(".infoIconPopup .infoIconPopup_p").text("Profile has been updated successfully"),$(".successModal").modal("show"),location.reload(),clearInterval(downloadTimer),$(".loginInputRow #otpsubmit").removeClass(),$(".loginInputRow #otpsubmit").addClass("MyAccountOTPSubmit"),$(".loginInputRow #resendOTP").removeClass(),$(".loginInputRow #resendOTP").addClass("resendbtn"),$(".loginInputRow #resendOTP").addClass("MyAccountOTPSubmit"),estimateOTP(e.status)):(estimateOTP(e.status),$(".otp-error").text(e.message))})["catch"](function(e){console.log(e)})}else $(".otp-error").text("Please enter OTP")}),$(".otpsent").on("click",".MyAccountOTPSubmit",function(){var e=$("#prMobile").val(),t=$("#prName").val().trim(),a={MobileNumber:e,name:t};resendOTP(JSON.stringify(a)).then(function(e){1==e.status?($("#resendOTP").hide(),timeInterval("#tcount"),$(".otpsent p").show(),$("#otp-error").text(" ")):($(".infoIconPopup .infoIconPopup_p").text(e.message),$(".errorModal").modal("show"),$("#otp-error").text(" "))})["catch"](function(e){})}),$("#file-input").on("change",function(e){var t,a=0,o=$("#por-pic"),i=e.originalEvent.srcElement.files[a],t=new FileReader,r=i.name,n=r.split(".")[1];if("jpg"==n.toLowerCase()||"png"==n.toLowerCase()||"jpeg"==n.toLowerCase()){for(a;a<e.originalEvent.srcElement.files.length;a++){var l=e.originalEvent.srcElement.files[a],t=new FileReader;t.onloadend=function(){o.attr("src",t.result).animate({opacity:1},700)},t.readAsDataURL(l)}var s=($("#pro-img").attr("data-src"),document.querySelector("[type=file]").value,new FormData);s.append("image",$("#file-input")[0].files[0]),$.ajax({url:"/api/sitecore/UserAccount/UploadUserImage",type:"POST",contentType:!1,processData:!1,data:s,success:function(e){var e=JSON.parse(e);1==e.status?($(".infoIconPopup .infoIconPopup_p").text(e.message),$(".successModal").modal("show"),o.attr("src",e.src).animate({opacity:1},700)):($(".infoIconPopup .infoIconPopup_p").text(e.message),$(".errorModal").modal("show"))},error:function(e){console.log("ERROR : ",e)}})}else $(".infoIconPopup .infoIconPopup_p").text("Invalid file format"),$(".errorModal").modal("show")}),$(".accountdetailbox .signoutbtn").on("click",function(){getData("/api/sitecore/UserAccount/LogoutUser").then(function(e){1==e.status?window.open(e.RedirectToURL,"_self"):($(".infoIconPopup .infoIconPopup_p").text(e.message),$(".errorModal").modal("show"))})["catch"](function(e){console.log(e)})}),$(".myaccountbox").length){for(var o,i=window.location.pathname.split("/"),r=0;r<i.length;r++){const n=i[r];if("my-account"==n){o=i[r+1];break}}if(o)switch(o){case"editprofile":$(".nav-item").find(".nav-link").removeClass("active"),$(".nav-item:nth-child(1)").find(".nav-link").addClass("active"),$("#accountTabContent").find(".tab-pane").removeClass("active"),$("#accountTabContent").find(".tab-pane").removeClass("show"),$("#accountTabContent").find("#profile").addClass("active"),$("#accountTabContent").find("#profile").addClass("show");break;case"wishlist":$(".nav-item").find(".nav-link").removeClass("active"),$(".nav-item:nth-child(2)").find(".nav-link").addClass("active"),$("#accountTabContent").find(".tab-pane").removeClass("active"),$("#accountTabContent").find(".tab-pane").removeClass("show"),$("#accountTabContent").find("#wishlist").addClass("active"),$("#accountTabContent").find("#wishlist").addClass("show");break;case"recentlyViewed":$(".nav-item").find(".nav-link").removeClass("active"),$(".nav-item:nth-child(3)").find(".nav-link").addClass("active"),$("#accountTabContent").find(".tab-pane").removeClass("active"),$("#accountTabContent").find(".tab-pane").removeClass("show"),$("#accountTabContent").find("#recently-viewed").addClass("active"),$("#accountTabContent").find("#recently-viewed").addClass("show");break;case"bookingHistory":$(".nav-item").find(".nav-link").removeClass("active"),$(".nav-item:nth-child(4)").find(".nav-link").addClass("active"),$("#accountTabContent").find(".tab-pane").removeClass("active"),$("#accountTabContent").find(".tab-pane").removeClass("show"),$("#accountTabContent").find("#book-history").addClass("active"),$("#accountTabContent").find("#book-history").addClass("show")}$(".nav-tabs a").click(function(e){dealerlocatorMyAccount($(this).data("value"),"my-account")})}}),function(){ra.quicksearch={settings:{target:".mod-quicksearch"},init:function(){this.bindCarouselEvent()},bindCarouselEvent:function(){var e=$(".banner_slide2");e.on("initialized.owl.carousel",function(e){$("#search-tabContent").css("display","block")}),e.owlCarousel({margin:15,responsiveClass:!0,autoplay:!0,autoplayTimeout:6e3,nav:!0,loop:!1,rewind:!0,lazyLoad:!0,items:5,autoplayHoverPause:!0,dots:!1,responsive:{0:{items:1,nav:!1},480:{items:2},767:{items:3},992:{items:4},1100:{items:5}}}),$(".banner_slide3").owlCarousel({margin:15,responsiveClass:!0,autoplay:!1,autoplayTimeout:6e3,nav:!0,loop:!1,rewind:!0,mouseDrag:!1,lazyLoad:!0,items:5,autoplayHoverPause:!0,dots:!1,responsive:{0:{items:1,nav:!1},992:{items:4},1100:{items:4}}})}}}(ra),$(window).load(function(){function e(){var e=$(window).scrollTop(),t=($(window).height()/3,$(".section")),a=$(window).height(),o=e,i=o+a;$.each(t,function(){var e=$(this),t=e.outerHeight(),a=e.offset().top,r=a+t;r>=o&&a<=i?e.addClass("active"):e.removeClass("active")})}$(".buySliderSection").owlCarousel({margin:0,responsiveClass:!0,autoplay:!1,autoplayTimeout:6e3,nav:!1,loop:!1,rewind:!0,lazyLoad:!1,items:3,autoplayHoverPause:!1,dots:!1,responsive:{0:{items:3},560:{items:3},992:{items:3}}}),$(".aboutUsSectionMobile").owlCarousel({margin:20,responsiveClass:!0,autoplay:!0,autoplayTimeout:6e3,nav:!1,loop:!1,rewind:!0,lazyLoad:!0,items:1.2,autoplayHoverPause:!1,dots:!1,responsive:{0:{items:1.2},560:{items:1.6}}}),$(".reviewSliderMobile").owlCarousel({margin:0,responsiveClass:!0,autoplay:!0,autoplayTimeout:6e3,nav:!1,loop:!1,rewind:!0,lazyLoad:!0,items:1,autoplayHoverPause:!1,dots:!1}),$(".ComparereviewSliderMobile").owlCarousel({margin:0,responsiveClass:!0,autoplay:!0,autoplayTimeout:6e3,nav:!0,loop:!1,rewind:!0,lazyLoad:!0,items:1,autoplayHoverPause:!1,dots:!1,responsive:{0:{items:1},560:{items:1}}}),$(".wishcarousel").owlCarousel({margin:10,responsiveClass:!0,autoplay:!1,autoplayTimeout:6e3,nav:!0,loop:!1,rewind:!0,lazyLoad:!0,autoplayHoverPause:!1,dots:!1,responsive:{0:{items:2,margin:10},992:{items:2}}}),$(".filterMobileButt a").click(function(e){e.stopPropagation(),$(".filterLeftPanel").addClass("active")}),$(".filterCross-icon").click(function(e){e.stopPropagation(),$(".filterLeftPanel").removeClass("active")}),$("body").on("touchend",function(){$(".filterLeftPanel").removeClass("active")}),$(".filterLeftPanel").on("touchend",function(e){e.stopPropagation()}),$("body").click(function(e){$(".filterLeftPanel").removeClass("active")}),$(".filterLeftPanel").click(function(e){e.stopPropagation()}),$(".menutogglebtn").click(function(){$(this).toggleClass("active"),$("body").toggleClass("bodyactive"),$(".menubox").toggleClass("active")}),$(".shareIcon").on("click",".icon2",function(){$(this).next(".socialsharebox").toggleClass("active"),$(".socialsharebox").hasClass("active")?$(".owl-carousel").trigger("stop.owl.autoplay"):$(".owl-carousel").trigger("play.owl.autoplay")}),$(".happy").click(function(){$(this).toggleClass("active"),$(".satisfied").removeClass("active"),$(".not_satisfied").removeClass("active")}),$(".satisfied").click(function(){$(this).toggleClass("active"),$(".happy").removeClass("active"),$(".not_satisfied").removeClass("active")}),$(".not_satisfied").click(function(){$(this).toggleClass("active"),$(".satisfied").removeClass("active"),$(".happy").removeClass("active")}),$(".sorting_select").select2({minimumResultsForSearch:-1}),$(".custom_select").select2(),$(window).on("scroll",function(){window.requestAnimationFrame(e)}),$(window).width()<1e3&&$("li.has-submenu:last a:first").attr("href","javascript:void(0);")}),function(){ra.reviewslider={settings:{target:".mod-reviewslider"},init:function(){this.bindCarouselEvent()},bindCarouselEvent:function(){$(".reviewSlider").owlCarousel({margin:10,responsiveClass:!0,autoplay:!0,autoplayTimeout:6e3,nav:!1,loop:!1,rewind:!0,lazyLoad:!0,items:1,autoplayHoverPause:!1,dots:!0,responsive:{0:{items:1.2,nav:!1},480:{items:1},767:{items:1},992:{items:1},1100:{items:1}}})}}}(ra),1==$("#demo").find(".carousel-item").length&&$("#demo").find(".carousel-control-prev, .carousel-control-next").css("display","none"),$("#carinformation-tabContent").find(".owl-carousel .owl-stage .owl-item").length<=4&&$("#carinformation-tabContent").find(".owl-carousel .owl-nav").css("display","none"),$(".carInformationdetailSection").find(".owl-carousel .owl-stage .owl-item").length<=4&&$(".carInformationdetailSection").find(".owl-carousel .owl-nav").css("display","none"),$(document).ready(function(){function e(e){"Other"!=e?$.getJSON(cityJsonPath,function(t){var a,o;a=t;var i=e.toLowerCase();if(o=a[i])setCookie("cooksCity",jsUcfirst(e),1),setCookie("cooksCityLat",o.split("=")[0],1),setCookie("cooksCityLong",o.split("=")[1],1);else if(gmapApiKey){var r="https://maps.googleapis.com/maps/api/geocode/json?&key="+gmapApiKey+"&address="+e+"&language=en";$.getJSON(r).done(function(t){if(t.results.length){setCookie("cooksCity",jsUcfirst(e),1),setCookie("cooksCityLat",t.results[0].geometry.location.lat,1),setCookie("cooksCityLong",t.results[0].geometry.location.lng,1);const a={city:e.toLowerCase(),Lat:t.results[0].geometry.location.lat,lon:t.results[0].geometry.location.lng};postDetailsWithoutLoader("/api/sitecore/DealerMap/CityLatToFile",JSON.stringify(a)).then(function(e){console.log("New address city added")})["catch"](function(e){console.log("Some error with city lat to file api : ",e)})}})}}).done(function(){console.log("CityLatLongJSON.json loaded succeeded!")}).fail(function(){console.log("CityLatLongJSON.json loaded failed! ")}):window.open("/sitemap","_self")}if($(".locationselectbox ul li a").click(function(){$(this).parent().toggleClass("active"),$(this).parent().siblings().removeClass("active");var t=$(this).attr("data-value");$("#autocomplete").val(t),e(t)}),"sitemap"==window.location.pathname.split("/")[1]||"sitemap"==window.location.pathname.split("/")[2]||"view-all-cars"==window.location.pathname.split("/")[1]||"view-all-cars"==window.location.pathname.split("/")[2]){var t;t="/api/sitecore/Header/GetCityList",getData(t).then(function(e){if("succcess"==e.status){$("#sitemap_city").empty(),~window.location.href.indexOf("hi-IN")||~window.location.href.indexOf("hi-in")?$("#sitemap_city").append('<option value="">शहर खोजें</option>'):$("#sitemap_city").append('<option value="">Select City</option>');for(var t=0;t<e.data.length;t++){var a=$("<option></option>");a.attr("value",e.data[t].value),a.text(e.data[t].name),$("#sitemap_city").append(a)}}})["catch"](function(e){console.log(e)}),$("#sitemap_city").on("change",function(){var e="/used-cars-in-";if($(this).find("option:selected").val()){var t,a;switch(t=$(this).find("option:selected").val().toLowerCase()){case"new delhi":t="delhi";break;case"navi mumbai, panvel":t="panvel";break;case"navi mumbai":t="navi-mumbai";break;case"ulhas nagar":t="ulhas-nagar";break;case"port blair":t="port-blair";break;case"north lakhimpur":t="north-lakhimpur";break;case"greater noida":t="greater-noida"}a=window.location.href.indexOf("hi-in")>-1?window.location.origin+"/hi-in"+e+t:window.location.origin+e+t,window.open(a,"_self")}})}}),function(){ra.sellform={settings:{target:".mod-sellform"},init:function(){this.bindformEvent()},bindformEvent:function(){}}}(ra),$(document).ready(function(){function e(){var e=$("#registrationStepTwo").val(),t=/^(?=.*[0-9])(?=.*[A-Z])([A-Z0-9]+)$/;return!!(e.match(t)&&e.length>=7)}function t(){$("#nonMsilEmail").parent().parent().find("span").remove();var e=$("#nonMsilEmail").val(),t=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;return!!e.match(t)||($("#nonMsilEmail").parent().parent().find("span").remove(),$("#nonMsilEmail").parent().parent().append("<span id='emailErr' class='error invalid-feedback' style='display: block;font-style: normal;'>"+$("#nonMsilEmail").attr("data-error")+"</span>"),!1)}function a(){var e=["name","mobile","email","registration","web_Ref_ID","enquiry_id","userLatitude","userLongitude","selltype","YOM","buysellMobile","buysellName","buysellRegist","buysellemail","web_Ref_ID","enquiry_id","buyselltype","buysellYOM"];$.each(e,function(e,t){localStorage.removeItem(t)})}function o(e){e&&postDetails(S,JSON.stringify({regNumber:e})).then(function(e){1==e.code&&($("#spanVehicleModel").text(e.data[0].MODEL_DESC),$("#spanModelVariant").text(e.data[0].VARIANT_DESC),$("#spanFuelType").text(e.data[0].FUEL_TYPE),$("#spanManufactureYear").text(e.data[0].YOM),$("#spanCarColor").text(e.data[0].COLOR_DESC),$("#form-sell-step2").find("#mobileCarDetails .carModel").text(e.data[0].MODEL_DESC+" "+e.data[0].VARIANT_DESC),$("#form-sell-step2").find("#mobileCarDetails .fuelType").text(e.data[0].FUEL_TYPE),$("#form-sell-step2").find("#mobileCarDetails .manufactureYear").text(e.data[0].YOM),$("#form-sell-step2").find("#mobileCarDetails .carColor").text(e.data[0].COLOR_DESC),B.vehicleModel=e.data[0].MODEL_DESC,B.modelVariant=e.data[0].VARIANT_DESC,B.fuelType=e.data[0].FUEL_TYPE,B.manufactureYear=e.data[0].YOM,B.carColor=e.data[0].COLOR_DESC,B.carColorCode=e.data[0].COLOR,B.modelCode=e.data[0].MODEL_CD,B.variantCode=e.data[0].VARIANT_CD)})}function i(e){e&&postDetails(S,JSON.stringify({regNumber:e})).then(function(e){1==e.code&&(B.vehicleModel=e.data[0].MODEL_DESC,B.modelVariant=e.data[0].VARIANT_DESC,B.fuelType=e.data[0].FUEL_TYPE,B.manufactureYear=e.data[0].YOM,B.carColor=e.data[0].COLOR_DESC,B.carColorCode=e.data[0].COLOR,B.modelCode=e.data[0].MODEL_CD,B.variantCode=e.data[0].VARIANT_CD)})}function r(e){var t=(new Date).getFullYear(),a=e,o=t-a;return o>15}function n(e){var t="";if(""!=e){var a=e.split("/"),o=a[1]+"/"+a[0]+"/"+a[2],i=new Date(o.toString()),r=("0"+i.getDate()).slice(-2)+"-"+i.toLocaleString("en-us",{month:"short"})+"-"+i.getFullYear();t=r.toString()}return t}function l(e){const t=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(String(e).toLowerCase())}function s(e,t,a,o,i){postDetails(k,JSON.stringify({stateValue:e,stateName:t})).then(function(e){var t=e.CityList.length;$("#"+o).empty().append('<option value="">'+e.SelectDealerLabel+"</option>"),$("#"+a).empty().append('<option value="">'+e.SelectCityLabel+"</option>");for(var r=0;r<t;r++)$("#"+a).append('<option value="'+e.CityList[r].cityname.toLowerCase()+'">'+toTitleCase(e.CityList[r].cityname.replace(/-/g," "))+"</option>");"carCityStep3"==a&&"select"==i&&($("#form-sell-step3").find(".carCityStep3 option:contains('"+te+"')").prop("selected",!0).change(),$("#form-sell-step3 .carCityStep3").find("option:selected").val()&&d($("#form-sell-step3 .carCityStep3").find("option:selected").val(),$("#form-sell-step3 .carCityStep3").find("option:selected").text(),"carDealerStep3","select"))})}function c(e,t,a,o,i){postDetails(k,JSON.stringify({stateValue:e,stateName:t})).then(function(e){var t=e.CityList.length;$("#"+o).empty().append('<option value="">'+e.SelectDealerLabel+"</option>"),$("#"+a).empty().append('<option value="">'+e.SelectCityLabel+"</option>");for(var r=0;r<t;r++)$("#"+a).append('<option value="'+e.CityList[r].cityname.toLowerCase()+'">'+toTitleCase(e.CityList[r].cityname.replace(/-/g," "))+"</option>");"nonMsilCityStep2"==a&&"select"==i&&($("#form-sell-non-msil").find(".nonMsilCityStep2 option:contains('"+te+"')").prop("selected",!0).change(),
$("#form-sell-non-msil .nonMsilCityStep2").find("option:selected").val()&&m($("#form-sell-non-msil .nonMsilCityStep2").find("option:selected").val(),$("#form-sell-non-msil .nonMsilCityStep2").find("option:selected").text(),"nonMsilDealerStep2","select"))})}function d(e,t,a,o){postDetails(I,JSON.stringify({cityValue:e,cityName:t})).then(function(e){var t=e.result.length;$("#"+a).empty().append('<option value="">'+e.DealerLabel+"</option>");for(var i=0;i<t;i++){var r=$("<option></option>");r.attr("value",e.result[i].DEALERCD),r.attr("data-address",e.result[i].DEALER_ADDRESS1),r.attr("data-pincode",e.result[i].DEALER_PINCODE),r.attr("data-parent",e.result[i].PARENT_GROUP),r.attr("data-name",e.result[i].DEALER_NAME),r.attr("data-region",e.result[i].REGION_CD),r.attr("data-city",e.result[i].CITY_DESC),r.attr("data-map",e.result[i].DEALER_MAP_CD),r.attr("data-loc",e.result[i].LOC_CD),r.attr("data-lat",e.result[i].Lat),r.attr("data-long",e.result[i].Long),r.text(e.result[i].DEALER_NAME+"-"+e.result[i].DEALER_ADDRESS1),$("#"+a).append(r)}"carDealerStep3"==a&&"select"==o&&$("#form-sell-step3").find(".carDealerStep3").val(ie).change()})}function m(e,t,a,o){postDetails(I,JSON.stringify({cityValue:e,cityName:t})).then(function(e){var t=e.result.length;$("#"+a).empty().append('<option value="">'+e.DealerLabel+"</option>");for(var i=0;i<t;i++){var r=$("<option></option>");r.attr("value",e.result[i].DEALERCD),r.attr("data-address",e.result[i].DEALER_ADDRESS1),r.attr("data-pincode",e.result[i].DEALER_PINCODE),r.attr("data-parent",e.result[i].PARENT_GROUP),r.attr("data-name",e.result[i].DEALER_NAME),r.attr("data-region",e.result[i].REGION_CD),r.attr("data-city",e.result[i].CITY_DESC),r.attr("data-map",e.result[i].DEALER_MAP_CD),r.attr("data-loc",e.result[i].LOC_CD),r.attr("data-lat",e.result[i].Lat),r.attr("data-long",e.result[i].Long),r.text(e.result[i].DEALER_NAME+"-"+e.result[i].DEALER_ADDRESS1),$("#"+a).append(r)}"nonMsilDealerStep2"==a&&"select"==o&&$("#form-sell-non-msil").find(".nonMsilDealerStep2").val(ie).change()})}function p(e,t,a){postDetails(x,JSON.stringify({Brand_cd:e,brandText:t})).then(function(e){var t=e.result.length;$("#"+a).empty().append('<option value="">'+e.SelectModelLabel+"</option>");for(var o=0;o<t;o++)$("#"+a).append('<option value="'+e.result[o].dms_variant_cd+'" data-web_variant_cd="'+e.result[o].web_variant_cd+'">'+e.result[o].web_variant_Desc+"</option>")})}function u(){if(""!=$("#timePickerStep3").val()&&""!=$("#prefferedDate").val()){!$("#prefferedDate-error").val()&&$("#datePickError").length>0&&$("#datePickError").remove();var e=$("#timePickerStep3").find("option:selected").val().split(" ")[0];"PM"==$("#timePickerStep3").find("option:selected").val().split(" ")[1]&&"12"!=$("#timePickerStep3").find("option:selected").val().split(" ")[0].split(":")[0]&&(e=e.replace(/^.{2}/g,parseInt($("#timePickerStep3").find("option:selected").val().split(" ")[0].split(":")[0])+12));var t,a=0,o=0,i=0;t={year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1,timeZone:"Asia/Kolkata"};var r=!!document.documentMode;if(r){var n=new Date,l=n.toLocaleDateString();l=l.replace(/-/g,"/");var s=n.toTimeString();s=s.split(" ")[0];var c=l+", "+s;a=c}else{var d=Date.now();a=new Intl.DateTimeFormat("en-GB",t).format(d)}if(o=a.split(",")[1].trim(),i=a.split(",")[0].trim(),o>e){var m=Number(i.split("/")[0].replace(/[^\u0000-\u007F]/gi,"")),p=Number(i.split("/")[1].replace(/[^\u0000-\u007F]/gi,"")),u=Number(i.split("/")[2].replace(/[^\u0000-\u007F]/gi,""));if(m>Number($("#prefferedDate").val().split("/")[0]))return p<Number($("#prefferedDate").val().split("/")[1])?($("#prefferedDate-error").hide(),$("#timePickError").remove(),$("#datePickError").remove(),!0):u<Number($("#prefferedDate").val().split("/")[2])?($("#prefferedDate-error").hide(),$("#timePickError").remove(),$("#datePickError").remove(),!0):("none"!=$("#prefferedDate-error").css("display")&&$("#prefferedDate-error").length?$("#prefferedDate-error").text($("#prefferedDate").attr("data-error")).show():$("#datePickError").length||$("#prefferedDate").parent().parent().append("<span id='datePickError' class='error invalid-feedback' style='display: block;font-style: normal;'>"+$("#prefferedDate").attr("data-error")+"</span>"),!1);if(m==Number($("#prefferedDate").val().split("/")[0]))return o>e||!$("#prefferedDate-error").length?$("#timePickError").length||($("#datePickError").remove(),$("#timePickerStep3").parent().parent().append("<span id='timePickError' class='error invalid-feedback' style='display: block;font-style: normal;'>"+$("#timePickerStep3").attr("data-error")+"</span>")):"none"!=$("#prefferedDate-error").css("display")&&$("#prefferedDate-error").length?$("#prefferedDate-error").text($("#prefferedDate").attr("data-error")).show():$("#datePickError").length||($("#prefferedDate").parent().parent().append("<span id='datePickError' class='error invalid-feedback' style='display: block;font-style: normal;'>"+$("#prefferedDate").attr("data-error")+"</span>"),$("#timePickError").remove()),!1;if(m<Number($("#prefferedDate").val().split("/")[0]))return $("#prefferedDate-error").hide(),$("#timePickError").remove(),$("#datePickError").remove(),!0}if(o<e){var m=Number(i.split("/")[0].replace(/[^\u0000-\u007F]/gi,"")),p=Number(i.split("/")[1].replace(/[^\u0000-\u007F]/gi,"")),u=Number(i.split("/")[2].replace(/[^\u0000-\u007F]/gi,""));if(m>Number($("#prefferedDate").val().split("/")[0]))return p<Number($("#prefferedDate").val().split("/")[1])?($("#prefferedDate-error").hide(),$("#timePickError").remove(),$("#datePickError").remove(),!0):u<Number($("#prefferedDate").val().split("/")[2])?($("#prefferedDate-error").hide(),$("#timePickError").remove(),$("#datePickError").remove(),!0):("none"!=$("#prefferedDate-error").css("display")&&$("#prefferedDate-error").length?$("#prefferedDate-error").text($("#prefferedDate").attr("data-error")).show():$("#datePickError").length||$("#prefferedDate").parent().parent().append("<span id='datePickError' class='error invalid-feedback' style='display: block;font-style: normal;'>"+$("#prefferedDate").attr("data-error")+"</span>"),!1);if(m==Number($("#prefferedDate").val().split("/")[0]))return a<=$("#prefferedDate").val()+", "+e&&$("#timePickerStep3").find("option:selected").val().split(":")[0]+$("#timePickerStep3").find("option:selected").val().split(" ")[1]=="12AM"?(console.log("Not Possible"),$("#timePickError").length||($("#datePickError").remove(),$("#timePickerStep3").parent().parent().append("<span id='timePickError' class='error invalid-feedback' style='display: block;font-style: normal;'>"+$("#timePickerStep3").attr("data-error")+"</span>")),!1):a>=$("#prefferedDate").val()+", "+e&&$("#timePickerStep3").val().split(":")[0]+$("#timePickerStep3").val().split(" ")[1]=="12AM"?(console.log("Not Possible"),$("#timePickError").length||($("#datePickError").remove(),$("#timePickerStep3").parent().parent().append("<span id='timePickError' class='error invalid-feedback' style='display: block;font-style: normal;'>"+$("#timePickerStep3").attr("data-error")+"</span>")),!1):($("#prefferedDate-error").hide(),$("#timePickError").remove(),$("#datePickError").remove(),!0);if(m<Number($("#prefferedDate").val().split("/")[0]))return $("#prefferedDate-error").hide(),$("#timePickError").remove(),$("#datePickError").remove(),!0}if(o==e){var m=Number(i.split("/")[0].replace(/[^\u0000-\u007F]/gi,"")),p=Number(i.split("/")[1].replace(/[^\u0000-\u007F]/gi,"")),u=Number(i.split("/")[2].replace(/[^\u0000-\u007F]/gi,""));if(m>Number($("#prefferedDate").val().split("/")[0]))return p<Number($("#prefferedDate").val().split("/")[1])?($("#prefferedDate-error").hide(),$("#timePickError").remove(),$("#datePickError").remove(),!0):u<Number($("#prefferedDate").val().split("/")[2])?($("#prefferedDate-error").hide(),$("#timePickError").remove(),$("#datePickError").remove(),!0):("none"!=$("#prefferedDate-error").css("display")&&$("#prefferedDate-error").length?$("#prefferedDate-error").text($("#prefferedDate").attr("data-error")).show():$("#datePickError").length||$("#prefferedDate").parent().parent().append("<span id='datePickError' class='error invalid-feedback' style='display: block;font-style: normal;'>"+$("#prefferedDate").attr("data-error")+"</span>"),!1);if(m==Number($("#prefferedDate").val().split("/")[0]))return"none"!=$("#prefferedDate-error").css("display")&&$("#prefferedDate-error").length?$("#prefferedDate-error").text($("#prefferedDate").attr("data-error")).show():$("#datePickError").length||$("#prefferedDate").parent().parent().append("<span id='datePickError' class='error invalid-feedback' style='display: block;font-style: normal;'>"+$("#prefferedDate").attr("data-error")+"</span>"),!1;if(m<Number($("#prefferedDate").val().split("/")[0]))return $("#prefferedDate-error").hide(),$("#timePickError").remove(),$("#datePickError").remove(),!0}}}function f(){if(""!=$("#nonMsilPrefTime").val()&&""!=$("#nonMsilprefferedDate").val()){!$("#nonMsilprefferedDate-error").val()&&$("#datePickError").length>0&&$("#datePickError").remove();var e=$("#nonMsilPrefTime").find("option:selected").val().split(" ")[0];"PM"==$("#nonMsilPrefTime").find("option:selected").val().split(" ")[1]&&"12"!=$("#nonMsilPrefTime").find("option:selected").val().split(" ")[0].split(":")[0]&&(e=e.replace(/^.{2}/g,parseInt($("#nonMsilPrefTime").find("option:selected").val().split(" ")[0].split(":")[0])+12));var t,a=0,o=0,i=0;t={year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1,timeZone:"Asia/Kolkata"};var r=!!document.documentMode;if(r){var n=new Date,l=n.toLocaleDateString();l=l.replace(/-/g,"/");var s=n.toTimeString();s=s.split(" ")[0];var c=l+", "+s;a=c}else{var d=Date.now();a=new Intl.DateTimeFormat("en-GB",t).format(d)}if(o=a.split(",")[1].trim(),i=a.split(",")[0].trim(),o>e){var m=Number(i.split("/")[0].replace(/[^\u0000-\u007F]/gi,"")),p=Number(i.split("/")[1].replace(/[^\u0000-\u007F]/gi,"")),u=Number(i.split("/")[2].replace(/[^\u0000-\u007F]/gi,""));if(m>Number($("#nonMsilprefferedDate").val().split("/")[0]))return p<Number($("#nonMsilprefferedDate").val().split("/")[1])?($("#nonMsilprefferedDate-error").hide(),$("#timePickError").remove(),$("#datePickError").remove(),!0):u<Number($("#nonMsilprefferedDate").val().split("/")[2])?($("#nonMsilprefferedDate-error").hide(),$("#timePickError").remove(),$("#datePickError").remove(),!0):("none"!=$("#nonMsilprefferedDate-error").css("display")&&$("#nonMsilprefferedDate-error").length?$("#nonMsilprefferedDate-error").text($("#nonMsilprefferedDate").attr("data-error")).show():$("#datePickError").length||$("#nonMsilprefferedDate").parent().parent().append("<span id='datePickError' class='error invalid-feedback' style='display: block;font-style: normal;'>"+$("#nonMsilprefferedDate").attr("data-error")+"</span>"),!1);if(m==Number($("#nonMsilprefferedDate").val().split("/")[0]))return o>e||!$("#nonMsilprefferedDate-error").length?$("#timePickError").length||($("#datePickError").remove(),$("#nonMsilPrefTime").parent().parent().append("<span id='timePickError' class='error invalid-feedback' style='display: block;font-style: normal;'>"+$("#nonMsilPrefTime").attr("data-error")+"</span>")):"none"!=$("#nonMsilprefferedDate-error").css("display")&&$("#nonMsilprefferedDate-error").length?$("#nonMsilprefferedDate-error").text($("#nonMsilprefferedDate").attr("data-error")).show():$("#datePickError").length||($("#nonMsilprefferedDate").parent().parent().append("<span id='datePickError' class='error invalid-feedback' style='display: block;font-style: normal;'>"+$("#nonMsilprefferedDate").attr("data-error")+"</span>"),$("#timePickError").remove()),!1;if(m<Number($("#nonMsilprefferedDate").val().split("/")[0]))return $("#nonMsilprefferedDate-error").hide(),$("#timePickError").remove(),$("#datePickError").remove(),!0}if(o<e){var m=Number(i.split("/")[0].replace(/[^\u0000-\u007F]/gi,"")),p=Number(i.split("/")[1].replace(/[^\u0000-\u007F]/gi,"")),u=Number(i.split("/")[2].replace(/[^\u0000-\u007F]/gi,""));if(m>Number($("#nonMsilprefferedDate").val().split("/")[0]))return p<Number($("#nonMsilprefferedDate").val().split("/")[1])?($("#nonMsilprefferedDate-error").hide(),$("#timePickError").remove(),$("#datePickError").remove(),!0):u<Number($("#nonMsilprefferedDate").val().split("/")[2])?($("#nonMsilprefferedDate-error").hide(),$("#timePickError").remove(),$("#datePickError").remove(),!0):("none"!=$("#nonMsilprefferedDate-error").css("display")&&$("#nonMsilprefferedDate-error").length?$("#nonMsilprefferedDate-error").text($("#nonMsilprefferedDate").attr("data-error")).show():$("#datePickError").length||$("#nonMsilprefferedDate").parent().parent().append("<span id='datePickError' class='error invalid-feedback' style='display: block;font-style: normal;'>"+$("#nonMsilprefferedDate").attr("data-error")+"</span>"),!1);if(m==Number($("#nonMsilprefferedDate").val().split("/")[0]))return a<=$("#nonMsilprefferedDate").val()+", "+e&&$("#nonMsilPrefTime").find("option:selected").val().split(":")[0]+$("#nonMsilPrefTime").find("option:selected").val().split(" ")[1]=="12AM"?(console.log("Not Possible"),$("#timePickError").length||($("#datePickError").remove(),$("#timePickError").remove(),$("#nonMsilPrefTime").parent().parent().append("<span id='timePickError' class='error invalid-feedback' style='display: block;font-style: normal;'>"+$("#nonMsilPrefTime").attr("data-error")+"</span>")),!1):a>=$("#nonMsilprefferedDate").val()+", "+e&&$("#nonMsilPrefTime").val().split(":")[0]+$("#nonMsilPrefTime").val().split(" ")[1]=="12AM"?(console.log("Not Possible"),$("#timePickError").length||($("#datePickError").remove(),$("#nonMsilPrefTime").parent().parent().append("<span id='timePickError' class='error invalid-feedback' style='display: block;font-style: normal;'>"+$("#nonMsilPrefTime").attr("data-error")+"</span>")),!1):($("#nonMsilprefferedDate-error").hide(),$("#timePickError").remove(),$("#datePickError").remove(),!0);if(m<Number($("#nonMsilprefferedDate").val().split("/")[0]))return $("#nonMsilprefferedDate-error").hide(),$("#timePickError").remove(),$("#datePickError").remove(),!0}if(o==e){var m=Number(i.split("/")[0].replace(/[^\u0000-\u007F]/gi,"")),p=Number(i.split("/")[1].replace(/[^\u0000-\u007F]/gi,"")),u=Number(i.split("/")[2].replace(/[^\u0000-\u007F]/gi,""));if(m>Number($("#nonMsilprefferedDate").val().split("/")[0]))return p<Number($("#nonMsilprefferedDate").val().split("/")[1])?($("#nonMsilprefferedDate-error").hide(),$("#timePickError").remove(),$("#datePickError").remove(),!0):u<Number($("#nonMsilprefferedDate").val().split("/")[2])?($("#nonMsilprefferedDate-error").hide(),$("#timePickError").remove(),$("#datePickError").remove(),!0):("none"!=$("#nonMsilprefferedDate-error").css("display")&&$("#nonMsilprefferedDate-error").length?$("#nonMsilprefferedDate-error").text($("#nonMsilprefferedDate").attr("data-error")).show():$("#datePickError").length||$("#nonMsilprefferedDate").parent().parent().append("<span id='datePickError' class='error invalid-feedback' style='display: block;font-style: normal;'>"+$("#nonMsilprefferedDate").attr("data-error")+"</span>"),!1);if(m==Number($("#nonMsilprefferedDate").val().split("/")[0]))return"none"!=$("#nonMsilprefferedDate-error").css("display")&&$("#nonMsilprefferedDate-error").length?$("#nonMsilprefferedDate-error").text($("#nonMsilprefferedDate").attr("data-error")).show():$("#datePickError").length||$("#nonMsilprefferedDate").parent().parent().append("<span id='datePickError' class='error invalid-feedback' style='display: block;font-style: normal;'>"+$("#nonMsilprefferedDate").attr("data-error")+"</span>"),!1;if(m<Number($("#nonMsilprefferedDate").val().split("/")[0]))return $("#nonMsilprefferedDate-error").hide(),$("#timePickError").remove(),$("#datePickError").remove(),!0}}}function g(){var e='<span id="carSpanKmStep3-error" class="error invalid-feedback" style="display: block;font-style: normal;">'+$("#carKmStep3").data("error")+"</span>",t='<span id="carSpanKmStep3-error" class="error invalid-feedback" style="display: block;font-style: normal;">'+$("#carKmStep3").data("empty")+"</span>";Number($("#carKmStep3").val())>=1e6?0==$("#carKmStep3-error").length?!$("#carSpanKmStep3-error").length>0&&($("#carKmStep3").parent().after(e),$("#carKmStep3").parent().addClass("errorField")):!$("#carSpanKmStep3-error").length>0&&($("#carKmStep3").parent().after(e),$("#carKmStep3").parent().addClass("errorField")):($("#carKmStep3").parent().removeClass("errorField"),$("#carKmStep3-error").hide(),$("#carKmStep3").parent().siblings("span").remove(),""==$("#carKmStep3").val()?!$("#carKmStep3-error").length>0||!$("em#carKmStep3-error").length>0?"none"==$("#carKmStep3-error").css("display")||!$("#carKmStep3-error").length>0||!$("#carKmSpanStep3-error").length>0?($("#carKmStep3").parent().after(t),$("#carKmStep3").parent().addClass("errorField")):($("#carKmStep3").parent().siblings("span").remove(),$("#carKmStep3").parent().removeClass("errorField")):($("#carKmStep3-error").text($("#carKmStep3").data("empty")).css("display","block"),$("#carKmStep3").parent().addClass("errorField")):$("#carKmStep3").parent().removeClass("errorField"))}function v(){$("#gogleCaptcha").show();var e=grecaptcha.getResponse();return 0!=e.length}function h(e,t,a,o,i){postDetails(E,JSON.stringify({stateValue:e,stateName:t})).then(function(e){var t=e.CityList.length;$("#"+o).empty().append('<option value="">'+e.SelectDealerLabel+"</option>"),$("#"+a).empty().append('<option value="">'+e.SelectCityLabel+"</option>");for(var r=0;r<t;r++)$("#"+a).append('<option value="'+e.CityList[r].cityname.toLowerCase()+'">'+toTitleCase(e.CityList[r].cityname.replace(/-/g," "))+"</option>");"city_Msil_twe"==a&&"select"==i&&($("#form-sell-msil_twenty").find(".city_Msil_twe option:contains('"+te+"')").prop("selected",!0).change(),$("#form-sell-msil_twenty .city_Msil_twe").find("option:selected").val()&&m($("#form-sell-msil_twenty .city_Msil_twe").find("option:selected").val(),$("#form-sell-msil_twenty .city_Msil_twe").find("option:selected").text(),"dealer_Msil_twe","select"))})}function _(e,t,a,o){postDetails(A,JSON.stringify({cityValue:e,cityName:t})).then(function(e){var t=e.result.length;$("#"+a).empty().append('<option value="">'+e.DealerLabel+"</option>");for(var i=0;i<t;i++){var r=$("<option></option>");r.attr("value",e.result[i].DEALERCD),r.attr("data-address",e.result[i].DEALER_ADDRESS1),r.attr("data-pincode",e.result[i].DEALER_PINCODE),r.attr("data-parent",e.result[i].PARENT_GROUP),r.attr("data-name",e.result[i].DEALER_NAME),r.attr("data-region",e.result[i].REGION_CD),r.attr("data-city",e.result[i].CITY_DESC),r.attr("data-map",e.result[i].DEALER_MAP_CD),r.attr("data-loc",e.result[i].LOC_CD),r.attr("data-lat",e.result[i].Lat),r.attr("data-long",e.result[i].Long),r.text(e.result[i].DEALER_NAME+"-"+e.result[i].DEALER_ADDRESS1),$("#"+a).append(r)}"dealer_Msil_twe"==a&&"select"==o&&$("#form-sell-msil_twenty").find(".dealer_Msil_twe").val(ie).change()})}function b(){!$("#prefDate_Msil_twe-error").val()&&$("#datePickError").length>0&&$("#datePickError").remove();var e=$("#PrefTime_Msil_twe").find("option:selected").val().split(" ")[0];"PM"==$("#PrefTime_Msil_twe").find("option:selected").val().split(" ")[1]&&"12"!=$("#PrefTime_Msil_twe").find("option:selected").val().split(" ")[0].split(":")[0]&&(e=e.replace(/^.{2}/g,parseInt($("#PrefTime_Msil_twe").find("option:selected").val().split(" ")[0].split(":")[0])+12));var t,a=0,o=0,i=0;t={year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1,timeZone:"Asia/Kolkata"};var r=!!document.documentMode;if(r){var n=new Date,l=n.toLocaleDateString();l=l.replace(/-/g,"/");var s=n.toTimeString();s=s.split(" ")[0];var c=l+", "+s;a=c}else{var d=Date.now();a=new Intl.DateTimeFormat("en-GB",t).format(d)}if(o=a.split(",")[1].trim(),i=a.split(",")[0].trim(),o>e){var m=Number(i.split("/")[0].replace(/[^\u0000-\u007F]/gi,"")),p=Number(i.split("/")[1].replace(/[^\u0000-\u007F]/gi,"")),u=Number(i.split("/")[2].replace(/[^\u0000-\u007F]/gi,""));if(m>Number($("#prefDate_Msil_twe").val().split("/")[0]))return p<Number($("#prefDate_Msil_twe").val().split("/")[1])?($("#prefDate_Msil_twe-error").hide(),$("#timePickError").remove(),$("#datePickError").remove(),!0):u<Number($("#prefDate_Msil_twe").val().split("/")[2])?($("#prefDate_Msil_twe-error").hide(),$("#timePickError").remove(),$("#datePickError").remove(),!0):("none"!=$("#prefDate_Msil_twe-error").css("display")&&$("#prefDate_Msil_twe-error").length?$("#prefDate_Msil_twe-error").text($("#prefDate_Msil_twe").attr("data-error")).show():$("#datePickError").length||$("#prefDate_Msil_twe").parent().append("<span id='datePickError' class='error invalid-feedback' style='display: block;font-style: normal;'>"+$("#prefDate_Msil_twe").attr("data-error")+"</span>"),!1);if(m==Number($("#prefDate_Msil_twe").val().split("/")[0]))return o>e||!$("#prefDate_Msil_twe-error").length?$("#timePickError").length||($("#datePickError").remove(),$("#PrefTime_Msil_twe").parent().append("<span id='timePickError' class='error invalid-feedback' style='display: block;font-style: normal;'>"+$("#PrefTime_Msil_twe").attr("data-error")+"</span>")):"none"!=$("#prefDate_Msil_twe-error").css("display")&&$("#prefDate_Msil_twe-error").length?$("#prefDate_Msil_twe-error").text($("#prefDate_Msil_twe").attr("data-error")).show():$("#datePickError").length||($("#prefDate_Msil_twe").parent().append("<span id='datePickError' class='error invalid-feedback' style='display: block;font-style: normal;'>"+$("#prefDate_Msil_twe").attr("data-error")+"</span>"),$("#timePickError").remove(),$("#prefDate_Msil_twe").parent().addClass("errorField")),!1;if(m<Number($("#prefDate_Msil_twe").val().split("/")[0]))return $("#prefDate_Msil_twe-error").hide(),$("#timePickError").remove(),$("#datePickError").remove(),!0}if(o<e){var m=Number(i.split("/")[0].replace(/[^\u0000-\u007F]/gi,"")),p=Number(i.split("/")[1].replace(/[^\u0000-\u007F]/gi,"")),u=Number(i.split("/")[2].replace(/[^\u0000-\u007F]/gi,""));if(m>Number($("#prefDate_Msil_twe").val().split("/")[0]))return p<Number($("#prefDate_Msil_twe").val().split("/")[1])?($("#prefDate_Msil_twe-error").hide(),$("#timePickError").remove(),$("#datePickError").remove(),!0):u<Number($("#prefDate_Msil_twe").val().split("/")[2])?($("#prefDate_Msil_twe-error").hide(),$("#timePickError").remove(),$("#datePickError").remove(),!0):("none"!=$("#prefDate_Msil_twe-error").css("display")&&$("#prefDate_Msil_twe-error").length?$("#prefDate_Msil_twe-error").text($("#prefDate_Msil_twe").attr("data-error")).show():$("#datePickError").length||($("#prefDate_Msil_twe").parent().append("<span id='datePickError' class='error invalid-feedback' style='display: block;font-style: normal;'>"+$("#prefDate_Msil_twe").attr("data-error")+"</span>"),$("#prefDate_Msil_twe").parent().addClass("errorField")),!1);if(m==Number($("#prefDate_Msil_twe").val().split("/")[0]))return a<=$("#prefDate_Msil_twe").val()+", "+e&&$("#PrefTime_Msil_twe").find("option:selected").val().split(":")[0]+$("#PrefTime_Msil_twe").find("option:selected").val().split(" ")[1]=="12AM"?(console.log("Not Possible"),$("#timePickError").length||($("#datePickError").remove(),$("#timePickError").remove(),$("#PrefTime_Msil_twe").parent().append("<span id='timePickError' class='error invalid-feedback' style='display: block;font-style: normal;'>"+$("#PrefTime_Msil_twe").attr("data-error")+"</span>")),!1):a>=$("#prefDate_Msil_twe").val()+", "+e&&$("#PrefTime_Msil_twe").val().split(":")[0]+$("#PrefTime_Msil_twe").val().split(" ")[1]=="12AM"?(console.log("Not Possible"),$("#timePickError").length||($("#datePickError").remove(),$("#PrefTime_Msil_twe").parent().append("<span id='timePickError' class='error invalid-feedback' style='display: block;font-style: normal;'>"+$("#PrefTime_Msil_twe").attr("data-error")+"</span>")),!1):($("#prefDate_Msil_twe-error").hide(),$("#timePickError").remove(),$("#datePickError").remove(),!0);if(m<Number($("#prefDate_Msil_twe").val().split("/")[0]))return $("#prefDate_Msil_twe-error").hide(),$("#timePickError").remove(),$("#datePickError").remove(),!0}if(o==e){var m=Number(i.split("/")[0].replace(/[^\u0000-\u007F]/gi,"")),p=Number(i.split("/")[1].replace(/[^\u0000-\u007F]/gi,"")),u=Number(i.split("/")[2].replace(/[^\u0000-\u007F]/gi,""));if(m>Number($("#prefDate_Msil_twe").val().split("/")[0]))return p<Number($("#prefDate_Msil_twe").val().split("/")[1])?($("#prefDate_Msil_twe-error").hide(),$("#timePickError").remove(),$("#datePickError").remove(),!0):u<Number($("#prefDate_Msil_twe").val().split("/")[2])?($("#prefDate_Msil_twe-error").hide(),$("#timePickError").remove(),$("#datePickError").remove(),!0):("none"!=$("#prefDate_Msil_twe-error").css("display")&&$("#prefDate_Msil_twe-error").length?$("#prefDate_Msil_twe-error").text($("#prefDate_Msil_twe").attr("data-error")).show():$("#datePickError").length||($("#prefDate_Msil_twe").parent().append("<span id='datePickError' class='error invalid-feedback' style='display: block;font-style: normal;'>"+$("#prefDate_Msil_twe").attr("data-error")+"</span>"),$("#prefDate_Msil_twe").parent().addClass("errorField")),!1);if(m==Number($("#prefDate_Msil_twe").val().split("/")[0]))return"none"!=$("#prefDate_Msil_twe-error").css("display")&&$("#prefDate_Msil_twe-error").length?$("#prefDate_Msil_twe-error").text($("#prefDate_Msil_twe").attr("data-error")).show():$("#datePickError").length||($("#prefDate_Msil_twe").parent().append("<span id='datePickError' class='error invalid-feedback' style='display: block;font-style: normal;'>"+$("#prefDate_Msil_twe").attr("data-error")+"</span>"),$("#prefDate_Msil_twe").parent().addClass("errorField")),!1;if(m<Number($("#prefDate_Msil_twe").val().split("/")[0]))return $("#prefDate_Msil_twe-error").hide(),$("#timePickError").remove(),$("#datePickError").remove(),!0}}function n(e){var t="";if(""!=e){var a=e.split("/"),o=a[1]+"/"+a[0]+"/"+a[2],i=new Date(o.toString()),r=("0"+i.getDate()).slice(-2)+"-"+i.toLocaleString("en-us",{month:"short"})+"-"+i.getFullYear();t=r.toString()}return t}function y(){var e=$('div[class="formDisContentMain"][style!="display: none;"]').attr("id"),t="#"+e;$(window).width()<=992?$([document.documentElement,document.body]).animate({scrollTop:$(t).offset().top-100},500):$([document.documentElement,document.body]).animate({scrollTop:$(t).offset().top},500)}var S,w,C,k,I,x,M,T,D,P,L,O,R,E,A,N,B={name:"",mobile:"",email:""},F=$("#UpdateBtnErrorMsg").val(),q=$("#CaptchaErrormsg").val(),U=getDataFromLocal("location"),H=$("#sellCityLabel").val(),V=$("#sellDealerLabel").val(),K=parseInt($("#form-sell-step3").find(".expec_price").attr("data-limit"));S="/api/sitecore/Forms/VechicleRegistrationNo",w="/api/sitecore/Forms/SendOTPSellPage",C="/api/sitecore/Forms/OTPVerificationSellPage",k="/api/sitecore/Forms/GetcitySellPage",I="/api/sitecore/Forms/GetdealerSellPage",x="/api/sitecore/Forms/GetModelData",O="/api/sitecore/Forms/NonMsilSellPageForm",M="/api/sitecore/Forms/CheckUserforsell",T="/api/sitecore/Forms/SellPageEnquiryGenerate",D="/api/sitecore/Forms/GetPriceapiRequest",P="/api/sitecore/Forms/FinalUpdateFormSellPage",L="/api/sitecore/Forms/UpdateFormSellfeedback",R="/api/sitecore/Forms/MsilTwentyYearOldcarForm",E="/api/sitecore/Forms/GetcitySellPage",A="/api/sitecore/Forms/GetdealerSellPage",$("#upArrowNewSell").click(function(){var e=$('div[class="formDisContentMain"][style!="display: none;"]').attr("id"),t="#"+e;$(window).width()<=992?$([document.documentElement,document.body]).animate({scrollTop:$(t).offset().top-100},500):$([document.documentElement,document.body]).animate({scrollTop:$(t).offset().top},500)}),jQuery.validator.addMethod("regex_registrationStep",function(e,t){return this.optional(t)||/^(?=.*[0-9])(?=.*[A-Z])([A-Z0-9]+)$/.test(e)});var J=$("#form-sell-step1").validate({rules:{name:{required:!0,minlength:3,maxlength:20,name_regex:/^[A-z]*((-|\s)*[A-z])*$/g},mobile:{required:!0,number:!0,mobile_regex:/^[^0-5]\d{9}$/},email2:{email:!0,email_regex:/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/},registrationStepOne:{required:!0,regex_registrationStep:!0,minlength:7,maxlength:13},checkbox1:{required:!0}},messages:{name:{required:$("#form-sell-step1").find(".name1").attr("data-empty"),name_regex:$("#form-sell-step1").find(".name1").attr("data-error"),minlength:$("#form-sell-step1").find(".name1").attr("data-error")},mobile:{required:$("#form-sell-step1").find(".mobile1").attr("data-empty"),mobile_regex:$("#form-sell-step1").find(".mobile1").attr("data-error")},email2:$("#form-sell-step1").find(".email2").attr("data-error"),registrationStepOne:{required:$("#form-sell-step1").find(".registrationStepOne").attr("data-empty"),regex_registrationStep:$("#form-sell-step1").find(".registrationStepOne").attr("data-error"),minlength:$("#form-sell-step1").find(".registrationStepOne").attr("data-error")},checkbox1:$("#form-sell-step1").find(".checkbox1").attr("data-empty")},errorElement:"div",errorPlacement:function(e,t){e.addClass("errorMsg"),"checkbox"===t.prop("type")?e.insertAfter(t.next("label")):"select-one"===t.prop("type")?e.insertAfter(t.parents(".form__item")):(e.insertAfter(t),e.parent().addClass("errorField"))},success:function(e){e.parent().removeClass("errorField")},highlight:function(e,t,a){$(e).parent().addClass("errorField")},unhighlight:function(e,t,a){$(e).parent().removeClass("errorField")},submitHandler:function(e){e.submit()}});$(".inputmain .phoneTxtfield").find(".email2").on("keyup",function(){$(this).val()}),$("#form-sell-step1").find(".registrationStepOne").css("background-image","none"),$("#form-sell-step2").find(".registrationStepTwo").css("background-image","none"),$("#form-sell-step1").find(".registrationStepOne").on("keyup",function(){this.value=this.value.toUpperCase()}),$("#form-sell-non-msil").find(".nonMsilEmail").on("change",function(){t(),""==$("#nonMsilEmail").val()&&$("#nonMsilEmail").parent().parent().find("span").remove()}),$("#form-sell-non-msil").find(".nonMsilEmail").on("keyup",function(){$("#nonMsilEmail").parent().parent().find("span").remove(),""!=$("#nonMsilEmail").val()?t():$("#nonMsilEmail").removeClass("is-invalid")}),"1"!=getUrlParameter("homepage")&&a(),localStorage.getItem("buysellName")&&localStorage.getItem("buysellRegist")&&localStorage.getItem("buysellMobile")&&localStorage.getItem("web_Ref_ID")&&localStorage.getItem("enquiry_id")&&"1"==getUrlParameter("homepage")&&(B.name=localStorage.getItem("buysellName"),B.registration_no=localStorage.getItem("buysellRegist"),B.mobile=localStorage.getItem("buysellMobile"),B.web_Ref_ID=localStorage.getItem("web_Ref_ID"),B.enquiry_id=localStorage.getItem("enquiry_id"),B.email=localStorage.getItem("buysellemail"),localStorage.getItem("userLatitude")&&localStorage.getItem("userLongitude")&&(B.userLatitude=localStorage.getItem("userLatitude"),B.userLongitude=localStorage.getItem("userLongitude")),localStorage.getItem("utm_source")&&localStorage.getItem("utm_medium")&&localStorage.getItem("utm_campaign")&&localStorage.getItem("utm_content")&&localStorage.getItem("utm_campaignid")&&localStorage.getItem("utm_adgroupId")&&localStorage.getItem("utm_adtextid")&&localStorage.getItem("utm_term")&&(B.utm_source=localStorage.getItem("utm_source"),B.utm_medium=localStorage.getItem("utm_medium"),B.utm_campaign=localStorage.getItem("utm_campaign"),B.utm_content=localStorage.getItem("utm_content"),B.utm_campaignid=localStorage.getItem("utm_campaignid"),B.utm_adgroupId=localStorage.getItem("utm_adgroupId"),B.utm_adtextid=localStorage.getItem("utm_adtextid"),B.utm_term=localStorage.getItem("utm_term")),"NonMsil"==localStorage.getItem("buyselltype")?($("#formSectionStep1").hide(),$("#NonMsilformSectionStep1").show(),$("#NonMsilformSectionStep1").find("#NonMsilTitleHeading").append(B.registration_no)):r(localStorage.getItem("buysellYOM"))?(i(B.registration_no),$("#formSectionStep1").hide(),$("#MsilformtwentyoldStep1").show(),$("#form-sell-msil_twenty").find("#MsilTwentyoldHeading").text(B.registration_no)):($("#form-sell-step2").find(".mobile1").val(B.mobile),
$("#form-sell-step2").find(".name1").val(B.name),$("#form-sell-step2").find(".email2").val(B.email),$("#form-sell-step2").find(".registrationStepTwo").val(B.registration_no),o(B.registration_no),$("#formSectionStep1").hide(),$("#formSectionStep2").show()),y()),localStorage.getItem("name")&&localStorage.getItem("mobile")&&localStorage.getItem("registration")&&localStorage.getItem("web_Ref_ID")&&localStorage.getItem("enquiry_id")&&"1"==getUrlParameter("homepage")&&(B.name=localStorage.getItem("name"),B.mobile=localStorage.getItem("mobile"),B.email=localStorage.getItem("email"),B.registration_no=localStorage.getItem("registration"),B.web_Ref_ID=localStorage.getItem("web_Ref_ID"),B.enquiry_id=localStorage.getItem("enquiry_id"),localStorage.getItem("userLatitude")&&localStorage.getItem("userLongitude")&&(B.userLatitude=localStorage.getItem("userLatitude"),B.userLongitude=localStorage.getItem("userLongitude")),localStorage.getItem("utm_source")&&localStorage.getItem("utm_medium")&&localStorage.getItem("utm_campaign")&&localStorage.getItem("utm_content")&&localStorage.getItem("utm_campaignid")&&localStorage.getItem("utm_adgroupId")&&localStorage.getItem("utm_adtextid")&&localStorage.getItem("utm_term")&&(B.utm_source=localStorage.getItem("utm_source"),B.utm_medium=localStorage.getItem("utm_medium"),B.utm_campaign=localStorage.getItem("utm_campaign"),B.utm_content=localStorage.getItem("utm_content"),B.utm_campaignid=localStorage.getItem("utm_campaignid"),B.utm_adgroupId=localStorage.getItem("utm_adgroupId"),B.utm_adtextid=localStorage.getItem("utm_adtextid"),B.utm_term=localStorage.getItem("utm_term")),"NonMsil"==localStorage.getItem("selltype")?($("#formSectionStep1").hide(),$("#NonMsilformSectionStep1").show(),$("#NonMsilformSectionStep1").find("#NonMsilTitleHeading").append(B.registration_no)):r(localStorage.getItem("YOM"))?(i(B.registration_no),$("#formSectionStep1").hide(),$("#MsilformtwentyoldStep1").show(),$("#form-sell-msil_twenty").find("#MsilTwentyoldHeading").text(B.registration_no)):($("#form-sell-step2").find(".name1").val(B.name),$("#form-sell-step2").find(".mobile1").val(B.mobile),$("#form-sell-step2").find(".email2").val(B.email),$("#form-sell-step2").find(".registrationStepTwo").val(B.registration_no),o(B.registration_no),$("#formSectionStep1").hide(),$("#formSectionStep2").show()),y()),$("#form-sell-step1").find(".blueButton").click(function(){if(J.form()&&$("#form-sell-step1").find("#checkbox1:checked").val()){B.name=$("#form-sell-step1").find(".name1").val(),B.mobile=$("#form-sell-step1").find(".mobile1").val(),B.email=$("#form-sell-step1").find(".email2").val(),B.registration_no=$("#form-sell-step1").find(".registrationStepOne").val(),sellStepOne(B.name,B.mobile,B.registration_no,B.email);var e=window.location.href;if(~e.indexOf("utm_")){var t=window.location.href.split("?")[1],a=t.split("&"),n=0;$(a).each(function(){var e=a[n].split("=")[0],t=a[n].split("=")[1];"utm_source"==e&&(B.utm_source=t),"utm_medium"==e&&(B.utm_medium=t),"utm_campaign"==e&&(B.utm_campaign=t),"utm_content"==e&&(B.utm_content=t),"utm_campaignid"==e&&(B.utm_campaignid=t),"utm_adgroupId"==e&&(B.utm_adgroupId=t),"utm_adtextid"==e&&(B.utm_adtextid=t),"utm_term"==e&&(B.utm_term=t),n++})}localStorage.getItem("utm_source")&&(B.utm_source=localStorage.getItem("utm_source")),localStorage.getItem("utm_medium")&&(B.utm_medium=localStorage.getItem("utm_medium")),localStorage.getItem("utm_campaign")&&(B.utm_campaign=localStorage.getItem("utm_campaign")),localStorage.getItem("utm_content")&&(B.utm_content=localStorage.getItem("utm_content")),localStorage.getItem("utm_campaignid")&&(B.utm_campaignid=localStorage.getItem("utm_campaignid")),localStorage.getItem("utm_adgroupId")&&(B.utm_adgroupId=localStorage.getItem("utm_adgroupId")),localStorage.getItem("utm_adtextid")&&(B.utm_adtextid=localStorage.getItem("utm_adtextid")),localStorage.getItem("utm_term")&&(B.utm_term=localStorage.getItem("utm_term")),U?(B.userLatitude=U.lat,B.userLongitude=U["long"]):(B.userLatitude="",B.userLongitude=""),B.registration_no&&postDetails(w,JSON.stringify(B)).then(function(e){0==e.status?($(".otp-modal").modal("show"),$("#resendOTP").hide(),timeInterval("#tcount"),$(".loginInputRow #otpsubmit").removeClass(),$(".loginInputRow #otpsubmit").addClass("SellOTPSubmit1"),$(".loginInputRow #resendOTP").removeClass(),$(".loginInputRow #resendOTP").addClass("resendbtn"),$(".loginInputRow #resendOTP").addClass("SellOTPSubmit1"),otpBTDSubmit(),N=""):1==e.status?(B.web_Ref_ID=e.Web_ref_id,B.enquiry_id=e.enquiry_id,tdSubmit({name:convertAES(B.name),mobile:convertSHA(B.mobile),email:convertSHA(B.email),name_plain:B.name,mobile_plain:B.mobile,email_plain:B.email,reg_num:convertAES(B.registration_no)},"trv_sell_car_step_1"),"Msil"==e.selltype?r(e.YOM)?(i(B.registration_no),$("#formSectionStep1").hide(),$("#MsilformtwentyoldStep1").show(),$("#form-sell-msil_twenty").find("#MsilTwentyoldHeading").text(B.registration_no)):($("#form-sell-step2").find(".name1").val(B.name),$("#form-sell-step2").find(".mobile1").val(B.mobile),$("#form-sell-step2").find(".email2").val(B.email),$("#form-sell-step2").find(".registrationStepTwo").val(B.registration_no),o(B.registration_no),$("#formSectionStep1").hide(),$("#formSectionStep2").show()):($("#formSectionStep1").hide(),$("#NonMsilformSectionStep1").show(),$("#NonMsilformSectionStep1").find("#NonMsilTitleHeading").append(B.registration_no),$("#NonMsilformSectionStep1").find("#NonMsilTitleHeading2").text($("#NonMsilformSectionStep1").find("#NonMsilTitleHeading2").text().replace("#Reg",B.registration_no)),$("#NonMsilTitleHeading").css("display","block"),$("#NonMsilTitleHeading2").css("display","none"),N=""),y()):($(".infoIconPopup .infoIconPopup_p").text(e.message),$(".errorModal").modal("show"))})["catch"](function(e){console.log(e)})}var l=$("#form-sell-step1").find(".email2").val();""===l&&$(".form-control.email2.is-valid").removeClass("is-valid")});var j=(new Date).getFullYear(),Y=$("#form-sell-non-msil").validate({rules:{nonMsilprefferedDate:{required:!0},nonMsilPrefTime:{required:!0},nonMsilStateStep2:{required:!0},nonMsilCityStep2:{required:!0},nonMsilDealerStep2:{required:!0},nonMsilBrand:{required:!0},nonMsilModel:{required:!0},nonMsilOther:{required:function(){return"others"==$("#nonMsilBrand").find("option:selected").text().toLowerCase()}},nonMsilOtherModel:{required:function(){return"others"==$("#nonMsilModel").find("option:selected").text().toLowerCase()}},nonMsilManufacturing:{required:!0,minlength:4,maxlength:4,min:1970,max:j}},messages:{nonMsilprefferedDate:{required:$("#nonMsilprefferedDate").attr("data-empty")},nonMsilPrefTime:{required:$("#nonMsilPrefTime").attr("data-empty")},nonMsilStateStep2:$("#nonMsilStateStep2").attr("data-empty"),nonMsilCityStep2:$("#nonMsilCityStep2").attr("data-empty"),nonMsilDealerStep2:$("#nonMsilDealerStep2").attr("data-empty"),nonMsilBrand:$("#nonMsilBrand").attr("data-empty"),nonMsilModel:$("#nonMsilModel").attr("data-empty"),nonMsilOther:$("#nonMsilOther").attr("data-empty"),nonMsilOtherModel:$("#nonMsilOtherModel").attr("data-empty"),nonMsilManufacturing:{required:$("#nonMsilManufacturing").attr("data-empty"),minlength:$("#nonMsilManufacturing").attr("data-error"),min:$("#nonMsilManufacturing").attr("data-error"),max:$("#nonMsilManufacturing").attr("data-error")}},errorElement:"div",errorPlacement:function(e,t){e.addClass("errorMsg"),"checkbox"===t.prop("type")?e.insertAfter(t.next("label")):"select-one"===t.prop("type")?e.insertAfter(t.parents(".form__item")):(e.insertAfter(t),e.parent().addClass("errorField"))},success:function(e){e.parent().removeClass("errorField")},highlight:function(e,t,a){$(e).parent().addClass("errorField")},unhighlight:function(e,t,a){$(e).parent().removeClass("errorField")},submitHandler:function(e){e.submit()}});$("#form-sell-non-msil").find("#nonMsilPrefTime").on("change",function(){""==$(this).find("option:selected").val()?($("#nonMsilPrefTime-error").show(),$("#timePickError").remove()):(f(),le++,$("#nonMsilPrefTime-error").hide())}),$("#form-sell-non-msil").find("#nonMsilStateStep2").on("change",function(){""==$(this).find("option:selected").val()?$("#nonMsilStateStep2-error").show():(le++,$("#nonMsilStateStep2-error").hide())});var W,G;$("#form-sell-non-msil").find("#nonMsilCityStep2").on("change",function(){G=$(this).find("option:selected").val(),""==$(this).find("option:selected").val()?($("#nonMsilCityStep2-error").show(),$("#nonMsilDealerStep2").empty().append('<option value="">'+V+"</option>")):($("#nonMsilCityStep2-error").hide(),W=$(this).find("option:selected").text(),W&&G&&m(G,W,"nonMsilDealerStep2","noselect"))}),$("#form-sell-non-msil").find("#nonMsilDealerStep2").on("change",function(){""==$(this).find("option:selected").val()?$("#nonMsilDealerStep2-error").show():(le++,$("#nonMsilDealerStep2-error").hide())}),$("#form-sell-non-msil").find("#nonMsilBrand").on("change",function(){""==$(this).find("option:selected").val()?$("#nonMsilBrand-error").show():(le++,$("#nonMsilBrand-error").hide()),$("#non_other_model").css("display","none"),"others"==$("#nonMsilBrand").find("option:selected").text().toLowerCase()?$("#non_other").css("display","block"):$("#non_other").css("display","none")}),$("#form-sell-non-msil").find("#nonMsilModel").on("change",function(){""==$(this).find("option:selected").val()?$("#nonMsilModel-error").show():(le++,$("#nonMsilModel-error").hide()),"others"==$("#nonMsilModel").find("option:selected").text().toLowerCase()?$("#non_other_model").css("display","block"):$("#non_other_model").css("display","none")});var z,Q;$("#nonMsilBrand").on("change",function(){z=$(this).find("option:selected").val(),Q=$(this).find("option:selected").text(),p(z,Q,"nonMsilModel")}),$("#form-sell-non-msil").find(".blueButton").click(function(e){if(Y.form()&&f()){var t=new Date,o=("0"+t.getDate()).slice(-2)+"-"+t.toLocaleString("en-us",{month:"short"})+"-"+t.getFullYear()+" "+t.getHours()+":"+t.getMinutes()+":"+t.getSeconds();B.book_date=o.toString(),B.prefferedDate=n($("#nonMsilprefferedDate").val()),B.prefferedTime=$("#nonMsilPrefTime").val(),B.state=$("#nonMsilStateStep2").val(),B.cityName=$("#nonMsilCityStep2").val(),B.dealerCode=$("#nonMsilDealerStep2").find("option:selected").val().split("-")[0],B.forCode=$("#nonMsilDealerStep2").find("option:selected").val().split("-")[1],B.dealerAddress=$("#nonMsilDealerStep2").find("option:selected").data("address"),B.dealerParent=$("#nonMsilDealerStep2").find("option:selected").data("parent"),B.dealerName=$("#nonMsilDealerStep2").find("option:selected").data("name"),B.dealerRegion=$("#nonMsilDealerStep2").find("option:selected").data("region"),B.dealerCity=$("#nonMsilDealerStep2").find("option:selected").data("city"),B.dealerMap=$("#nonMsilDealerStep2").find("option:selected").data("map").toString(),B.dealerLoc=$("#nonMsilDealerStep2").find("option:selected").data("loc"),B.dealerLat=$("#nonMsilDealerStep2").find("option:selected").data("lat").toString(),B.dealerLong=$("#nonMsilDealerStep2").find("option:selected").data("long").toString(),B.dms_model_cd=$("#nonMsilBrand").find("option:selected").val(),B.web_model_Desc=$("#nonMsilBrand").find("option:selected").text(),B.web_model_cd=$("#nonMsilBrand").find("option:selected").data("web_model_cd"),B.dms_variant_cd=$("#nonMsilModel").find("option:selected").val(),B.web_variant_Desc=$("#nonMsilModel").find("option:selected").text(),B.web_variant_cd=$("#nonMsilModel").find("option:selected").data("web_variant_cd"),B.other_brand=$("#nonMsilOther").val(),B.other_model=$("#nonMsilOtherModel").val(),B.manufactureYear=$("#nonMsilManufacturing").val(),B.model_others=$("#nonMsilOther").val(),B.variant_others=$("#nonMsilOtherModel").val(),postDetails(O,JSON.stringify(B)).then(function(e){if(1==e.status){tdSubmit({inspection_date:B.prefferedDate,inspection_time:B.prefferedTime,state:B.state,city:B.cityName,dealer:B.dealerName,model:B.web_model_Desc,model_others:B.model_others,manufacture_year:B.manufactureYear,mobile:convertSHA(B.mobile),mobile_plain:B.mobile,variant:B.web_variant_Desc,variant_others:B.variant_others},"trv_sell_car_step_2_non_msil_cars");$("#nonMsilOther").val(),$("#nonMsilOtherModel").val();$("#NonMsilformSectionStep1").hide(),$("#upArrowNewSell").css("display","none"),$("#NonMsilformSectionStep2").show(),window.history.pushState("","",window.location.origin+window.location.pathname),y(),a()}else $("#errorModal").find(".infoIconPopup .infoIconPopup_p").text(e.message),$("#errorModal").modal("show")})["catch"](function(e){console.log(e)})}}),$(".loginButt").on("click",".SellOTPSubmit1",function(){var e=$("#otpText").val();if(""!=e){var t={otp:e,name:B.name,mobile:B.mobile,email:B.email,registration_no:B.registration_no,web_Ref_ID:B.web_Ref_ID};B.utm_source&&(t.utm_source=B.utm_source),B.utm_medium&&(t.utm_medium=B.utm_medium),B.utm_campaign&&(t.utm_campaign=B.utm_campaign),B.utm_content&&(t.utm_content=B.utm_content),B.utm_campaignid&&(t.utm_campaignid=B.utm_campaignid),B.utm_adgroupId&&(t.utm_adgroupId=B.utm_adgroupId),B.utm_adtextid&&(t.utm_adtextid=B.utm_adtextid),B.utm_term&&(t.utm_term=B.utm_term),postDetails(C,JSON.stringify(t)).then(function(e){1==e.status?(B.web_Ref_ID=e.Web_ref_id,B.enquiry_id=e.enquiry_id,$("#otpText").val(""),$(".otp-modal").modal("hide"),"Msil"==e.selltype?(r(e.YOM)?(i(B.registration_no),$("#formSectionStep1").hide(),$("#MsilformtwentyoldStep1").show(),$("#form-sell-msil_twenty").find("#MsilTwentyoldHeading").text(B.registration_no)):($("#form-sell-step2").find(".name1").val(B.name),$("#form-sell-step2").find(".mobile1").val(B.mobile),$("#form-sell-step2").find(".email2").val(B.email),$("#form-sell-step2").find(".registrationStepTwo").val(B.registration_no),o(B.registration_no),$("#formSectionStep1").hide(),$("#formSectionStep2").show()),clearInterval(downloadTimer),estimateOTP(e.status)):($("#formSectionStep1").hide(),$("#formSectionStep2").hide(),$("#NonMsilformSectionStep1").show(),$("#NonMsilformSectionStep1").find("#NonMsilTitleHeading").append(B.registration_no),$("#NonMsilformSectionStep1").find("#NonMsilTitleHeading2").text($("#NonMsilformSectionStep1").find("#NonMsilTitleHeading2").text().replace("#Reg",B.registration_no)),"change"==N?($("#NonMsilTitleHeading").css("display","none"),$("#NonMsilTitleHeading2").css("display","block")):($("#NonMsilTitleHeading").css("display","block"),$("#NonMsilTitleHeading2").css("display","none")),clearInterval(downloadTimer),estimateOTP(e.status)),y()):(estimateOTP(e.status),$(".otp-error").text(e.message))})["catch"](function(e){console.log(e)})}else $(".otp-error").text("Please enter OTP")}),$(".otpsent").on("click",".SellOTPSubmit1",function(){var e=B.mobile,t=B.name,a=B.email,o=B.registration_no,i={MobileNumber:e,name:t,email:a,registration_no:o};resendOTP(JSON.stringify(i)).then(function(e){1==e.status?($("#resendOTP").hide(),timeInterval("#tcount"),$(".otpsent p").show(),$("#otp-error").text(" ")):($(".infoIconPopup .infoIconPopup_p").text(e.message),$(".errorModal").modal("show"),$("#otp-error").text(" "))})["catch"](function(e){console.log(e)})});var X=$("#form-sell-step2").validate({rules:{name:{required:!0,minlength:3,maxlength:20,name_regex:/^[A-z]*((-|\s)*[A-z])*$/g},mobile:{required:!0,number:!0,mobile_regex:/^[^0-5]\d{9}$/},email2:{email_regex:/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/},registrationStepTwo:{required:!0,minlength:7,maxlength:13,regex_registrationStep:!0},vehicleModel:{required:!0},modelVariant:{required:!0},fuelType:{required:!0},manufactureYear:{required:!0},carColor:{required:!0},carKmStep2:{required:!0,range:[0,1e6]},carOwnerStep2:{required:!0},carStateStep2:{required:!0},carCityStep2:{required:!0},carDealerStep2:{required:!0},carConditionStep2:{required:!0}},messages:{name:{required:$("#form-sell-step2").find(".name1").attr("data-empty"),name_regex:$("#form-sell-step2").find(".name1").attr("data-error"),minlength:$("#form-sell-step2").find(".name1").attr("data-error")},mobile:{required:$("#form-sell-step2").find(".mobile1").attr("data-empty"),mobile_regex:$("#form-sell-step2").find(".mobile1").attr("data-error")},email2:$("#form-sell-step2").find(".email2").attr("data-error"),registrationStepTwo:{required:$("#form-sell-step2").find(".registrationStepTwo").attr("data-empty"),minlength:$("#form-sell-step2").find(".registrationStepTwo").attr("data-empty"),regex_registrationStep:$("#form-sell-step2").find(".registrationStepTwo").attr("data-error")},vehicleModel:$("#form-sell-step2").find(".vehicleModel").attr("data-empty"),modelVariant:$("#form-sell-step2").find(".modelVariant").attr("data-empty"),fuelType:$("#form-sell-step2").find(".fuelType").attr("data-empty"),manufactureYear:$("#form-sell-step2").find(".manufactureYear").attr("data-empty"),carColor:$("#form-sell-step2").find(".carColor").attr("data-empty"),carKmStep2:{required:$("#form-sell-step2").find(".carKmStep2").attr("data-empty"),range:$("#form-sell-step2").find(".carKmStep2").attr("data-error")},carOwnerStep2:$("#form-sell-step2").find(".carOwnerStep2").attr("data-empty"),carStateStep2:$("#form-sell-step2").find(".carStateStep2").attr("data-empty"),carCityStep2:$("#form-sell-step2").find(".carCityStep2").attr("data-empty"),carDealerStep2:$("#form-sell-step2").find(".carDealerStep2").attr("data-empty"),carConditionStep2:$("#form-sell-step2").find(".carConditionStep2").attr("data-empty")},errorElement:"div",errorPlacement:function(e,t){e.addClass("errorMsg"),"checkbox"===t.prop("type")?e.insertAfter(t.next("label")):"select-one"===t.prop("type")?e.insertAfter(t.parents(".form__item")):(e.insertAfter(t),e.parent().addClass("errorField"))},success:function(e){e.parent().removeClass("errorField")},highlight:function(e,t,a){$(e).parent().addClass("errorField")},unhighlight:function(e,t,a){$(e).parent().removeClass("errorField")},submitHandler:function(e){e.submit()}});$("#registrationStepTwo").on("keyup",function(){this.value=this.value.toUpperCase()}),$("#form-sell-step2").find("#carOwnerStep2").on("change",function(){""==$(this).find("option:selected").val()?$("#carOwnerStep2-error").show():$("#carOwnerStep2-error").hide()}),$("#form-sell-step2").find("#carStateStep2").on("change",function(){""==$(this).find("option:selected").val()?$("#carStateStep2-error").show():(le++,$("#carStateStep2-error").hide())});var W,G;$("#form-sell-step2").find("#carCityStep2").on("change",function(){G=$(this).find("option:selected").val(),""==$(this).find("option:selected").val()?($("#carCityStep2-error").show(),$("#carDealerStep2").empty().append('<option value="">'+V+"</option>")):($("#carCityStep2-error").hide(),W=$(this).find("option:selected").text(),W&&G&&d(G,W,"carDealerStep2","noselect"))}),$("#form-sell-step2").find("#carDealerStep2").on("change",function(){""==$(this).find("option:selected").val()?$("#carDealerStep2-error").show():$("#carDealerStep2-error").hide()}),$("#form-sell-step2").find("#carConditionStep2").on("change",function(){""==$(this).find("option:selected").val()?$("#carConditionStep2-error").show():$("#carConditionStep2-error").hide()}),$("#editStepTwo").on("click",function(){var t=$(this).attr("data-btnname");if("edit"==t&&(sellStepTwoEdit(B.name,B.mobile,B.registration_no,B.email,""),$("#nameStepTwo, #mobileStepTwo, #emailStepTwo, #registrationStepTwo").removeAttr("disabled"),$(this).attr("data-btnname","update"),window.location.pathname.indexOf("hi-in")>0?$(this).attr("value",$("#sellupdatebtn").val()):$(this).attr("value",$("#sellupdatebtn").val())),"update"==t)if($("#form-sell-step2").find("#nameStepTwo").val().length>2&&isNaN($("#form-sell-step2").find("#nameStepTwo").val())&&$("#form-sell-step2").find("#mobileStepTwo").val()&&$("#form-sell-step2").find("#mobileStepTwo").attr("maxlength")==$("#form-sell-step2").find("#mobileStepTwo").val().length&&$("#form-sell-step2").find("#registrationStepTwo").val()){if(e()){if($("#form-sell-step2").find("#emailStepTwo").val()){if(!l($("#form-sell-step2").find("#emailStepTwo").val()))return!1;var a={name:$("#nameStepTwo").val(),email:$("#emailStepTwo").val(),mobile:$("#mobileStepTwo").val(),registration_no:$("#registrationStepTwo").val()}}else var a={name:$("#nameStepTwo").val(),email:"",mobile:$("#mobileStepTwo").val(),registration_no:$("#registrationStepTwo").val()};if($("#form-sell-step2").find("#mobileStepTwo").val()&&$("#form-sell-step2").find("#mobileStepTwo").attr("maxlength")==$("#form-sell-step2").find("#mobileStepTwo").val().length){var o=/^[^0-5]\d{9}$/;if(!o.test(parseInt($("#form-sell-step2").find("#mobileStepTwo").val())))return!1;var a={name:$("#nameStepTwo").val(),email:$("#emailStepTwo").val(),mobile:$("#mobileStepTwo").val(),registration_no:$("#registrationStepTwo").val()}}$("#editStepTwo").attr("data-btnname","edit"),window.location.pathname.indexOf("hi-in")>0?$("#editStepTwo").attr("value",$("#selleditdetailbtn").val()):$("#editStepTwo").attr("value",$("#selleditdetailbtn").val()),B.name=a.name,B.email=a.email,B.mobile=a.mobile,B.registration_no=a.registration_no,postDetails(w,JSON.stringify(B)).then(function(e){0==e.status?($(".otp-modal").modal("show"),$("#resendOTP").hide(),timeInterval("#tcount"),$(".loginInputRow #otpsubmit").removeClass(),$(".loginInputRow #otpsubmit").addClass("SellOTPSubmit1"),$(".loginInputRow #resendOTP").removeClass(),$(".loginInputRow #resendOTP").addClass("resendbtn"),$(".loginInputRow #resendOTP").addClass("SellOTPSubmit1"),otpBTDSubmit(),N="change"):1==e.status?(B.web_Ref_ID=e.Web_ref_id,B.enquiry_id=e.enquiry_id,"Msil"==e.selltype?a.registration_no&&(r(e.YOM)?(i(B.registration_no),$("#formSectionStep2").hide(),$("#MsilformtwentyoldStep1").show(),$("#form-sell-msil_twenty").find("#MsilTwentyoldHeading").text(B.registration_no),y()):postDetails(S,JSON.stringify({regNumber:a.registration_no})).then(function(e){1==e.code?($("#nameStepTwo, #mobileStepTwo, #emailStepTwo, #registrationStepTwo").attr("disabled","disabled"),$("#nameStepTwo, #mobileStepTwo, #emailStepTwo, #registrationStepTwo").removeClass("is-valid"),$("#spanVehicleModel").text(e.data[0].MODEL_DESC),$("#spanModelVariant").text(e.data[0].VARIANT_DESC),$("#spanFuelType").text(e.data[0].FUEL_TYPE),$("#spanManufactureYear").text(e.data[0].YOM),$("#spanCarColor").text(e.data[0].COLOR_DESC),$("#form-sell-step2").find("#mobileCarDetails .carModel").text(e.data[0].MODEL_DESC+" "+e.data[0].VARIANT_DESC),$("#form-sell-step2").find("#mobileCarDetails .fuelType").text(e.data[0].FUEL_TYPE),$("#form-sell-step2").find("#mobileCarDetails .manufactureYear").text(e.data[0].YOM),$("#form-sell-step2").find("#mobileCarDetails .carColor").text(e.data[0].COLOR_DESC),B.vehicleModel=e.data[0].MODEL_DESC,B.modelVariant=e.data[0].VARIANT_DESC,B.fuelType=e.data[0].FUEL_TYPE,B.manufactureYear=e.data[0].YOM,B.carColor=e.data[0].COLOR_DESC,B.carColorCode=e.data[0].COLOR,B.modelCode=e.data[0].MODEL_CD,B.variantCode=e.data[0].VARIANT_CD,sellStepTwoUpdate(a.name,a.mobile,a.registration_no,a.email,"")):($(".infoIconPopup .infoIconPopup_p").text(e.message),$(".errorModal").modal("show"))})["catch"](function(e){console.log(e)})):($("#formSectionStep2").hide(),$("#NonMsilformSectionStep1").show(),$("#NonMsilformSectionStep1").find("#NonMsilTitleHeading").append(B.registration_no),$("#NonMsilformSectionStep1").find("#NonMsilTitleHeading2").text($("#NonMsilformSectionStep1").find("#NonMsilTitleHeading2").text().replace("#Reg",B.registration_no)),$("#NonMsilTitleHeading").css("display","none"),$("#NonMsilTitleHeading2").css("display","block"),N="change",y())):($(".infoIconPopup .infoIconPopup_p").text(e.message),$(".errorModal").modal("show"))})["catch"](function(e){console.log(e)})}}else{var n='<span id="nameSpanStep2-error" class="error invalid-feedback" style="display: block;font-style: normal;text-align: left;">'+$("#nameStepTwo").data("empty")+"</span>";""==$("#form-sell-step2").find("#nameStepTwo").val()&&0==$("#nameStepTwo-error").length?!$("#nameSpanStep2-error").length>0&&$("#form-sell-step2").find("#nameStepTwo").parent().after(n):$("#form-sell-step2").find("#nameStepTwo").parent().siblings("span").remove();var s='<span id="mobileSpanStep2-error" class="error invalid-feedback" style="display: block;font-style: normal;text-align: left;">'+$("#mobileStepTwo").data("empty")+"</span>";""==$("#form-sell-step2").find("#mobileStepTwo").val()&&0==$("#mobileStepTwo-error").length?!$("#mobileSpanStep2-error").length>0&&$("#form-sell-step2").find("#mobileStepTwo").parent().after(s):$("#form-sell-step2").find("#mobileStepTwo").parent().siblings("span").remove();var c='<span id="regSpanStep2-error" class="error invalid-feedback" style="display: block;font-style: normal;text-align: left;">'+$("#registrationStepTwo").data("empty")+"</span>";""==$("#form-sell-step2").find("#registrationStepTwo").val()&&0==$("#registrationStepTwo-error").length?!$("#regSpanStep2-error").length>0&&$("#form-sell-step2").find("#registrationStepTwo").parent().after(c):$("#form-sell-step2").find("#registrationStepTwo").parent().siblings("span").remove(),$("#form-sell-step2").find("#nameStepTwo").on("input",function(){($(this).hasClass("is-valid")||$(this).val())&&$("#nameSpanStep2-error").css("display","none"),$("#nameSpanStep2-error").length>0&&$("#form-sell-step2").find("#nameStepTwo").parent().siblings("span").remove()}),$("#form-sell-step2").find("#mobileStepTwo").on("input",function(){($(this).hasClass("is-valid")||$(this).val())&&$("#mobileSpanStep2-error").css("display","none"),$("#mobileSpanStep2-error").length>0&&$("#form-sell-step2").find("#mobileStepTwo").parent().siblings("span").remove()}),$("#form-sell-step2").find("#registrationStepTwo").on("input",function(){($(this).hasClass("is-valid")||$(this).val().length>=10)&&$("#regSpanStep2-error").css("display","none"),$("#regSpanStep2-error").length>0&&$("#form-sell-step2").find("#registrationStepTwo").parent().siblings("span").remove()})}}),$(function(){$("#nonMsilprefferedDate").datepicker({changeMonth:!0,changeYear:!0,dateFormat:"dd/mm/yy",autoclose:!0,startDate:new Date,minDate:0})}),$(function(){$("#datepicker1").datepicker({changeMonth:!0,changeYear:!0})}),$(".contact-form").find(".form-control").each(function(){var e=$(this).parent();$(this).val()&&$(e).find("label").css({})}),$(".contact-form").find(".form-control").focus(function(){$(this).parent(".phoneTxtfield").addClass("focus"),$(this).parent().find("label").animate({},300)}),$(".contact-form").find(".form-control").blur(function(){0==$(this).val().length&&($(this).parent(".phoneTxtfield").removeClass("focus"),$(this).parent().find("label").animate({},300))}),$("#form-sell-step2").find("#nameStepTwo").on("keyup",function(){($(this).hasClass("is-valid")||$(this).val())&&$("#nameSpanStep2-error").css("display","none"),$("#nameSpanStep2-error").length>0&&$("#form-sell-step2").find("#nameStepTwo").parent().siblings("span").remove()}),$("#form-sell-step2").find("#mobileStepTwo").on("keyup",function(){($(this).hasClass("is-valid")||$(this).val())&&$("#mobileSpanStep2-error").css("display","none"),$("#mobileSpanStep2-error").length>0&&$("#form-sell-step2").find("#mobileStepTwo").parent().siblings("span").remove()}),$("#form-sell-step2").find("#registrationStepTwo").on("keyup",function(){($(this).hasClass("is-valid")||$(this).val().length>=10)&&$("#regSpanStep2-error").css("display","none"),$("#regSpanStep2-error").length>0&&$("#form-sell-step2").find("#registrationStepTwo").parent().siblings("span").remove()}),$("#carStateStep2").on("change",function(){var e=$(this).find("option:selected").val(),t=$(this).find("option:selected").text();e&&t?s(e,t,"carCityStep2","carDealerStep2","noselect"):($("#carCityStep2").empty().append('<option value="">'+H+"</option>"),$("#carDealerStep2").empty().append('<option value="">'+V+"</option>"))}),$("#nonMsilStateStep2").on("change",function(){var e=$(this).find("option:selected").val(),t=$(this).find("option:selected").text();e&&t?c(e,t,"nonMsilCityStep2","nonMsilDealerStep2","noselect"):($("#nonMsilCityStep2").empty().append('<option value="">'+H+"</option>"),$("#nonMsilDealerStep2").empty().append('<option value="">'+V+"</option>"))});var Z,ee,te,ae,oe,ie,re;$("#form-sell-step2").find(".formsteptwo").click(function(){if($("#carKmStep2").val()||$("#carKmStep2").parent().siblings("span").remove(),"block"==$("#carKmStep2-error").css("display")?$("#carKmSpanStep2-error").length>0&&$("#carKmStep2").parent().siblings("span").remove():$("#carKmSpanStep2-error").length>0&&"block"==$("#carKmStep2-error").css("display")&&$("#carKmStep2").parent().siblings("span").remove(),"edit"==$("#editStepTwo").attr("data-btnname")){if(X.form()&&$("#carKmStep2").val()<1e6){var e=new Date,t=("0"+e.getDate()).slice(-2)+"-"+e.toLocaleString("en-us",{month:"short"})+"-"+e.getFullYear()+" "+e.getHours()+":"+e.getMinutes()+":"+e.getSeconds();B.book_date=t.toString(),B.carKm=$("#carKmStep2").val(),B.ownerNo=$("#carOwnerStep2").find("option:selected").val(),Z=$("#carOwnerStep2").find("option:selected").text(),B.state=$("#carStateStep2").find("option:selected").val(),ee=$("#carStateStep2").find("option:selected").text(),B.cityVal=$("#carCityStep2").find("option:selected").val(),B.cityName=$("#carCityStep2").find("option:selected").text(),te=$("#carCityStep2").find("option:selected").text(),B.dealerCode=$("#carDealerStep2").find("option:selected").val().split("-")[0],B.forCode=$("#carDealerStep2").find("option:selected").val().split("-")[1],B.dealerAddress=$("#carDealerStep2").find("option:selected").data("address"),B.dealerPinCode=$("#carDealerStep2").find("option:selected").data("pincode"),B.dealerParent=$("#carDealerStep2").find("option:selected").data("parent"),B.dealerName=$("#carDealerStep2").find("option:selected").data("name"),B.dealerRegion=$("#carDealerStep2").find("option:selected").data("region"),B.dealerCity=$("#carDealerStep2").find("option:selected").data("city"),B.dealerMap=$("#carDealerStep2").find("option:selected").data("map").toString(),B.dealerLoc=$("#carDealerStep2").find("option:selected").data("loc"),B.dealerLat=$("#carDealerStep2").find("option:selected").data("lat").toString(),B.dealerLong=$("#carDealerStep2").find("option:selected").data("long").toString(),B.condition=$("#carConditionStep2").find("option:selected").val(),B.model=$("#spanVehicleModel").text(),B.variant=$("#spanModelVariant").text(),B.fuel_type=$("#spanFuelType").text(),B.manufacture_year=$("#spanManufactureYear").text(),B.color=$("#spanCarColor").text(),B.km_driven=$("#carKmStep2").val(),ae=$("#carDealerStep2").find("option:selected").text(),ie=$("#carDealerStep2").find("option:selected").val(),oe=$("#carConditionStep2").find("option:selected").text();var o=$("#carConditionStep2").find("option:selected").data("text");W=te,showLoader(),$("#formsteptwo").attr("disabled",!0),postDetailsWithoutLoader(M,JSON.stringify(B)).then(function(e){showLoader(),postDetailsWithoutLoader(T,JSON.stringify(B)).then(function(t){"200"==t.code?(B.enquiry_no=t.result.p_Enquiry_no,1==e.status?(tdSubmit({name:convertAES(B.name),mobile:convertSHA(B.mobile),email:convertSHA(B.email),name_plain:B.name,mobile_plain:B.mobile,email_plain:B.email,reg_num:convertAES(B.registration_no),model:B.model,variant:B.variant,fuel_type:B.fuel_type,manufacture_year:B.manufacture_year,color:B.color,km_driven:B.km_driven,owner:B.ownerNo,condition:B.condition,state:ee,city:B.cityVal,dealer:ae},"trv_sell_car_step_2_msil_cars"),showLoader(),postDetailsWithoutLoader(D,JSON.stringify(B)).then(function(e){showLoader(),e&&e.pricerange&&1==e.status?(re=e.pricerange,B.minPrice=parseInt(re.Final_Band.min).toString(),B.maxPrice=parseInt(re.Final_Band.max).toString(),"5"==B.condition?$("#priceMeter").find(".price_amount").text("₹"+withoutCommaSepratedPrice(re.Excellent.min)+" - ₹"+withoutCommaSepratedPrice(re.Excellent.max)):"3"==B.condition?$("#priceMeter").find(".price_amount").text("₹"+withoutCommaSepratedPrice(re.Good.min)+" - ₹"+withoutCommaSepratedPrice(re.Good.max)):$("#priceMeter").find(".price_amount").text("₹"+withoutCommaSepratedPrice(re.Average.min)+" - ₹"+withoutCommaSepratedPrice(re.Average.max)),$("#form-sell-step3").find(".carConditionStep3 option:contains('"+oe+"')").prop("selected",!0).change(),
$("#formSectionStep2").hide(),$("#formSectionStep3").show(),window.history.pushState("","",window.location.origin+window.location.pathname),y(),a(),hideLoader()):(hideLoader(),$("#formSectionStep2").hide(),$("#upArrowNewSell").css("display","none"),$("#NonMsilformSectionStep2").show(),y())})["catch"](function(e){console.log("From Price Engine API Step 2 : ",e)})):(hideLoader(),$("#exceededNumber").modal("show"))):(hideLoader(),$("#errorModal").find(".infoIconPopup .infoIconPopup_p").text(t.message),$("#errorModal").modal("show"))})["catch"](function(e){})})["catch"](function(e){console.log(e)}),$("#form-sell-step3").find("#carDetailsStep3 .app_title").text(B.modelVariant),$("#form-sell-step3").find("#carDetailsStep3 .app_li li:nth-child(1)").text(B.fuelType),$("#form-sell-step3").find("#carDetailsStep3 .app_li li:nth-child(2)").text(B.manufactureYear),$("#form-sell-step3").find("#carDetailsStep3 .app_li li:nth-child(3)").text(B.carColor),$("#form-sell-step3").find("#carDetailsStep3 .app_liwebno li:nth-child(1)").text(B.carKm),$("#form-sell-step3").find("#carDetailsStep3 .app_liwebno li:nth-child(2)").text(Z),$("#form-sell-step3").find("#carDetailsStep3 .app_liwebno li:nth-child(3)").text(ee),$("#form-sell-step3").find("#carDetailsStep3 .app_liwebno li:nth-child(4)").text(te),$("#form-sell-step3").find("#carDetailsStep3 .app_liwebno li:nth-child(5)").text(B.dealerName);var i="";i=$("#priceMeter").find("img").attr("data-src"),$("#priceMeter").find("img").removeAttr("src"),$("#priceMeter").find("img").attr("src",i+o.toLowerCase()+".png"),$("#priceMeter").find(".averageMeter .text b").text(toTitleCase(o)),$("#form-sell-step3").find(".carKmStep3").val(B.carKm+" KM"),$("#form-sell-step3").find(".carOwnerStep3 option:contains('"+Z+"')").prop("selected",!0).change(),$("#form-sell-step3").find(".carStateStep3 option:contains('"+ee+"')").prop("selected",!0).change(),s($("#carStateStep2").find("option:selected").val(),$("#carStateStep2").find("option:selected").text(),"carCityStep3","carDealerStep3","select"),se++,sellSTepTwoNext(B.name,B.mobile,B.registration_no,B.email,B.vehicleModel,B.dealerName,B.cityName,"")}}else $(".infoIconPopup .infoIconPopup_p").text(F),$(".errorModal").modal("show");$("#form-sell-step2").find(".email2").val()}),$("#exceedSellOkBtn").click(function(){window.open("/","_self")});var ne=$("#form-sell-step3").validate({rules:{carKmStep3:{required:!0},carOwnerStep3:{required:!0},carConditionStep3:{required:!0},carStateStep3:{required:!0},carCityStep3:{required:!0},carDealerStep3:{required:!0},expectedPrice:{required:!0,number:!0,mobile_regex:/^[0-9]*$/,range:[0,15e5]},prefferedDate:{required:!0},timePickerStep3:{required:!0},checkboxStep3:{required:!0}},messages:{carKmStep3:$("#form-sell-step3").find(".carKmStep3").attr("data-empty"),carOwnerStep3:$("#form-sell-step3").find(".carOwnerStep3").attr("data-empty"),carConditionStep3:$("#form-sell-step3").find(".carConditionStep3").attr("data-empty"),carStateStep3:$("#form-sell-step3").find(".carStateStep3").attr("data-empty"),carCityStep3:$("#form-sell-step3").find(".carCityStep3").attr("data-empty"),carDealerStep3:$("#form-sell-step3").find(".carDealerStep3").attr("data-empty"),expectedPrice:{required:$("#priceMeter").find(".expec_price").attr("data-empty"),mobile_regex:$("#priceMeter").find(".expec_price").attr("data-error"),range:$("#priceMeter").find(".expec_price").attr("data-limiterror")},prefferedDate:$("#prefferedDate").attr("data-empty"),timePickerStep3:$("#timePickerStep3").attr("data-empty"),checkboxStep3:$("#checkboxStep3").attr("data-empty")},errorElement:"div",errorPlacement:function(e,t){e.addClass("errorMsg"),"checkbox"===t.prop("type")?e.insertAfter(t.next("label")):"select-one"===t.prop("type")?e.insertAfter(t.parents(".form__item")):(e.insertAfter(t),e.parent().addClass("errorField"))},success:function(e){e.parent().removeClass("errorField")},highlight:function(e,t,a){$(e).parent().addClass("errorField")},unhighlight:function(e,t,a){$(e).parent().removeClass("errorField")},submitHandler:function(e){e.submit()}});$("#carKmStep2, #priceMeter .expec_price, #carKmStep3").keyup(function(){this.value=this.value.replace(/^0/gi,"")}),$(function(){$("#prefferedDate").datepicker({changeMonth:!0,changeYear:!0,dateFormat:"dd/mm/yy",autoclose:!0,startDate:new Date,minDate:0})}),$("#prefferedDate").on("change",function(){$(this).val()?($("#prefferedDate-error").hide(),$("#prefferedDate").parent().removeClass("errorField"),""!=$("#timePickerStep3").val()&&u()):($("#datePickError").remove(),$("#prefferedDate-error").show())}),$(function(){$("#nonMsilprefferedDate").datepicker({dateFormat:"dd/mm/yy",autoclose:!0,startDate:new Date,minDate:0})}),$("#nonMsilprefferedDate").on("change",function(){""==$("#nonMsilprefferedDate").val(),$(this).val()?($("#nonMsilprefferedDate-error").hide(),$("#datePickError").remove(),$("#nonMsilprefferedDate").parent().removeClass("errorField"),""!=$("#nonMsilPrefTime").val()&&f()):($("#datePickError").remove(),$("#nonMsilprefferedDate-error").show())}),$("#form-sell-step3").find("#timePickerStep3").on("change",function(){""==$(this).val()?($("#timePickerStep3-error").show(),$("#timePickError").remove()):(u(),$("#timePickerStep3-error").hide())}),$("#form-sell-step3").find("#carOwnerStep3").on("change",function(){""==$(this).val()?$("#carOwnerStep3-error").show():$("#carOwnerStep3-error").hide()}),$("#form-sell-step3").find("#carConditionStep3").on("change",function(){if(""==$(this).val())$("#carConditionStep3-error").show();else{B.condition=$(this).find("option:selected").val(),$("#carConditionStep3-error").hide(),"5"==B.condition?$("#priceMeter").find(".price_amount").text("₹"+withoutCommaSepratedPrice(re.Excellent.min)+" - ₹"+withoutCommaSepratedPrice(re.Excellent.max)):"3"==B.condition?$("#priceMeter").find(".price_amount").text("₹"+withoutCommaSepratedPrice(re.Good.min)+" - ₹"+withoutCommaSepratedPrice(re.Good.max)):$("#priceMeter").find(".price_amount").text("₹"+withoutCommaSepratedPrice(re.Average.min)+" - ₹"+withoutCommaSepratedPrice(re.Average.max));var e=$(this).find("option:selected").data("text"),t="";t=$("#priceMeter").find("img").attr("data-src"),$("#priceMeter").find("img").removeAttr("src"),$("#priceMeter").find("img").attr("src",t+e.toLowerCase()+".png"),$("#priceMeter").find(".averageMeter .text b").text(toTitleCase(e))}});var le=0;$("#form-sell-step3").find("#carStateStep3").on("change",function(){""==$(this).val()?($("#carStateStep3-error").show(),$("#carCityStep3").empty().append('<option value="">'+H+"</option>"),$("#carDealerStep3").empty().append('<option value="">'+V+"</option>")):($("#carStateStep3-error").hide(),0==le&&s($(this).find("option:selected").val(),$(this).find("option:selected").text(),"carCityStep3","carDealerStep3","noselect"))});var se=0;$("#form-sell-step3").find("#carCityStep3").on("change",function(){""==$(this).val()?($("#carCityStep3-error").show(),$("#carDealerStep3").empty().append('<option value="">'+V+"</option>")):($("#carCityStep3-error").hide(),0==se&&d($(this).find("option:selected").val(),$(this).find("option:selected").text(),"carDealerStep3","noselect"))}),$("#form-sell-step3").find("#carDealerStep3").on("change",function(){""==$(this).val()?$("#carDealerStep3-error").show():$("#carDealerStep3-error").hide()}),$("#carKmStep3").on("keyup",function(){g(),$("#carSpanKmStep3-error").text()==$("#carKmStep3").data("empty")&&$("#carSpanKmStep3-error").length>0&&($("#carSpanKmStep3-error").remove(),$("#carKmStep3").parent().removeClass("errorField"))}),$("#editStepThree").on("click",function(){var e=$(this).attr("data-btnname");if("edit"==e){var t=$("#form-sell-step3").find(".carKmStep3").val().split(" ")[0];$("#form-sell-step3").find(".carKmStep3").val(t),$("#carKmStep3, #carOwnerStep3").removeAttr("disabled"),$(".hide_ddlIcon .select2-selection__rendered").css("color","#cccccc"),$(this).attr("data-btnname","update"),window.location.pathname.indexOf("hi-in")>0?$(this).attr("value",$("#sellupdatebtn").val()):$(this).attr("value","UPDATE"),$(window).width()>767&&$(this).css({"margin-top":"100px"}),$("#gogleCaptcha").show(),grecaptcha.reset(),le=0,se=0}if("update"==e)if("block"==$("#carSpanKmStep3-error").css("display")&&($("#carKmSpanStep3-error").remove(),$("#carKmStep3").parent().removeClass("errorField")),$("#form-sell-step3").find(".carKmStep3").val()&&Number($("#form-sell-step3").find(".carKmStep3").val().split(" ")[0])<1e6&&$("#form-sell-step3").find(".carOwnerStep3").val()&&$("#form-sell-step3").find(".carStateStep3").val()&&$("#form-sell-step3").find(".carCityStep3").val()&&$("#form-sell-step3").find(".carDealerStep3").val())if(B.carKm+" KM"!=$("#form-sell-step3").find(".carKmStep3").val()||B.ownerNo!=$("#form-sell-step3 .carOwnerStep3").find("option:selected").val()||ee!=$("#form-sell-step3 .carStateStep3").find("option:selected").text()||B.cityName!=$("#form-sell-step3 .carCityStep3").find("option:selected").text()||ae!=$("#form-sell-step3 .carDealerStep3").find("option:selected").text())if(v()){console.log("Captcha Verified Successfully");var a=$("#form-sell-step3").find(".carKmStep3").val();$("#form-sell-step3").find(".carKmStep3").val().indexOf("KM")==-1&&$("#form-sell-step3").find(".carKmStep3").val(a+" KM"),$("#carKmStep3, #carOwnerStep3, #carStateStep3, #carCityStep3, #carDealerStep3").attr("disabled","disabled"),$(".hide_ddlIcon .select2-selection__rendered").css("color","#000000"),$(this).attr("data-btnname","edit"),window.location.pathname.indexOf("hi-in")>0?$(this).attr("value",$("#selleditbtn").val()):$(this).attr("value","EDIT");var o={carKm:$("#carKmStep3").val(),ownerNo:$("#carOwnerStep3").find("option:selected").val(),state:$("#carStateStep3").find("option:selected").val(),cityVal:$("#carCityStep3").find("option:selected").val(),cityName:$("#carCityStep3").find("option:selected").text(),dealerCode:$("#carDealerStep3").find("option:selected").val().split("-")[0],forCode:$("#carDealerStep3").find("option:selected").val().split("-")[1],dealerAddress:$("#carDealerStep3").find("option:selected").data("address"),dealerParent:$("#carDealerStep3").find("option:selected").data("parent"),dealerName:$("#carDealerStep3").find("option:selected").data("name"),dealerRegion:$("#carDealerStep3").find("option:selected").data("region"),dealerCity:$("#carDealerStep3").find("option:selected").data("city"),dealerMap:$("#carDealerStep3").find("option:selected").data("map").toString(),dealerLoc:$("#carDealerStep3").find("option:selected").data("loc"),dealerLat:$("#carDealerStep3").find("option:selected").data("lat").toString(),dealerLong:$("#carDealerStep3").find("option:selected").data("long").toString()};~o.carKm.indexOf("KM")&&(o.carKm=o.carKm.replace("KM","").trim()),B.carKm=o.carKm,B.ownerNo=o.ownerNo,B.state=o.state,B.cityVal=o.cityVal,B.cityName=o.cityName,B.dealerCode=o.dealerCode,B.forCode=o.forCode,B.dealerAddress=o.dealerAddress,B.dealerParent=o.dealerParent,B.dealerName=o.dealerName,B.dealerRegion=o.dealerRegion,B.dealerCity=o.dealerCity,B.dealerMap=o.dealerMap,B.dealerLoc=o.dealerLoc,B.dealerLat=o.dealerLat,B.dealerLong=o.dealerLong,postDetails(D,JSON.stringify(B)).then(function(e){e&&e.pricerange&&1==e.status?(re=e.pricerange,B.minPrice=parseInt(re.Final_Band.min).toString(),B.maxPrice=parseInt(re.Final_Band.max).toString(),"5"==B.condition?$("#priceMeter").find(".price_amount").text("₹"+withoutCommaSepratedPrice(re.Excellent.min)+" - ₹"+withoutCommaSepratedPrice(re.Excellent.max)):"3"==B.condition?$("#priceMeter").find(".price_amount").text("₹"+withoutCommaSepratedPrice(re.Good.min)+" - ₹"+withoutCommaSepratedPrice(re.Good.max)):$("#priceMeter").find(".price_amount").text("₹"+withoutCommaSepratedPrice(re.Average.min)+" - ₹"+withoutCommaSepratedPrice(re.Average.max))):($("#priceMeter").find(".price_amount").text("*₹0 - ₹0"),$("#formSectionStep2").hide(),$("#upArrowNewSell").css("display","none"),$("#NonMsilformSectionStep2").show(),y())})["catch"](function(e){console.log(e)}),$("#carKmStep3, #carOwnerStep3, #carStateStep3, #carCityStep3, #carDealerStep3").attr("disabled","disabled"),$("#editStepThree").attr("data-btnname","edit"),window.location.pathname.indexOf("hi-in")>0?$(this).attr("value",$("#selleditbtn").val()):$(this).attr("value","EDIT")}else $(".infoIconPopup .infoIconPopup_p").text("Please Verify Captcha to Authorize Your Change"),$(".errorModal").modal("show");else"block"==$("#gogleCaptcha").css("display")?grecaptcha.getResponse().length>0?($("#carKmStep3, #carOwnerStep3, #carStateStep3, #carCityStep3, #carDealerStep3").attr("disabled","disabled"),$("#editStepThree").attr("data-btnname","edit"),window.location.pathname.indexOf("hi-in")>0?$(this).attr("value",$("#selleditbtn").val()):$(this).attr("value","EDIT")):($(".infoIconPopup .infoIconPopup_p").text("Please Verify Captcha to Authorize Your Change"),$(".errorModal").modal("show")):($("#carKmStep3, #carOwnerStep3, #carStateStep3, #carCityStep3, #carDealerStep3").attr("disabled","disabled"),$("#editStepThree").attr("data-btnname","edit"),window.location.pathname.indexOf("hi-in")>0?$(this).attr("value",$("#selleditbtn").val()):$(this).attr("value","EDIT"));else{var i='<span id="carKmSpanStep3-error" class="error invalid-feedback" style="display: block;font-style: normal;">'+$("#carKmStep3").data("empty")+"</span>";""==$("#form-sell-step3").find("#carKmStep3").val()?0==$("#carKmStep3-error").length?!$("#carKmSpanStep3-error").length>0&&($("#form-sell-step3").find("#carKmStep3").parent().after(i),$("#carKmStep3").parent().addClass("errorField")):($("#form-sell-step3").find("#carKmStep3").parent().siblings("span").remove(),$("#carKmStep3").parent().removeClass("errorField")):$("#form-sell-step3").find(".carKmStep3").val()>1e6?!$("#carSpanKmStep3-error").length>0?($("#form-sell-step3").find("#carKmStep3").parent().after(i),$("#carKmStep3").parent().addClass("errorField")):!$("#carSpanKmStep3-error").length>0&&($("#form-sell-step3").find("#carKmStep3").parent().after(i),$("#carKmStep3").parent().addClass("errorField")):($("#form-sell-step3").find("#carKmStep3").parent().siblings("span").remove(),$("#carKmStep3").parent().removeClass("errorField"));var r='<span id="carOwnerSpanStep3-error" class="error invalid-feedback" style="display: block;font-style: normal;">'+$("#carOwnerStep3").data("empty")+"</span>";""==$("#form-sell-step3").find("#carOwnerStep3").find("option:selected").val()&&(0==$("#carOwnerStep3-error").length?!$("#carOwnerSpanStep3-error").length>0&&$("#form-sell-step3").find("#carOwnerStep3").parent().after(r):$("#form-sell-step3").find("#carOwnerStep3").parent().siblings("span").remove());var n='<span id="carConditionSpanStep3-error" class="error invalid-feedback" style="display: block;font-style: normal;">'+$("#carConditionStep3").data("empty")+"</span>";""==$("#form-sell-step3").find("#carConditionStep3").find("option:selected").val()&&(0==$("#carConditionStep3-error").length?!$("#carConditionSpanStep3-error").length>0&&$("#form-sell-step3").find("#carConditionStep3").parent().after(n):$("#form-sell-step3").find("#carConditionStep3").parent().siblings("span").remove());var l='<span id="carStateSpanStep3-error" class="error invalid-feedback" style="display: block;font-style: normal;">'+$("#carStateStep3").data("empty")+"</span>";""==$("#form-sell-step3").find("#carStateStep3").find("option:selected").val()&&(0==$("#carStateStep3-error").length?!$("#carStateSpanStep3-error").length>0&&$("#form-sell-step3").find("#carStateStep3").parent().after(l):$("#form-sell-step3").find("#carStateStep3").parent().siblings("span").remove());var s='<span id="carCitySpanStep3-error" class="error invalid-feedback" style="display: block;font-style: normal;">'+$("#carCityStep3").data("empty")+"</span>";""==$("#form-sell-step3").find("#carCityStep3").find("option:selected").val()&&(0==$("#carCityStep3-error").length||"none"==$("#carCityStep3-error").css("display")?!$("#carCitySpanStep3-error").length>0&&$("#form-sell-step3").find("#carCityStep3").parent().after(s):$("#form-sell-step3").find("#carCityStep3").parent().siblings("span").remove());var c='<span id="carDealerSpanStep3-error" class="error invalid-feedback" style="display: block;font-style: normal;">'+$("#carDealerStep3").data("empty")+"</span>";""==$("#form-sell-step3").find("#carDealerStep3").find("option:selected").val()&&(0==$("#carDealerStep3-error").length||"none"==$("#carDealerStep3-error").css("display")?!$("#carDealerSpanStep3-error").length>0&&$("#form-sell-step3").find("#carDealerStep3").parent().after(c):$("#form-sell-step3").find("#carDealerStep3").parent().siblings("span").remove()),$("#form-sell-step3").find("#carOwnerStep3").on("change",function(){var e='<span id="carOwnerSpanStep3-error" class="error invalid-feedback" style="display: block;font-style: normal;">'+$("#carOwnerStep3").data("empty")+"</span>";""==$(this).val()?0==$("#carOwnerStep3-error").length&&!$("#carOwnerSpanStep3-error").length>0&&$(this).parent().after(e):$(this).parent().siblings("span").remove()}),$("#form-sell-step3").find("#carConditionStep3").on("change",function(){var e='<span id="carConditionSpanStep3-error" class="error invalid-feedback" style="display: block;font-style: normal;">'+$("#carConditionStep3").data("empty")+"</span>";""==$(this).val()?0==$("#carConditionStep3-error").length&&!$("#carConditionSpanStep3-error").length>0&&$(this).parent().after(e):$(this).parent().siblings("span").remove()}),$("#form-sell-step3").find("#carStateStep3").on("change",function(){var e='<span id="carStateSpanStep3-error" class="error invalid-feedback" style="display: block;font-style: normal;">'+$("#carStateStep3").data("empty")+"</span>";""==$(this).val()?0==$("#carStateStep3-error").length&&!$("#carStateSpanStep3-error").length>0&&$(this).parent().after(e):$(this).parent().siblings("span").remove()}),$("#form-sell-step3").find("#carCityStep3").on("change",function(){var e='<span id="carCitySpanStep3-error" class="error invalid-feedback" style="display: block;font-style: normal;">'+$("#carCityStep3").data("empty")+"</span>";""==$(this).val()?0==$("#carCityStep3-error").length&&!$("#carCitySpanStep3-error").length>0&&$(this).parent().after(e):$(this).parent().siblings("span").remove()}),$("#form-sell-step3").find("#carDealerStep3").on("change",function(){var e='<span id="carDealerSpanStep3-error" class="error invalid-feedback" style="display: block;font-style: normal;">'+$("#carDealerStep3").data("empty")+"</span>";""==$(this).val()?0==$("#carDealerStep3-error").length&&!$("#carDealerSpanStep3-error").length>0&&$(this).parent().after(e):$(this).parent().siblings("span").remove()}),$("#form-sell-step3").find("#carKmStep3").on("input",function(){($(this).hasClass("is-valid")||$(this).val())&&$("#carKmSpanStep3-error").css("display","none")})}}),$("#form-sell-step3").find("#carKmStep3").on("keyup",function(){($(this).hasClass("is-valid")||$(this).val())&&$("#carKmSpanStep3-error").css("display","none")}),$("#form-sell-step3").find(".expec_price").on("keypress",function(){""==$(this).val()&&"block"==$("#expectedPrice-error").css("display")}),$("#form-sell-step3").find("#formstepthree").click(function(){if(!$("#prefferedDate-error").val()&&$("#datePickError").length>0&&$("#datePickError").remove(),"edit"==$("#editStepThree").attr("data-btnname")){if("block"==$("#gogleCaptcha").css("display")&&0==grecaptcha.getResponse().length)return $(".infoIconPopup .infoIconPopup_p").text(q),$(".errorModal").modal("show"),!1;if(""==$("#form-sell-step3").find(".expec_price").val(),ne.form())if("₹0 - ₹0*"!=$("#priceMeter").find(".price_amount").text())if($("#form-sell-step3").find(".expec_price").val()){if(parseInt($("#form-sell-step3").find(".expec_price").val())<K&&($("#expectedPrice-error").length>0||$("#expectedPriceSpan-error").length>0)&&($("#expectedPrice-error").css("display","none"),$("#expectedPriceSpan-error").remove()),!u())return!1;$("#form-sell-step3").find("#checkboxStep3:checked").val()&&0==$("#expectedPriceSpan-error").length&&(B.expectedPrice=$("#form-sell-step3").find(".expec_price").val(),B.prefferedDate=$("#form-sell-step3").find(".prefferedDate").val(),B.prefferedTime=$("#form-sell-step3 #timePickerStep3").find("option:selected").val(),B.emoji=$("#form-sell-step3 .smilySec ul li a.active").data("val"),sellStepThreeSubmit(B.name,B.mobile,B.registration_no,B.email,B.vehicleModel,B.dealerName,B.cityName,Number(B.expectedPrice),B.emoji),postDetails(P,JSON.stringify(B)).then(function(e){1==e.status?(tdSubmit({mobile:convertSHA(B.mobile),mobile_plain:B.mobile,model:B.vehicleModel,variant:B.modelVariant,fuel_type:B.fuelType,manufacture_year:B.manufactureYear,color:B.carColor,km_driven:B.carKm,owner:B.ownerNo,state:B.state,city:B.cityName,dealer:B.dealerName,condition:B.condition,estimated_price:B.minPrice+"-"+B.maxPrice,inspection_preferred_date:B.prefferedDate,inspection_preferred_time:B.prefferedTime,expected_price:B.expectedPrice},"trv_sell_car_step_3_msil_cars"),$("#formSectionStep3").hide(),$("#upArrowNewSell").css("display","none"),$("#formSectionStep4").show(),y()):($("#errorModal").find(".infoIconPopup .infoIconPopup_p").text(e.message),$("#errorModal").modal("show"))})["catch"](function(e){console.log(e)}))}else $("#expectedPriceSpan-error").remove(),$("#expectedPrice-error").length>0?$("#expectedPrice-error").text($("#form-sell-step3").find(".expec_price").attr("data-limiterror")).show():($("#expectedPrice-error").hide(),!$("#expectedPriceSpan-error").length>0&&$("#form-sell-step3").find(".expec_price").parent().parent().append('<span id="expectedPriceSpan-error" class="error invalid-feedback" style="display: block;font-style: normal;">'+$("#form-sell-step3").find(".expec_price").attr("data-limiterror")+"</span>"));else $(".infoIconPopup .infoIconPopup_p").text($("#priceRangeError").val()),$(".errorModal").modal("show")}else $(".infoIconPopup .infoIconPopup_p").text(F),$(".errorModal").modal("show")}),$("#formSectionStep4").find("ul li button").click(function(){var e=$(this).text();$("#formSectionStep4").find("ul li button").each(function(){$(this).text()==e?$(this).attr("disabled","disabled"):($(this).addClass("disable"),$(this).attr("disabled","disabled"))}),$("#formSectionStep4").find(".thankyouMsg").show();var t={rating:e,web_Ref_ID:B.web_Ref_ID};postDetails(L,JSON.stringify(t)).then(function(e){console.log("Thank you for your time to rate us.")})["catch"](function(e){console.log(e)})});var ce=$("#form-sell-msil_twenty").validate({rules:{prefDate_Msil_twe:{required:!0},PrefTime_Msil_twe:{required:!0},state_Msil_twe:{required:!0},city_Msil_twe:{required:!0},dealer_Msil_twe:{required:!0}},messages:{prefDate_Msil_twe:{required:$("#prefDate_Msil_twe").attr("data-empty")},PrefTime_Msil_twe:{required:$("#PrefTime_Msil_twe").attr("data-empty")},state_Msil_twe:{required:$("#state_Msil_twe").attr("data-empty")},city_Msil_twe:$("#city_Msil_twe").attr("data-empty"),dealer_Msil_twe:$("#dealer_Msil_twe").attr("data-empty")},errorElement:"div",errorPlacement:function(e,t){e.addClass("errorMsg"),"checkbox"===t.prop("type")?e.insertAfter(t.next("label")):"select-one"===t.prop("type")?e.insertAfter(t.parents(".form__item")):(e.insertAfter(t),e.parent().addClass("errorField"))},success:function(e){e.parent().removeClass("errorField")},submitHandler:function(e){e.submit()}});$("#prefDate_Msil_twe").on("change",function(){""==$("#prefDate_Msil_twe").val()?($(".errorMsg").css({color:"red",position:"absolute",bottom:"-20px","font-size":"12px","font-weight":"normal"}),$(this).parent().addClass("errorField")):$(".errorMsg").css({color:"",position:"absolute",bottom:"-20px","font-size":"12px","font-weight":"normal"}),$(this).val()?($("#prefDate_Msil_twe-error").hide(),$("#datePickError").remove(),$("#prefDate_Msil_twe").parent().removeClass("errorField"),""!=$("#PrefTime_Msil_twe").val()&&b()):($("#datePickError").remove(),$("#prefDate_Msil_twe-error").show())}),$(function(){$("#prefDate_Msil_twe").datepicker({changeMonth:!0,changeYear:!0,dateFormat:"dd/mm/yy",autoclose:!0,startDate:new Date,minDate:0})}),$("#form-sell-msil_twenty").find("#PrefTime_Msil_twe").on("change",function(){""==$(this).find("option:selected").val()?($("#PrefTime_Msil_twe-error").show(),$("#timePickError").remove()):(b(),$("#PrefTime_Msil_twe-error").hide())}),$("#form-sell-msil_twenty").find("#state_Msil_twe").on("change",function(){""==$(this).find("option:selected").val()?$("#state_Msil_twe-error").show():$("#state_Msil_twe-error").hide()}),$("#form-sell-msil_twenty").find("#dealer_Msil_twe").on("change",function(){""==$(this).find("option:selected").val()?$("#dealer_Msil_twe-error").show():$("#dealer_Msil_twe-error").hide()}),$("#state_Msil_twe").on("change",function(){var e=$(this).find("option:selected").val(),t=$(this).find("option:selected").text();e&&t?h(e,t,"city_Msil_twe","dealer_Msil_twe","noselect"):($("#city_Msil_twe").empty().append('<option value="">'+H+"</option>"),$("#dealer_Msil_twe").empty().append('<option value="">'+V+"</option>"))});var W,G;$("#form-sell-msil_twenty").find("#city_Msil_twe").on("change",function(){G=$(this).find("option:selected").val(),""==$(this).find("option:selected").val()?($("#city_Msil_twe-error").show(),$("#dealer_Msil_twe").empty().append('<option value="">'+V+"</option>")):($("#city_Msil_twe-error").hide(),W=$(this).find("option:selected").text(),W&&G&&_(G,W,"dealer_Msil_twe","noselect"))}),$("#form-sell-msil_twenty").find(".blueButton").click(function(e){if(ce.form()&&b()){var t=new Date,o=("0"+t.getDate()).slice(-2)+"-"+t.toLocaleString("en-us",{month:"short"})+"-"+t.getFullYear()+" "+t.getHours()+":"+t.getMinutes()+":"+t.getSeconds();B.book_date=o.toString(),B.prefferedDate=n($("#prefDate_Msil_twe").val()),B.prefferedTime=$("#PrefTime_Msil_twe").val(),B.state=$("#state_Msil_twe").find("option:selected").val(),B.cityVal=$("#city_Msil_twe").find("option:selected").val(),B.cityName=$("#city_Msil_twe").find("option:selected").text(),B.dealerCode=$("#dealer_Msil_twe").find("option:selected").val().split("-")[0],B.forCode=$("#dealer_Msil_twe").find("option:selected").val().split("-")[1],B.dealerAddress=$("#dealer_Msil_twe").find("option:selected").data("address"),B.dealerPinCode=$("#dealer_Msil_twe").find("option:selected").data("pincode"),B.dealerParent=$("#dealer_Msil_twe").find("option:selected").data("parent"),B.dealerName=$("#dealer_Msil_twe").find("option:selected").data("name"),B.dealerRegion=$("#dealer_Msil_twe").find("option:selected").data("region"),B.dealerCity=$("#dealer_Msil_twe").find("option:selected").data("city"),B.dealerMap=$("#dealer_Msil_twe").find("option:selected").data("map").toString(),B.dealerLoc=$("#dealer_Msil_twe").find("option:selected").data("loc"),B.dealerLat=$("#dealer_Msil_twe").find("option:selected").data("lat").toString(),B.dealerLong=$("#dealer_Msil_twe").find("option:selected").data("long").toString(),showLoader(),postDetailsWithoutLoader(R,JSON.stringify(B)).then(function(e){1==e.status?(hideLoader(),tdSubmit({inspection_date:B.prefferedDate,inspection_time:B.prefferedTime,state:B.state,city:B.cityVal,dealer:B.dealerName,mobile:convertSHA(B.mobile),mobile_plain:B.mobile},"trv_sell_car_step_2_older_than_20_years"),$("#MsilformtwentyoldStep1").hide(),$("#upArrowNewSell").css("display","none"),$("#NonMsilformSectionStep2").show(),window.history.pushState("","",window.location.origin+window.location.pathname),y(),a()):(hideLoader(),$("#errorModal").find(".infoIconPopup .infoIconPopup_p").text(e.message),$("#errorModal").modal("show"))})["catch"](function(e){})}}),$("#closeErrorModel").on("click",function(){$("#errorModal").modal("hide"),"sellcar"==$("#pagetype").val()&&(~window.location.href.indexOf("hi-IN")||~window.location.href.indexOf("hi-in")?window.open("/hi-in/sell-cars","_self"):window.open("/sell-cars","_self"))})}),function(){ra.sellCarousel={settings:{target:".mod-sellCarousel"},init:function(){this.bindSellCarouselEvent()},bindSellCarouselEvent:function(){$(".sellpeace-carousel").owlCarousel({loop:!0,margin:15,nav:!0,dots:!1,responsive:{0:{items:1},600:{items:2},1e3:{items:3}}})}}}(ra),$(document).ready(function(){var e="Sell Car - Step 1",t="Click",a="Submit",o="Sell Car - Step 2 - MSIL Car",i="Sell Car - Step 3 - MSIL Car",r="Sell Car - Step 2- Non MSIL Car",n="Sell Car - Step 2- Older than 15 Years";$("#form-sell-step1").find(".phoneTxtfield  input").click(function(){var a=$(this).parent().find("label").text().trim(),o=a.replace("*","");TrackEventMSIL(e,t,o)}),$("#form-sell-step1").find(".custumCheckbox #checkbox1").click(function(){var a="Privacy Policy";TrackEventMSIL(e,t,a)}),$("#form-sell-step1").find(".SellOTPSubmit1").click(function(){var a="Verify OTP";TrackEventMSIL(e,t,a)}),$("#form-sell-step1").find(".SellOTPSubmit1 a").click(function(){var a="Resend OTP";TrackEventMSIL(e,t,a)}),$("#form-sell-step1").find("#formstepone").on("click",function(){var e="Sell Car - Step 1",t="Sell Car - Step 1 - Form Submit";TrackEventMSIL(t,a,e)}),$("#form-sell-step2").find(".editStepTwo").click(function(){var e=$(this).val();TrackEventMSIL(o,t,e)}),$("#form-sell-step2").find(".inputmain .perDetTxtNew input").click(function(){var e=$(this).parent().find("small").text().trim(),a=e.replace("*","");TrackEventMSIL(o,t,a)}),$("#form-sell-step2").find(".inputmain .phoneTxtfield .carKmStep2").click(function(){var e=$(this).parent().parent().parent().find(".plcHder").text().trim(),a=e.replace("*","");TrackEventMSIL(o,t,a)}),$("#form-sell-step2").find("#editStepTwo").click(function(){var e=$("#editStepTwo").val();if("EDIT DETAILS"==e)var t="Update",a="Submit";else var t="Edit Details",a="Click";TrackEventMSIL(o,a,t)}),$("#form-sell-step2").find(".formsteptwo").click(function(){var e="Submit",t="Sell Car - Step 2",a="Sell Car - Step 2 - MSIL Car - Form Submit";TrackEventMSIL(a,e,t)}),$("#form-sell-step2").find(".custom_select").on("change",function(){var e=$(this).find("option:first").text(),a=e.replace("*","");TrackEventMSIL(o,t,a)}),$("#form-sell-step3").find("#editStepThree").click(function(){var e=$(this).val();if("EDIT"==e){var t="Click";TrackEventMSIL(i,t,e)}else{var t="Submit";TrackEventMSIL(i,t,e)}}),$("#carKmStep3").click(function(){var e="Kms Driven";TrackEventMSIL(i,t,e)}),$("#form-sell-step3").find(".prefferedDate").click(function(){var e="Preferred Date";TrackEventMSIL(i,t,e)}),$("#form-sell-step3").find(".formSecRight .custom_select").on("change",function(){var e=$(this).find("option:first").text(),a=e.replace("*","");TrackEventMSIL(i,t,a)}),$("#form-sell-step3").find(".formSecLeft .custom_select").on("change",function(){var e=$(this).find("option:first").text(),a=e.replace("*","");TrackEventMSIL(i,t,a)}),$("#form-sell-step3").find(".formSecMiddle .custom_select").on("change",function(){var e=$(this).parent().parent().parent().parent().find(".averageMeter .text b").text(),a=$(this).parent().parent().parent().parent().find(".evaluatePriceRange strong").text(),o=a.replace("₹","").replace("₹",""),i=e+"-"+o,r="Sell Car - Step 3 - MSIL Car - Estimated Price Range";TrackEventMSIL(r,t,i)}),$("#form-sell-step3").find(".expec_price").on("change",function(){var e=$(this).val(),a="Expected Price-"+e;TrackEventMSIL(i,t,a)}),$("#formstepthree").click(function(){var e="Sell Car - Step 3 - MSIL Car - Form Submit",t="Submit",a="Sell Car - Step 3";TrackEventMSIL(e,t,a)}),$("#form-sell-non-msil").find(".form__item .custom_select").on("change",function(){var e=$(this).find("option:first").text(),a=e.replace("*","");TrackEventMSIL(r,t,a)}),$("#form-sell-non-msil").find(".inputmain .phoneTxtfield .nonMsilOther").on("click",function(){var e="Enter Model Others";TrackEventMSIL(r,t,e)}),$("#form-sell-non-msil").find(".inputmain .phoneTxtfield .nonMsilOtherModel").on("click",function(){var e="Enter Variant Others";TrackEventMSIL(r,t,e)}),$("#form-sell-non-msil").find(".inputmain .phoneTxtfield .nonMsilManufacturing").on("click",function(){var e=$(this).parent().parent().parent().find(".plcHder").text().trim(),a=e.replace("*","");TrackEventMSIL(r,t,a)}),$("#form-sell-non-msil").find(".inputmain .phoneTxtfield .nonMsilprefferedDate").on("click",function(){
var e=$(this).prop("placeholder"),a=e.replace("*","");TrackEventMSIL(r,t,a)}),$("#form-sell-non-msil").find(".blueButton").on("click",function(){var e="Sell Car - Step 2",t="Sell Car - Step 2- Non MSIL Car - Form Submit";TrackEventMSIL(t,a,e)}),$("#form-sell-msil_twenty").find(".form__item select").on("change",function(){var e=$(this).find("option:first").text(),a=e.replace("*","");TrackEventMSIL(n,t,a)}),$("#form-sell-msil_twenty").find(".blueButton").on("click",function(){var e="Sell Car - Step 2",t="Sell Car - Step 2- Older than 15 Years - Form Submit";TrackEventMSIL(t,a,e)}),$("#form-sell-msil_twenty").find(".prefDate_Msil_twe").click(function(){var e=$(this).prop("placeholder"),a=e.replace("*","");TrackEventMSIL(n,t,a)}),$("#form-home").find(".phoneTxtfield  input").click(function(){var a=$(this).parent().find("label").text().trim(),o=a.replace("*","");TrackEventMSIL(e,t,o)}),$("#form-home").find(".custumCheckbox #checkbox1").click(function(){var a="Privacy Policy";TrackEventMSIL(e,t,a)}),$("#form-home").find(".SellOTPSubmit1").click(function(){var a="Verify OTP";TrackEventMSIL(e,t,a)}),$("#form-home").find(".SellOTPSubmit1 a").click(function(){var a="Resend OTP";TrackEventMSIL(e,t,a)}),$("#form-home").find(".blueButton").on("click",function(){var e="Sell Car - Step 1",t="Sell Car - Step 1 - Form Submit";TrackEventMSIL(t,a,e)}),$("#form-sell-step3").find(".formSecRight .custumCheckbox .checkbox3").on("click",function(){var e="Privacy Policy",a="Sell Car - Step 3 - MSIL Car";TrackEventMSIL(a,t,e)}),$("#formSectionStep4").find(".formSectionSteps .formSecLeft ul li button").on("click",function(){var e=$(this).text(),a="Sell Car - Step 4 - Feedback Score";TrackEventMSIL(a,t,e)}),$("#upArrowNewSell").on("click",function(e){var a=$("#upArrowNewSell").find("a").text().trim(" "),o="MS TRV Enquire Now";TrackEventMSIL(o,t,a)}),$(".sellVidSec").find(".sellpeace-carousel.owl-carousel .owl-nav button").click(function(e){var a=$(this).find("span").attr("aria-label"),o="MS TRV YT Video";TrackEventMSIL(o,t,a)})}),function(){ra.toprated={settings:{target:".mod-toprated"},init:function(){this.bindCarouselEvent()},bindCarouselEvent:function(){$(".car_information_slider").owlCarousel({margin:20,responsiveClass:!0,autoplay:!0,autoplayTimeout:6e3,nav:!0,loop:!1,rewind:!0,lazyLoad:!0,items:4,autoplayHoverPause:!1,dots:!1,responsive:{0:{items:1,margin:10},560:{items:2,margin:10},767:{items:2,margin:10},992:{items:3},1100:{items:4}}})}}}(ra),$(document).ready(function(){setTimeout(function(){$(".car_information_slider").css({opacity:1})},3e3)}),$(document).ready(function(){var e=$("#pagetype").val();if("carmela"==e){var t=getDataFromLocal("compareEmela");t?($(".carcompare").find(".compareCount").text(t.length+""),$(".comparebtn").find(".compareCount").text(t.length+""),setCompareList()):$(".comparecar_content").find(".compareNowButt").hide()}else{var t=getDataFromLocal("compare");t?($(".carcompare").find(".compareCount").text(t.length+""),$(".comparebtn").find(".compareCount").text(t.length+""),setCompareList()):$(".comparecar_content").find(".compareNowButt").hide()}var a=getDataFromLocal("wishlist");if(a){if($(".carwishlist").find(".wishlistCount").text(a.length+""),setWishList(),a.length){for(var o=a[0].carid,i=1;i<a.length;i++)o=o+","+a[i].carid;postDetailsWithoutLoader("/api/sitecore/CarListing/SyncWishList",JSON.stringify({carid:o})).then(function(e){console.log("+++SyncWishList",e)})["catch"](function(e){console.log(e)})}}else $(".wishlist_content").find(".compareNowButt").hide();show_hideCompare(),$(".shareIcon").find(".icon1.notListing").on("click",function(){var e={carid:$(this).data("carid"),carname:$(this).data("carname"),price:$(this).data("price"),carimage:$(this).data("image")};$(this).hasClass("active")?removeWishList(e):($(this).toggleClass("active"),addWishList(e),addTowishlistClickEvent())}),$(".wishlist_content").find(".removebtn").on("click",function(){setDataInLocal("wishlist",JSON.stringify([])),reloadPage()}),$(".comparecar_content").find(".removebtn").on("click",function(){var e=$("#pagetype").val();"carmela"==e?(setDataInLocal("compareEmela",JSON.stringify([])),$(".add_carsection").length?window.open("/emela/comparecars","_self"):reloadPage()):(setDataInLocal("compare",JSON.stringify([])),$(".add_carsection").length?window.open("/comparecars","_self"):reloadPage())}),$(".checkbox_wrapper").find("#compareCheckBox").on("click",function(){var e={carid:$(this).data("carid"),carname:$(this).data("carname"),price:withoutCommaSepratedPrice($(this).data("price")),carimage:$(this).data("image"),bookStatus:$(this).data("book")};if($(this).is(":checked")){var t=getDataFromLocal("compare");ra.cfg.isMobile?t&&2==t.length?($(this).prop("checked",!1),$(".infoIconPopup .infoIconPopup_p").text("You can't compare more than 2 cars"),$(".errorModal").modal("show")):addCompare(e):t&&4==t.length?($(this).prop("checked",!1),$(".infoIconPopup .infoIconPopup_p").text("You can't compare more than 4 cars"),$(".errorModal").modal("show")):addCompare(e),checkboxEventTrack()}else removeCompare(e)}),$(".compareCarBoxMain").on("click","span.removeCar",function(){var e={carid:$(this).data("carid")};removeCompare(e)}),$(".wishCarBoxMain").on("click","span.removeCarFromwish",function(){var e={carid:$(this).data("carid")};removeWishList(e)}),$(".checkbox_wrapper").find("#compareCheckBox").each(function(){var e=getDataFromLocal("compare");if(e)for(var t=0;t<e.length;t++)e[t].carid==$(this).data("carid")&&$(this).prop("checked",!0)}),$(".shareIcon").find(".icon1.notListing").each(function(){var e=getDataFromLocal("wishlist");if(e)for(var t=0;t<e.length;t++)e[t].carid==$(this).data("carid")&&$(this).toggleClass("active")}),$("#add-car").click(function(){var e=$(".addcomparecarbox").length;if(e>4||4==e)$(".infoIconPopup .infoIconPopup_p").text("You can't compare more than 4 cars"),$(".errorModal").modal("show");else{var t=$("#pagetype").val();"carmela"==t?window.location.href=getCookie("pagePathinCook"):window.location.href="/buy-car"}}),$(".carmelaaddmore").click(function(){var e=$(".addcomparecarbox").length;if($(window).width()<1e3)if(e>2||2==e)$(".infoIconPopup .infoIconPopup_p").text("You can't compare more than 2 cars"),$(".errorModal").modal("show");else{var t=$("#pagetype").val();"carmela"==t?window.location.href=getCookie("pagePathinCook"):window.location.href="/buy-car"}else if(e>4||4==e)$(".infoIconPopup .infoIconPopup_p").text("You can't compare more than 4 cars"),$(".errorModal").modal("show");else{var t=$("#pagetype").val();"carmela"==t?window.location.href=getCookie("pagePathinCook"):window.location.href="/buy-car"}})});